.. _data_handler_custum_adjust:

*************
調整
*************

| PD Repeaterや各PD Handlerにて一時的な書き込みや、頻繁な書き込み用にメモリ上のファイルシステム(tmpfs)を用いています。
| この部分はデフォルトでサイズを設定していますが、WEB UIの「IoTデータ」→「調整」タブから調整が可能になっています。

.. figure:: adjust.png
  :scale: 100%

.. list-table:: 調整メニューの設定項目
    :widths: 30 70
    :header-rows: 1
    
    * - 設定項目
      - 説明 
    * - PD Repeaterデータベースサイズ[MB]
      - PD Repeterが作成するデータベースの最大サイズの指定です。16 ～ ( 認識メモリ / 8 - 3 ) [MByte]の範囲で指定可能です。
    * - PD Repeater用メモリサイズ[MB]
      - PD Repeterがデータベースの書き込みに用いるtmpfsのサイズ指定です。35 ～ ( 認識メモリ / 4 ) [MByte]の範囲で指定可能です。
    * - ログ領域用メモリサイズ[MB]
      - PD Repeter及び各PD Handler等のログ書き込みに用いるtmpfsのサイズ指定です。128 ～ 256 [MByte]の範囲で指定可能です。
    * - BLE Handler用本体内データ用サイズ[MB]
      - PD Handler BLEの本体内のデータ書き込み先のtmpfsのサイズ指定です。16 ～ 64 [MByte]の範囲で指定可能です。
    * - BLE Handler用一時確保サイズ[MB]
      - PD Handler BLEの一時保存領域に用いるtmpfsのサイズ指定です。3 ～ 16 [MByte]の範囲で指定可能です。
    * - Modbus Server用メモリサイズ[MB]
      - PD Handler Modbus Serverの一時保存領域に用いるtmpfsのサイズ指定です。1 ～ 16 [MByte]の範囲で指定可能です。

保存ボタンを押すことに反映されます。

.. raw:: latex

   \clearpage
   
.. warning::
   * PD Repeaterのデータベースサイズが前回時点の物より小さいサイズを指定した場合、
     データベースファイルを削除します。そのため、重要なデータが存在しない事を確認の上、設定を変更してください。
   * PD Repeaterのデータベースとメモリサイズは以下である必要があります。 :

         (データベースサイズ x 2 + 1) < (メモリサイズ)

     設定変更時に、エラーとなる場合にはご参考にしてください。

.. raw:: latex

   \clearpage
