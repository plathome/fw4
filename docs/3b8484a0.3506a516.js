(window.webpackJsonp=window.webpackJsonp||[]).push([[86],{154:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return c})),t.d(n,"metadata",(function(){return r})),t.d(n,"rightToc",(function(){return l})),t.d(n,"default",(function(){return d}));var a=t(3),b=(t(0),t(484));const c={id:"lua_extention",title:"LUA\u8a00\u8a9e\u62e1\u5f35\u30cf\u30f3\u30c9\u30e9",sidebar_label:"LUA\u8a00\u8a9e\u62e1\u5f35\u30cf\u30f3\u30c9\u30e9",description:"OpenBlocks\u306b\u7528\u3044\u3066\u3044\u308bIoT\u30b2\u30fc\u30c8\u30a6\u30a7\u30a4\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u300cFW5\u300d\u306e\u30c7\u30fc\u30bf\u30cf\u30f3\u30c9\u30ea\u30f3\u30b0\u306b\u95a2\u3059\u308b\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u300cLua\u62e1\u5f35\u300d\u306e\u30da\u30fc\u30b8\u3067\u3059\u3002",keywords:["IoT","Data Handling","PD Repeater","PD Handler","Device Shadow","customize","Lua","RS-SERIAL","RS232C","RS485","data_handler_custom_lua_extention"]},r={unversionedId:"openblocks/fw5/data_handling/lua_extention",id:"openblocks/fw5/data_handling/lua_extention",isDocsHomePage:!1,title:"LUA\u8a00\u8a9e\u62e1\u5f35\u30cf\u30f3\u30c9\u30e9",description:"OpenBlocks\u306b\u7528\u3044\u3066\u3044\u308bIoT\u30b2\u30fc\u30c8\u30a6\u30a7\u30a4\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u300cFW5\u300d\u306e\u30c7\u30fc\u30bf\u30cf\u30f3\u30c9\u30ea\u30f3\u30b0\u306b\u95a2\u3059\u308b\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u300cLua\u62e1\u5f35\u300d\u306e\u30da\u30fc\u30b8\u3067\u3059\u3002",source:"@site/docs/openblocks/fw5/data_handling/lua_extention.md",slug:"/openblocks/fw5/data_handling/lua_extention",permalink:"/docs/openblocks/fw5/data_handling/lua_extention",version:"current",sidebar_label:"LUA\u8a00\u8a9e\u62e1\u5f35\u30cf\u30f3\u30c9\u30e9",sidebar:"sidebar",previous:{title:"PD Broker",permalink:"/docs/openblocks/fw5/data_handling/pd_broker"},next:{title:"PDHMS\u306e\u8abf\u6574",permalink:"/docs/openblocks/fw5/data_handling/adjust"}},l=[{value:"Lua\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306e\u914d\u7f6e",id:"lua\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306e\u914d\u7f6e",children:[]},{value:"BLE Lua",id:"ble-lua",children:[{value:"BLE\u306eLua\u30cf\u30f3\u30c9\u30e9\u306e\u95a2\u6570\u69cb\u6210",id:"ble\u306elua\u30cf\u30f3\u30c9\u30e9\u306e\u95a2\u6570\u69cb\u6210",children:[]},{value:"BLE\u30a2\u30c9\u30d0\u30bf\u30a4\u30b8\u30f3\u30b0\u5bfe\u5fdc\u306eLua",id:"ble\u30a2\u30c9\u30d0\u30bf\u30a4\u30b8\u30f3\u30b0\u5bfe\u5fdc\u306elua",children:[]},{value:"GATT\u901a\u4fe1\uff08\u53cc\u65b9\u5411\u901a\u4fe1\uff09",id:"gatt\u901a\u4fe1\uff08\u53cc\u65b9\u5411\u901a\u4fe1\uff09",children:[]},{value:"\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9/\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u64cd\u4f5c",id:"\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u64cd\u4f5c",children:[]}]},{value:"EnOcean Lua",id:"enocean-lua",children:[{value:"EnOcean\u767b\u9332\u3068Lua\u95a2\u6570\u306e\u95a2\u4fc2",id:"enocean\u767b\u9332\u3068lua\u95a2\u6570\u306e\u95a2\u4fc2",children:[]},{value:"\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9/\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u64cd\u4f5c",id:"\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u64cd\u4f5c-1",children:[]},{value:"\u6a19\u6e96\u767b\u9332\u30bb\u30f3\u30b5\u30fc\u306eLua\u30cf\u30f3\u30c9\u30e9\u7de8\u96c6",id:"\u6a19\u6e96\u767b\u9332\u30bb\u30f3\u30b5\u30fc\u306elua\u30cf\u30f3\u30c9\u30e9\u7de8\u96c6",children:[]},{value:"\u65b0\u898f\u30bb\u30f3\u30b5\u30fc\u306eLua\u30cf\u30f3\u30c9\u30e9\u4f5c\u6210",id:"\u65b0\u898f\u30bb\u30f3\u30b5\u30fc\u306elua\u30cf\u30f3\u30c9\u30e9\u4f5c\u6210",children:[]}]},{value:"RS-SERIAL Lua",id:"rs-serial-lua",children:[{value:"RS-SERIAL Lua \u306e\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\uff08\u30b7\u30ea\u30a2\u30eb\u30dd\u30fc\u30c8\u5074\uff09",id:"rs-serial-lua-\u306e\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\uff08\u30b7\u30ea\u30a2\u30eb\u30dd\u30fc\u30c8\u5074\uff09",children:[]},{value:"RS-SERIAL Lua \u306e\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\uff08\u30af\u30e9\u30a6\u30c9\u3068\u306e\u901a\u4fe1\u5074\uff09",id:"rs-serial-lua-\u306e\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\uff08\u30af\u30e9\u30a6\u30c9\u3068\u306e\u901a\u4fe1\u5074\uff09",children:[]},{value:"RS-SERIAL Lua \u3067 Device Shadow \u3092\u4f7f\u3046",id:"rs-serial-lua-\u3067-device-shadow-\u3092\u4f7f\u3046",children:[]},{value:"RS485\u534a\u4e8c\u91cd\u901a\u4fe1\u3067\u306e\u6ce8\u610f\u70b9",id:"rs485\u534a\u4e8c\u91cd\u901a\u4fe1\u3067\u306e\u6ce8\u610f\u70b9",children:[]},{value:"RS-SERIAL\u306eLua\u7528\u95a2\u6570",id:"rs-serial\u306elua\u7528\u95a2\u6570",children:[]},{value:"\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9/\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u64cd\u4f5c",id:"\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u64cd\u4f5c-2",children:[]}]},{value:"B\u30eb\u30fc\u30c8Lua",id:"b\u30eb\u30fc\u30c8lua",children:[{value:"\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9/\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u64cd\u4f5c",id:"\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u64cd\u4f5c-3",children:[]}]},{value:"HVSMC Lua",id:"hvsmc-lua",children:[{value:"\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9/\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u64cd\u4f5c",id:"\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u64cd\u4f5c-4",children:[]}]}],i={rightToc:l};function d({components:e,...n}){return Object(b.b)("wrapper",Object(a.a)({},i,n,{components:e,mdxType:"MDXLayout"}),Object(b.b)("p",null,"LUA\u8a00\u8a9e\u306f\u3001C\u8a00\u8a9e\u30d9\u30fc\u30b9\u306e\u30d0\u30a4\u30ca\u30ea\u30fc\u5b9f\u884c\u30e2\u30b8\u30e5\u30fc\u30eb\u306b\u3001\u9ad8\u7d1a\u8a00\u8a9e\u30b9\u30af\u30ea\u30d7\u30c8\u5b9f\u884c\u74b0\u5883\u3092\u30a2\u30c9\u30aa\u30f3\u3067\u304d\u308b\u30b7\u30b9\u30c6\u30e0\u3067\u3059\u3002",Object(b.b)("br",{parentName:"p"}),"\n","OpenBlocks\u306ePD Handler\u3067\u306f\u30b7\u30b9\u30c6\u30e0\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u306e\u4e3b\u3060\u3063\u305f\u51e6\u7406\u7cfb\u304cLUA\u8a00\u8a9e\u304b\u3089\u5229\u7528\u3067\u304d\u308b\u95a2\u6570\u3068\u3057\u3066\u7528\u610f\u3055\u308c\u3066\u304a\u308a\u3001LUA\u8a00\u8a9e\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u7528\u3044\u3066\u6a5f\u80fd\u3092\u62e1\u5f35\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\n\u4f8b\u3048\u3070EnOcean\u30c7\u30d0\u30a4\u30b9\u306e\u69d8\u306b\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u304c\u3042\u308c\u3070\u3001\u305d\u306e\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u306b\u3088\u3063\u3066\u30d0\u30a4\u30ca\u30ea\u30fc\u30c7\u30fc\u30bf\u5217\u304c\u898f\u5247\u5316\u3055\u308c\u3066\u3044\u308b\u306e\u3067\u3001EnOcean\u30b3\u30df\u30e5\u30cb\u30c6\u30a3\u304b\u3089\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u306e\u4ed5\u69d8\u3092\u624b\u306b\u5165\u308c\u308c\u3070\u3001\u5bb9\u6613\u306b\u30c7\u30fc\u30bf\u3092\u62bd\u51fa\u3057json\u30c6\u30ad\u30b9\u30c8\u5316\u304c\u3067\u304d\u307e\u3059\u3002",Object(b.b)("br",{parentName:"p"}),"\n","\u672c\u7ae0\u3067\u306fBLE(\u30d3\u30fc\u30b3\u30f3\u578b\u30bb\u30f3\u30b5\u30fc)\u3068EnOcean(EEP\u4ed5\u69d8)\u304a\u3088\u3073RS-232C\u3084RS-485\u306a\u3069\u306e\u30b7\u30ea\u30a2\u30eb\u901a\u4fe1\u306e\u6a5f\u80fd\u62e1\u5f35\u30cf\u30f3\u30c9\u30e9\u306e\u4f5c\u6210\u306b\u3064\u3044\u3066\u89e3\u8aac\u3057\u3066\u3044\u307e\u3059\u3002",Object(b.b)("br",{parentName:"p"}),"\n","\u307e\u305f\u3001Lua\u3092\u5229\u7528\u3059\u308b\u524d\u306b\u306f\u3001BLE/EnOcean/RS-SERIAL\u306a\u3069\u306e\u5404\u30cf\u30f3\u30c9\u30e9\u3092\u524d\u3082\u3063\u3066",Object(b.b)("a",Object(a.a)({parentName:"p"},{href:"/docs/openblocks/fw5/service/iotdata#%E3%83%A2%E3%82%B8%E3%83%A5%E3%83%BC%E3%83%AB%E8%B5%B7%E5%8B%95%E5%88%B6%E5%BE%A1"}),"\u30e2\u30b8\u30e5\u30fc\u30eb\u8d77\u52d5\u5236\u5fa1"),"\u3067\u30a2\u30af\u30c6\u30a3\u30d6\u306b\u3057\u3066\u304a\u304f\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002  "),Object(b.b)("h2",{id:"lua\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306e\u914d\u7f6e"},"Lua\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u306e\u914d\u7f6e"),Object(b.b)("p",null,"\u305d\u308c\u305e\u308cBLE/EnOcean/RS-SERIAL\u5404\u30cf\u30f3\u30c9\u30e9\u6bce\u306b\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u4e0b\u56f3\u4f8b\u306e\u901a\u308a\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u5206\u3051\u3057\u3066\u914d\u7f6e\u3057\u3066\u3042\u308a\u307e\u3059\u3002",Object(b.b)("br",{parentName:"p"}),"\n",Object(b.b)("img",{src:t(654).default}),Object(b.b)("br",{parentName:"p"}),"\n","\u307e\u305f\u3001\u305d\u308c\u305e\u308c\u306eLua\u30d5\u30a1\u30a4\u30eb\u306fdevices\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3068devices_custom\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u4e8c\u3064\u306e\u9818\u57df\u306b\u533a\u5225\u3057\u4fdd\u5b58\u3057\u3066\u3044\u307e\u3059\u3002  "),Object(b.b)("h5",{id:"devices\u30c7\u30a3\u30ec\u30af\u30c8\u30ea"},"devices\u30c7\u30a3\u30ec\u30af\u30c8\u30ea"),Object(b.b)("p",null,"\u3077\u3089\u3063\u3068\u30db\u30fc\u30e0\u304b\u3089\u63d0\u4f9b\u3055\u308c\u308b\u6a19\u6e96\u5bfe\u5fdc\u30bb\u30f3\u30b5\u30fc\u7528\u306eLua\u30d5\u30a1\u30a4\u30eb\u306e\u4fdd\u5b58\u9818\u57df\u3067\u3059\u3002  "),Object(b.b)("h5",{id:"devices_custom\u30c7\u30a3\u30ec\u30af\u30c8\u30ea"},"devices_custom\u30c7\u30a3\u30ec\u30af\u30c8\u30ea"),Object(b.b)("p",null,"\u30e6\u30fc\u30b6\u30fc\u304c\u81ea\u5206\u3067\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3057\u305fLua\u30d5\u30a1\u30a4\u30eb\u3092\u4fdd\u5b58\u3059\u308b\u9818\u57df\u3067\u3059\u3002  "),Object(b.b)("h5",{id:"func\u30c7\u30a3\u30ec\u30af\u30c8\u30ea"},"func\u30c7\u30a3\u30ec\u30af\u30c8\u30ea"),Object(b.b)("p",null,"\u3077\u3089\u3063\u3068\u30db\u30fc\u30e0\u304b\u3089\u63d0\u4f9b\u3055\u308c\u308b\u6a19\u6e96\u30e6\u30fc\u30c6\u30a3\u30ea\u30c6\u30a3\u95a2\u6570\u306eLua\u30d5\u30a1\u30a4\u30eb\u3092\u4fdd\u5b58\u3059\u308b\u9818\u57df\u3067\u3059\u3002  "),Object(b.b)("h5",{id:"func_custom\u30c7\u30a3\u30ec\u30af\u30c8\u30ea"},"func_custom\u30c7\u30a3\u30ec\u30af\u30c8\u30ea"),Object(b.b)("p",null,"\u30e6\u30fc\u30b6\u30fc\u304c\u81ea\u5206\u3067\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3057\u305f\u30e6\u30fc\u30c6\u30a3\u30ea\u30c6\u30a3\u95a2\u6570\u306eLua\u30d5\u30a1\u30a4\u30eb\u3092\u4fdd\u5b58\u3059\u308b\u9818\u57df\u3067\u3059\u3002  "),Object(b.b)("h4",{id:"\u6a19\u6e96\u30b5\u30dd\u30fc\u30c8\u30bb\u30f3\u30b5\u30fc\u306elua\u30d5\u30a1\u30a4\u30eb\u3092\u624b\u76f4\u3057\u3066\u4f7f\u3046"},"\u6a19\u6e96\u30b5\u30dd\u30fc\u30c8\u30bb\u30f3\u30b5\u30fc\u306eLua\u30d5\u30a1\u30a4\u30eb\u3092\u624b\u76f4\u3057\u3066\u4f7f\u3046"),Object(b.b)("p",null,"devices\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304b\u3089\u6a19\u6e96\u306e\u4efb\u610f\u30bb\u30f3\u30b5\u30fc\u306eLua\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u3001\u6539\u9020\u3057\u305f\u5f8c\u306b\u30d5\u30a1\u30a4\u30eb\u540d\u3092\u305d\u306e\u307e\u307e\u5909\u3048\u305a\u306bdevices_custom\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3078\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3059\u308c\u3070\u3001\n\u6a19\u6e96\u306edevices\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3042\u308bLua\u30b9\u30af\u30ea\u30d7\u30c8\u3088\u308a\u3082\u512a\u5148\u3057\u3066\u5b9f\u884c(\u5b9f\u969b\u306b\u306f\u4e0a\u66f8)\u3055\u308c\u307e\u3059\u3002",Object(b.b)("br",{parentName:"p"}),"\n","\u30af\u30e9\u30a6\u30c9\u306b\u9001\u4fe1\u3055\u308c\u308bjson\u30e1\u30c3\u30bb\u30fc\u30b8\u306f\u3001",Object(b.b)("strong",{parentName:"p"},"jo."),"\u3067\u59cb\u307e\u308b\u30c6\u30fc\u30d6\u30eb\u306b\u4f8b\u3048\u3070\u30e1\u30f3\u30d0\u3092 ",Object(b.b)("strong",{parentName:"p"},"jo.temperature = 30")," \u3068\u3059\u308b\u3053\u3068\u3067 ",Object(b.b)("strong",{parentName:"p"},'{"temperature":30}')," \u304cjson\u306b\u8ffd\u52a0\u3055\u308c\u307e\u3059\u3002",Object(b.b)("br",{parentName:"p"}),"\n","\u307e\u305f\u306f\u3082\u3068\u3082\u3068",Object(b.b)("strong",{parentName:"p"},"jo.temperature = 30"),"\u305f\u3063\u3060\u306e\u3092",Object(b.b)("strong",{parentName:"p"},"jo.temp = 30"),"\u3068\u3059\u308c\u3070\u51fa\u529b\u306f ",Object(b.b)("strong",{parentName:"p"},'{"temp":30}')," \u3068\u5909\u66f4\u3055\u308c\u307e\u3059\u3002",Object(b.b)("br",{parentName:"p"}),"\n","\uff08\u3053\u3053\u3067\u8aac\u660e\u3055\u308c\u3066\u3044\u308bjson\u4f8b\u306f\u8a72\u5f53\u90e8\u5206\u306e\u307f\u3067\u3059\u3002\uff09  "),Object(b.b)("h5",{id:"\u30ab\u30b9\u30bf\u30e0\u3057\u305flua\u3092\u6709\u52b9\u306b\u3059\u308b"},"\u30ab\u30b9\u30bf\u30e0\u3057\u305fLua\u3092\u6709\u52b9\u306b\u3059\u308b"),Object(b.b)("p",null,"Lua\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u7de8\u96c6\u30fb\u4f5c\u6210\u5f8c\u3001Lua\u30d5\u30a1\u30a4\u30eb\u3092\u4fdd\u5b58\u3057\u305f\u3060\u3051\u3067\u306f\u30b7\u30b9\u30c6\u30e0\u306b\u53cd\u6620\u3055\u308c\u307e\u305b\u3093\u3002",Object(b.b)("br",{parentName:"p"}),"\n","\u3053\u306e\u305f\u3081\u30d7\u30ed\u30bb\u30b9\u306e\u518d\u8d77\u52d5\u304c\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u3002",Object(b.b)("br",{parentName:"p"}),"\n","\u30d7\u30ed\u30bb\u30b9\u306e\u518d\u8d77\u52d5\u306f",Object(b.b)("a",Object(a.a)({parentName:"p"},{href:"/docs/openblocks/fw5/webui/reference/dashboard"}),"\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9"),"\u3067\u884c\u3044\u307e\u3059\u3002  "),Object(b.b)("h2",{id:"ble-lua"},"BLE Lua"),Object(b.b)("h5",{id:"ble-\u63a5\u7d9a\u3067\u77e5\u3063\u3066\u304a\u304f\u3053\u3068"},"BLE \u63a5\u7d9a\u3067\u77e5\u3063\u3066\u304a\u304f\u3053\u3068"),Object(b.b)("p",null,"\u901a\u5e38\u3001BLE\u306e\u30a2\u30c9\u30d0\u30bf\u30a4\u30b8\u30f3\u30b0\u3067\u30bb\u30f3\u30b5\u30c7\u30fc\u30bf\u3092\u53d7\u3051\u308b\u30d3\u30fc\u30b3\u30f3\u578b\u30bb\u30f3\u30b5\u30fc\u304c\u3001IoT\u30b7\u30b9\u30c6\u30e0\u3068\u3057\u3066\u4f55\u5e74\u3082\u306e\u9593\u306b\u5b89\u5b9a\u3057\u3066\u30c7\u30fc\u30bf\u3092\u53d7\u4fe1\u3057\u7d9a\u3051\u3089\u308c\u308b\u305f\u3081\u306b\u4e00\u822c\u7684\u306b\u4f7f\u308f\u308c\u3066\u3044\u307e\u3059\u3002",Object(b.b)("br",{parentName:"p"}),"\n","\u3053\u308c\u306fBLE\u30c7\u30d0\u30a4\u30b9\u304c\u30a2\u30c9\u30d0\u30bf\u30a4\u30ba(\u5b9a\u671f\u7684\u306b\u767a\u3059\u308b\u30d3\u30fc\u30b3\u30f3)\u306b\u3088\u3063\u3066\u4e00\u65b9\u7684\u306b\u9001\u51fa\u3057\u3066\u304f\u308b\u96fb\u6ce2\u3092\u3001\u5358\u306b\u53d7\u4fe1\u3059\u308b\u3060\u3051\u306e\u4e00\u65b9\u901a\u884c\u901a\u4fe1\u3067\u3042\u308b\u305f\u3081\u3001\u30d7\u30ed\u30c8\u30b3\u30eb\u3092\u5fc5\u8981\u3068\u305b\u305a\u5b89\u5b9a\u3057\u3066\u3044\u308b\u305f\u3081\u3067\u3059\u3002  "),Object(b.b)("p",null,"\u3053\u308c\u306b\u5bfe\u3057\u3066BLE\u30b3\u30cd\u30af\u30b7\u30e7\u30f3\u30e2\u30fc\u30c9(GATT\u901a\u4fe1\u3068\u3082\u547c\u3070\u308c\u308b)\u306f\u3001\u96fb\u6ce2\u306e\u72b6\u614b\u306b\u5f71\u97ff\u3092\u53d7\u3051\u3084\u3059\u3044\u305f\u3081\u975e\u5e38\u306b\u5b89\u5b9a\u6027\u304c\u60aa\u304f\u3001\u307e\u305f\u3001\u30bb\u30f3\u30b5\u30fc\u30e1\u30fc\u30ab\u30fc\u6bce\u306e\u30d7\u30ed\u30c8\u30b3\u30eb\u306e\u4f5c\u308a\u306b\u4e92\u63db\u6027\u304c\u7121\u304f\u3001\u30b3\u30cd\u30af\u30b7\u30e7\u30f3\u5207\u65ad\u6bce\u306e\u51e6\u7406\u7cfb\u304c\u30de\u30c1\u30de\u30c1\u3067\u305d\u306e\u5fa9\u65e7\u65b9\u6cd5\u3082\u66d6\u6627\u3067\u3057\u305f\u3002",Object(b.b)("br",{parentName:"p"}),"\n","\u3069\u3061\u3089\u304b\u3068\u8a00\u3046\u3068\u30b9\u30de\u30fc\u30c8\u30d5\u30a9\u30f3\u3067\u30c7\u30fc\u30bf\u3092\u898b\u305f\u3044\u6642\u3001\u4e00\u6642\u7684\u306a\u30b3\u30cd\u30af\u30b7\u30e7\u30f3\u3067\u4e00\u6c17\u306b\u30c7\u30fc\u30bf\u3092\u53d6\u308a\u8fbc\u3080\u3088\u3046\u306a\u4f7f\u3044\u65b9\u3042\u308c\u3070\u591a\u6a5f\u80fd\u306a\u30b3\u30cd\u30af\u30b7\u30e7\u30f3\u578b\u304c\u5411\u3044\u3066\u3044\u307e\u3059\u304c\u3001IoT\u306e\u69d8\u306b24/365\u3067\u306e\u63a5\u7d9a\u3092\u6c42\u3081\u308b\u30b7\u30b9\u30c6\u30e0\u5411\u304d\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002",Object(b.b)("br",{parentName:"p"}),"\n","\u9577\u6642\u9593\u63a5\u7d9a\u3059\u308b\u3068\u3044\u3064\u306e\u9593\u306b\u304b\u306b\u30b3\u30cd\u30af\u30b7\u30e7\u30f3\u304c\u5207\u308c\u305f\u308a\u3001BLE\u30c7\u30d0\u30a4\u30b9\u3068\u30db\u30b9\u30c8\u88c5\u7f6e\u306e\u30b9\u30c6\u30fc\u30c8\u304c\u4e0d\u4e00\u81f4\u306b\u306a\u308a\u3001\u6700\u60aa\u3001\u73fe\u5834\u306b\u8a2d\u7f6e\u3057\u3066\u3042\u308bBLE\u30c7\u30d0\u30a4\u30b9\u306e\u96fb\u6e90\u3092\u5165\u308c\u306a\u304a\u3055\u306a\u3044\u3068\u5fa9\u5e30\u3067\u304d\u306a\u3044\u3088\u3046\u306a\u30b1\u30fc\u30b9\u3082\u3042\u308a\u307e\u3059\u3002",Object(b.b)("br",{parentName:"p"}),"\n","\u3053\u3046\u8a00\u3063\u305f\u73fe\u8c61\u306f\u30db\u30b9\u30c8\u5074\u3067\u3042\u308c\u3070\u518d\u8d77\u52d5\u306a\u3069\u3067\u306e\u5fa9\u5e30\u3082\u53ef\u80fd\u3067\u3059\u304c\u3001BLE\u30c7\u30d0\u30a4\u30b9\u306b\u3088\u3063\u3066\u306f\u96fb\u6e90\u3092\u5207\u308b\u3057\u304b\u65b9\u6cd5\u304c\u7121\u3044\u3082\u306e\u304c\u591a\u304f\u3042\u308a\u307e\u3059\u3002  "),Object(b.b)("p",null,"\u3057\u304b\u3057IoT\u3067\u3082\u4e0b\u6d41\u5236\u5fa1\u304c\u5fc5\u8981\u306a\u5834\u5408\u3082\u3042\u308b\u305f\u3081\u3001\u3053\u306e\u5834\u5408\u306f\u3001\u30bb\u30f3\u30b5\u30fc\u306e\u901a\u5e38\u30b9\u30c6\u30fc\u30bf\u30b9\u306e\u53d6\u5f97\u306f\u5b89\u5b9a\u3057\u305f\u30a2\u30c9\u30d0\u30bf\u30a4\u30b8\u30f3\u30b0\u30c7\u30fc\u30bf\u3067\u53d7\u4fe1\u3092\u3057\u307e\u3059\u3002",Object(b.b)("br",{parentName:"p"}),"\n","\u305d\u3057\u3066\u5236\u5fa1\u306b\u5fc5\u8981\u306b\u306a\u3063\u305f\u5834\u5408\u306b\u306e\u307f\u3001\u30b3\u30cd\u30af\u30b7\u30e7\u30f3\u30e2\u30fc\u30c9\u3067BLE\u30c7\u30d0\u30a4\u30b9\u3092\u5236\u5fa1\u3057\u3001\u5236\u5fa1\u304c\u7d42\u308f\u3063\u305f\u6642\u70b9\u3067\u5373\u30c7\u30a3\u30b9\u30b3\u30cd\u30af\u30c8\u3059\u308b\u3053\u3068\u3067\u3001\u30c7\u30c3\u30c9\u30ed\u30c3\u30af\u30ea\u30b9\u30af\u306e\u9ad8\u3044\u30b3\u30cd\u30af\u30b7\u30e7\u30f3\u30e2\u30fc\u30c9\u3067\u306e\u63a5\u7d9a\u3092\u77ed\u6642\u9593\u3067\u7d42\u308f\u3089\u305b\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002  "),Object(b.b)("h3",{id:"ble\u306elua\u30cf\u30f3\u30c9\u30e9\u306e\u95a2\u6570\u69cb\u6210"},"BLE\u306eLua\u30cf\u30f3\u30c9\u30e9\u306e\u95a2\u6570\u69cb\u6210"),Object(b.b)("p",null,"BLE\u306eLua\u30cf\u30f3\u30c9\u30e9\u306f\u30011\u3064\u306e\u30bb\u30f3\u30b5\u30fc\u306b1\u3064\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u304c\u7528\u610f\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n\u3053\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u306b\u306f\u30a2\u30c9\u30d0\u30bf\u30a4\u30b8\u30f3\u30b0\u7528\u306e\u30d3\u30fc\u30b3\u30f3\u30cf\u30f3\u30c9\u30e9\u3068\u3001\u30b3\u30cd\u30af\u30b7\u30e7\u30f3\u30e2\u30fc\u30c9\u7528\u306eGATT\u901a\u4fe1\u30cf\u30f3\u30c9\u30e9\u304c\u6df7\u8f09\u3055\u308c\u3066\u304a\u308a\u3001\u5404\u3005\u306b\u5bfe\u5fdc\u3057\u305f\u95a2\u6570\u3067\u52d5\u4f5c\u3092\u5206\u3051\u3066\u3044\u307e\u3059\u3002",Object(b.b)("br",{parentName:"p"}),"\n","Lua\u30b9\u30af\u30ea\u30d7\u30c8\u306f",Object(b.b)("a",Object(a.a)({parentName:"p"},{href:"/docs/openblocks/fw5/service/basic#ble%E7%99%BB%E9%8C%B2"}),"BLE\u306e\u30c7\u30d0\u30a4\u30b9\u767b\u9332"),"\u306e\u969b\u3001\u305d\u306e\u30c7\u30d0\u30a4\u30b9\u7528\u306eLua\u30cf\u30f3\u30c9\u30e9\u30fc\u3092\u5404\u3005\u9078\u3093\u3067\u767b\u9332\u3057\u3066\u4e0b\u3055\u3044\u3002"),Object(b.b)("h5",{id:"parse_adv"},".parse_adv()"),Object(b.b)("p",null,"\u30a2\u30c9\u30d0\u30bf\u30a4\u30b8\u30f3\u30b0\u7528\u95a2\u6570\u306f\u3001\u30bb\u30f3\u30b5\u30fc\u304b\u3089\u306e\u30a2\u30c9\u30d0\u30bf\u30a4\u30b8\u30f3\u30b0\u3092\u53d7\u3051\u305f\u6642\u306b\u547c\u3070\u308c\u308b\u95a2\u6570\u3067\u3059\u3002"),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{}),"function <makerneme>_<model>.parse_adv(jo, manufacturerData, localname)\n    \u30a2\u30c9\u30d0\u30bf\u30a4\u30ba\u304b\u3089\u30bb\u30f3\u30b5\u30c7\u30fc\u30bf\u3092\u30bb\u30f3\u30b5\u30c7\u30fc\u30bf\u3092\u30d1\u30fc\u30b9\u3059\u308b\u95a2\u6570\u3067\u3059\u3002\u901a\u5e38\u306f\u3053\u3061\u3089\u3092\u4f7f\u7528\u3059\u308b\u3002\n     <makerneme>  \u7279\u306bUSER\u306b\u308f\u304b\u308c\u3070\u4f55\u3067\u3082\u826f\u3044\u306e\u3067\u3059\u304c\u3001\u57fa\u672c\u7684\u306a\u6cd5\u5247\u3068\u3057\u3066\u30e1\u30fc\u30ab\u540d\u3092\u6307\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\n     <model>      \u57fa\u672c\u7684\u306a\u6cd5\u5247\u3068\u3057\u3066\u30e2\u30c7\u30eb\u540d\u3068\u3057\u3066\u3044\u307e\u3059\u304c\u3001\u7565\u79f0\u306a\u3069\u5206\u304b\u308a\u6613\u3044\u540d\u524d\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n")),Object(b.b)("h5",{id:"parse_beacon"},".parse_beacon()"),Object(b.b)("p",null,"\u30d3\u30fc\u30b3\u30f3\u7528\u95a2\u6570\u306fWEB-UI\u3067\u30d3\u30fc\u30b3\u30f3\u6307\u5b9a(data\u306e\u30d7\u30ec\u30d5\u30a3\u30c3\u30af\u30b9\u3067\u6307\u5b9a\u3055\u308c\u308b\u30c7\u30d0\u30a4\u30b9)\u3055\u308c\u305f\u30a2\u30c9\u30d0\u30bf\u30a4\u30b8\u30f3\u30b0\u3092\u53d7\u4fe1\u3057\u305f\u6642\u306b\u8d77\u52d5\u3059\u308b\u95a2\u6570\u3067\u3059\u3002"),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{}),"function <makerneme>_<model>.parse_beacon(jo, manufacturerData, localname)\n    \u30d3\u30fc\u30b3\u30f3\u3068\u3057\u3066\u767b\u9332\u3055\u308c\u305f\u30c7\u30d0\u30a4\u30b9\u306e\u30bb\u30f3\u30b5\u30c7\u30fc\u30bf\u3092\u30d1\u30fc\u30b9\u3059\u308b\u95a2\u6570\u3067\u3059\u3002\u901a\u5e38\u306f\u4f7f\u308f\u306a\u3044\u3002\n    <makerneme>  \u7279\u306bUSER\u306b\u308f\u304b\u308c\u3070\u4f55\u3067\u3082\u826f\u3044\u306e\u3067\u3059\u304c\u3001\u57fa\u672c\u7684\u306a\u6cd5\u5247\u3068\u3057\u3066\u30e1\u30fc\u30ab\u540d\u3092\u6307\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\n    <model>      \u57fa\u672c\u7684\u306a\u6cd5\u5247\u3068\u3057\u3066\u30e2\u30c7\u30eb\u540d\u3068\u3057\u3066\u3044\u307e\u3059\u304c\u3001\u7565\u79f0\u306a\u3069\u5206\u304b\u308a\u6613\u3044\u540d\u524d\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n")),Object(b.b)("h5",{id:"gatt_exec"},".gatt_exec()"),Object(b.b)("p",null,"\u30b3\u30cd\u30af\u30b7\u30e7\u30f3\u30e2\u30fc\u30c9(GATT)\u7528\u306e\u95a2\u6570\u306f\u3001WEB-UI\u3067\u8a2d\u5b9a\u3057\u305f\u30b7\u30b9\u30c6\u30e0\u30a4\u30f3\u30bf\u30fc\u30d0\u30eb\u30bf\u30a4\u30de\u30fc\u306e\u9593\u9694\u3067\u8d77\u52d5\u3055\u308c\u307e\u3059\u3002"),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{}),"function <makerneme>_<model>.gatt_exec(sensor, deviceId, infos)\n    GATT\u3067BLE\u30c7\u30d0\u30a4\u30b9\u3092\u30a2\u30af\u30bb\u30b9\u3059\u308b\u30eb\u30fc\u30c1\u30f3\u3067WEB-UI\u3067\u8a2d\u5b9a\u3055\u308c\u305f\u30a4\u30f3\u30bf\u30fc\u30d0\u30eb\u3067\u547c\u3073\u51fa\u3055\u308c\u308b\u95a2\u6570\u3067\u3059\u3002\n    <makerneme>  \u7279\u306bUSER\u306b\u308f\u304b\u308c\u3070\u4f55\u3067\u3082\u826f\u3044\u306e\u3067\u3059\u304c\u3001\u57fa\u672c\u7684\u306a\u6cd5\u5247\u3068\u3057\u3066\u30e1\u30fc\u30ab\u540d\u3092\u6307\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\n    <model>      \u57fa\u672c\u7684\u306a\u6cd5\u5247\u3068\u3057\u3066\u30e2\u30c7\u30eb\u540d\u3068\u3057\u3066\u3044\u307e\u3059\u304c\u3001\u7565\u79f0\u306a\u3069\u5206\u304b\u308a\u6613\u3044\u540d\u524d\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n    \u5f15\u6570\n        sensor   \u30af\u30e9\u30a6\u30c9\u3078\u306e\u9001\u4fe1\u95a2\u6570 LUA_send_sensor_data \u3092\u547c\u3076\u6642\u306e\u7b2c\u4e00\u5f15\u6570\u3068\u3057\u3066\u305d\u306e\u307e\u307e\u4f7f\u3046\u3002\n        deviceId BLE\u30c7\u30d0\u30a4\u30b9\u306eID\n        infos    WEB-UI\u306e\u56fa\u5b9a\u60c5\u5831\u4ed8\u4e0e(JSON)\u3067\u8a2d\u5b9a\u3055\u308c\u305f\u60c5\u5831\n")),Object(b.b)("h5",{id:"downstream_exec"},".downstream_exec()"),Object(b.b)("p",null,"\u30af\u30e9\u30a6\u30c9(\u4e0a\u6d41)\u304b\u3089\u306e\u5236\u5fa1\u547d\u4ee4\u3092\u53d7\u3051\u305f\u6642\u306b\u8d77\u52d5\u3059\u308b\u95a2\u6570\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002"),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{}),"function <makerneme>_<model>.downstream_exec(sensor, deviceId, msg, infos)\n    \u4e0a\u6d41\uff08\u30af\u30e9\u30a6\u30c9\uff09\u304b\u3089\u5236\u5fa1\u547d\u4ee4\u3092\u53d7\u4fe1\u3057\u305f\u6642\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u95a2\u6570\u3067\u3059\u3002\uff08\u53d7\u4fe1\u8a2d\u5b9a\u6709\u52b9\u6642\u306e\u307f\uff09\n    <makerneme>  \u7279\u306bUSER\u306b\u308f\u304b\u308c\u3070\u4f55\u3067\u3082\u826f\u3044\u306e\u3067\u3059\u304c\u3001\u57fa\u672c\u7684\u306a\u6cd5\u5247\u3068\u3057\u3066\u30e1\u30fc\u30ab\u540d\u3092\u6307\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\n    <model>      \u57fa\u672c\u7684\u306a\u6cd5\u5247\u3068\u3057\u3066\u30e2\u30c7\u30eb\u540d\u3068\u3057\u3066\u3044\u307e\u3059\u304c\u3001\u7565\u79f0\u306a\u3069\u5206\u304b\u308a\u6613\u3044\u540d\u524d\u306b\u3057\u3066\u3044\u307e\u3059\u3002\n    \u5f15\u6570\n        sensor   \u30af\u30e9\u30a6\u30c9\u3078\u306e\u9001\u4fe1\u95a2\u6570 LUA_send_sensor_data \u3092\u547c\u3076\u6642\u306e\u7b2c\u4e00\u5f15\u6570\u3068\u3057\u3066\u305d\u306e\u307e\u307e\u4f7f\u3046\u3002\n        deviceId BLE\u30c7\u30d0\u30a4\u30b9\u306eID\n        msg      \u4e0a\u6d41\u304b\u3089\u53d7\u4fe1\u3057\u305f\u5236\u5fa1\u30e1\u30c3\u30bb\u30fc\u30b8(json\u6587\u5b57\u5217)\n        infos    WEB-UI\u306e\u56fa\u5b9a\u60c5\u5831\u4ed8\u4e0e(JSON)\u3067\u8a2d\u5b9a\u3055\u308c\u305f\u60c5\u5831\n")),Object(b.b)("p",null,"\u305d\u306e\u4ed6\u3001\u30e6\u30fc\u30b6\u30fc\u304c\u5225\u306e\u540d\u524d\u306e\u95a2\u6570\u3092\u5b9a\u7fa9\u3057\u3066\u30b5\u30d6\u30eb\u30fc\u30c1\u30f3\u3092\u4f5c\u308b\u3053\u3068\u306f\u81ea\u7531\u3067\u3059\u3002"),Object(b.b)("h3",{id:"ble\u30a2\u30c9\u30d0\u30bf\u30a4\u30b8\u30f3\u30b0\u5bfe\u5fdc\u306elua"},"BLE\u30a2\u30c9\u30d0\u30bf\u30a4\u30b8\u30f3\u30b0\u5bfe\u5fdc\u306eLua"),Object(b.b)("p",null,"BLE\u30c7\u30d0\u30a4\u30b9\u304c\u4e00\u65b9\u7684\u306b\u30a2\u30c9\u30d0\u30bf\u30a4\u30b8\u30f3\u30b0\u306b\u3088\u3063\u3066\u9001\u4fe1\u3057\u3066\u304f\u308b\u30bb\u30f3\u30b5\u30fc\u30c7\u30fc\u30bf\u3092\u53d7\u3051\u308b\u305f\u3081\u306e\u30cf\u30f3\u30c9\u30e9\u4f5c\u6210\u306b\u3064\u3044\u3066\u8aac\u660e\u3057\u307e\u3059\u3002",Object(b.b)("br",{parentName:"p"}),"\n","\u3053\u306e\u4f8b\u306f\u30d3\u30fc\u30b3\u30f3\u7528\u306e\u30cf\u30f3\u30c9\u30e9\u306e\u53c2\u8003\u306b\u3082\u306a\u308a\u307e\u3059\u3002"),Object(b.b)("p",null,"BLE\u30cf\u30f3\u30c9\u30e9\u306fC\u8a00\u8a9e\u90e8\u5206\u3068LUA\u8a00\u8a9e\u90e8\u5206\u3067\u69cb\u6210\u3055\u308c\u3001\u5171\u901a\u306e\u90e8\u5206\u3092C\u8a00\u8a9e\u3067\u3001\u30ab\u30b9\u30bf\u30e0\u90e8\u5206\u3092Lua\u8a00\u8a9e\u3067\u8a18\u8ff0\u3059\u308b\u69cb\u6210\u3068\u306a\u3063\u3066\u3044\u307e\u3059\u3002",Object(b.b)("br",{parentName:"p"}),"\n","\u6a19\u6e96\u30b5\u30dd\u30fc\u30c8\u306e\u30bb\u30f3\u30b5\u30fc\u306eLua\u30cf\u30f3\u30c9\u30e9\u30fc\u306f\u4ee5\u4e0b\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u4fdd\u5b58\u3055\u308c\u3066\u3044\u307e\u3059\u3002  "),Object(b.b)("p",null,Object(b.b)("img",{src:t(906).default})),Object(b.b)("p",null,"BLE\u304b\u3089\u53d7\u4fe1\u3057\u305f\u30a2\u30c9\u30d0\u30bf\u30a4\u30ba\u306e\u30c7\u30fc\u30bf\u90e8\u5206\u3067\u3042\u308b\u30da\u30a4\u30ed\u30fc\u30c9\u306b\u306f\u3001\u30c7\u30d0\u30a4\u30b9\u30e1\u30fc\u30ab\u30fc\u304c\u81ea\u7531\u306b\u4f7f\u3063\u3066\u3044\u3044\u9818\u57df\u304c\u3042\u308a\u3001BLE\u30cf\u30f3\u30c9\u30e9\u3067\u306f\u3053\u306e\u30da\u30a4\u30ed\u30fc\u30c9\u90e8\u5206\u3092Lua\u8a00\u8a9e\u306b\u6e21\u3057\u3066\u3044\u307e\u3059\u3002  "),Object(b.b)("p",null,"OpenBlocks\u304c\u8d77\u52d5\u5f8c\u3001PD Handler\u304cBLE\u30d3\u30fc\u30b3\u30f3\u3092\u53d7\u4fe1\u3059\u308b\u3068",Object(b.b)("a",Object(a.a)({parentName:"p"},{href:"/docs/openblocks/fw5/service/basic#ble%E7%99%BB%E9%8C%B2"}),"BLE\u767b\u9332"),"\u3067\u767b\u9332\u3055\u308c\u305f\u30c7\u30d0\u30a4\u30b9\u306e\u307f\u9078\u5225\u3055\u308cWEB-UI\u3067\u8a2d\u5b9a\u3057\u305fLua\u95a2\u6570\u306b\u9001\u308a\u8fbc\u307e\u308c\u307e\u3059\u3002",Object(b.b)("br",{parentName:"p"}),"\n","\u3053\u3053\u3067\u306f",Object(b.b)("a",Object(a.a)({parentName:"p"},{href:"https://www.nyc.co.jp/products/BCON/index_bcon.html"}),"\u30ca\u30ab\u30e8\u88fd\u30dc\u30bf\u30f3\u4ed8\u304dBLE\u30d3\u30fc\u30b3\u30f3"),"\u306e\u30cf\u30f3\u30c9\u30e9\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3092\u30b5\u30f3\u30d7\u30eb\u306b\u8aac\u660e\u3057\u307e\u3059\u3002",Object(b.b)("br",{parentName:"p"}),"\n","\u203b\u3053\u306e\u30d3\u30fc\u30b3\u30f3\u306fiBeacon\u306b\u4e92\u63db\u3067\u3059\u3002",Object(b.b)("br",{parentName:"p"}),"\n","\u203b\u4ed5\u69d8\u5909\u66f4\u3082\u3042\u308a\u3048\u308b\u8a73\u7d30\u306f\u30ca\u30ab\u30e8\u69d8\u306e\u6700\u65b0\u4ed5\u69d8\u66f8\u3067\u78ba\u8a8d\u3057\u3066\u4e0b\u3055\u3044\u3002  "),Object(b.b)("h5",{id:"nakayo_nycbconlua"},"NAKAYO_NYCBCON.lua"),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-lua"}),'NAKAYO_NYCBCON = {}  -- \u914d\u5217\u306e\u521d\u671f\u5316\n\n-- iBeacon\u898f\u683c\u4e92\u63db\u3067\u30ca\u30ab\u30e8\u30d3\u30fc\u30b3\u30f3\u306eID\u3068\u306a\u308b\u30de\u30c3\u30c1\u30f3\u30b0\u5909\u6570\u306e\u5ba3\u8a00\nnakayo_uuid = string.char(0xa9, 0x03, 0x01, 0x00, 0x14, 0x78, 0x48, 0x24, 0xb2, 0x98, 0x8e, 0x68, 0x23, 0xcf, 0xde, 0xfa)\nnakayo_minor_normal = string.char(0xff, 0xe0)\nnakayo_minor_1 = string.char(0xff, 0xe8)\nnakayo_minor_2 = string.char(0xff, 0xf0)\nnakayo_minor_3 = string.char(0xff, 0xf8)\n\n-- \u30cf\u30f3\u30c9\u30e9\u306e\u30e1\u30a4\u30f3\u304b\u3089\u9806\u6b21\u547c\u3073\u51fa\u3055\u308c\u308b\u95a2\u6570\n-- \u5f15\u6570 jo = json\u30c6\u30ad\u30b9\u30c8\u306b\u5909\u63db\u3055\u308c\u308b\u9023\u60f3\u914d\u5217\u3001manufacturerData = \u30d0\u30a4\u30ca\u30ea\u30c7\u30fc\u30bf\u5217\n--      localname = BLE\u898f\u683c\u3067\u8a2d\u5b9a\u3055\u308c\u308b\u540d\u524d(\u4ed8\u3051\u3089\u308c\u308b\u304b\u306f\u30e1\u30fc\u30ab\u30fc\u306b\u3088\u3063\u3066\u307e\u3061\u307e\u3061)\nfunction NAKAYO_NYCBCON.parse_adv(jo, manufacturerData, localname)\n        if is_ibeacon(manufacturerData) then                  -- \u5148\u305aiBeacon\u3067\u3042\u308b\u304b\u30c1\u30a7\u30c3\u30af\n            local uuid = string.sub(manufacturerData, 5, 20)  -- \u30d0\u30a4\u30ca\u30ea\u30fc\u5217\u304b\u3089UUID\u90e8\u53d6\u308a\u8fbc\u307f\n            local major = string.sub(manufacturerData, 21, 22)-- \u30d0\u30a4\u30ca\u30ea\u30fc\u5217\u304b\u3089major\u90e8\u53d6\u308a\u8fbc\u307f\n            local minor = string.sub(manufacturerData, 23, 24)-- \u30d0\u30a4\u30ca\u30ea\u30fc\u5217\u304b\u3089minor\u90e8\u53d6\u308a\u8fbc\u307f\n            if string.match(uuid, nakayo_uuid) ~= nil then    -- UUID\u304c\u30de\u30c3\u30c1\u30f3\u30b0\u3059\u308b\u304b\u30c1\u30a7\u30c3\u30af\n                        pdHandlerUtil.log_debug("NAKAYO NYC-BCON")             -- \u30c7\u30d0\u30c3\u30b0\u30ed\u30b0\u3078UUID\u306a\u3069\u3092\u51fa\u529b\n\n                pdHandlerUtil.log_debug("uuid: "..pdHandlerUtil.bin2str(uuid, #uuid))\n                pdHandlerUtil.log_debug("major: "..pdHandlerUtil.bin2str(major, #major))\n                pdHandlerUtil.log_debug("minor: "..pdHandlerUtil.bin2str(minor, #minor))\n                jo.uuid = pdHandlerUtil.bin2str(uuid, #uuid)     -- json\u3078\u5909\u63db\u3055\u308c\u308bUUID\u306e\u4fdd\u5b58\n                jo.major = pdHandlerUtil.bin2str(major, #major)  -- json\u3078\u5909\u63db\u3055\u308c\u308bmajor\u306e\u4fdd\u5b58\n                jo.minor = pdHandlerUtil.bin2str(minor, #minor)  -- json\u3078\u5909\u63db\u3055\u308c\u308bminor\u306e\u4fdd\u5b58\n                if string.match(minor, nakayo_minor_normal) ~= nil then\n                    jo.push = 0   -- \u30dc\u30bf\u30f3\u304c\u62bc\u3055\u308c\u3066\u3044\u306a\u3044\u30b9\u30c6\u30fc\u30bf\u30b9\u3092json\u5909\u63db\u3055\u308c\u308b\u914d\u5217\u306b\u4fdd\u5b58\n                elseif string.match(minor, nakayo_minor_1) ~= nil then\n                    jo.push = 1   -- \u30dc\u30bf\u30f3\u304c\u62bc\u3055\u308c\u305f\u30b9\u30c6\u30fc\u30bf\u30b9\u3092json\u5909\u63db\u3055\u308c\u308b\u914d\u5217\u306b\u4fdd\u5b58\n                elseif string.match(minor, nakayo_minor_2) ~= nil then\n                    jo.push = 2   -- \u30dc\u30bf\u30f3\u304c\u62bc\u3055\u308c\u305f\u30b9\u30c6\u30fc\u30bf\u30b9\u3092json\u5909\u63db\u3055\u308c\u308b\u914d\u5217\u306b\u4fdd\u5b58\n                elseif string.match(minor, nakayo_minor_3) ~= nil then\n                    jo.push = 3   -- \u30dc\u30bf\u30f3\u304c\u62bc\u3055\u308c\u305f\u30b9\u30c6\u30fc\u30bf\u30b9\u3092json\u5909\u63db\u3055\u308c\u308b\u914d\u5217\u306b\u4fdd\u5b58\n                else\n                    jo.push = -1  -- \u30dc\u30bf\u30f3\u306e\u30b9\u30c6\u30fc\u30bf\u30b9\u304c\u304a\u304b\u3057\u3044\u6642\n                end\n            end\n        end\n\nend\n\nreturn NAKAYO_NYCBCON\n')),Object(b.b)("p",null,'\u30ca\u30ab\u30e8\u88fd\u30dc\u30bf\u30f3\u4ed8\u304dBLE\u30d3\u30fc\u30b3\u30f3\u306f\u3001\u30dc\u30bf\u30f3\u3092\u9577\u62bc\u3057\u3059\u308b\u3068jo.push\u306e\u5024\u304c "1 \u2192 2 \u2192 3 \u2192 1 \u2192 2" \u3068\u5909\u5316\u3057\u307e\u3059\u3002',Object(b.b)("br",{parentName:"p"}),"\n","BLE\u30d3\u30fc\u30b3\u30f3\u30bb\u30f3\u30b5\u306b\u306fiBeacon\u898f\u683c\u4ee5\u5916\u306e\u3082\u3042\u308b\u306e\u3067\u3001\u30c7\u30d0\u30a4\u30b9\u30de\u30c3\u30c1\u30f3\u30b0\u306b\u3064\u3044\u3066\u306f\u4ed6\u306e\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3082\u53c2\u8003\u306b\u3057\u3066\u4e0b\u3055\u3044\u3002",Object(b.b)("br",{parentName:"p"}),"\n","\u4ee5\u4e0a\u306e\u30b3\u30fc\u30c9\u3067IoT\u30af\u30e9\u30a6\u30c9\u3078\u9001\u4fe1\u3055\u308c\u308bjson\u30c6\u30ad\u30b9\u30c8\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u306b\u306a\u308a\u307e\u3059\u3002  "),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),'    {\n        "time": "2017-12-08T12:34:56.789+09:00",     \u2190 \u3053\u3053\u304b\u30893\u3064\u304cOpenBlocks\u3067\u8a2d\u5b9a\u3055\u308c\u308b\u30c7\u30fc\u30bf\n        "deviceId": "xxxxxxxxxxxx",\n        "rssi": -68,\n        "uuid":  "a903010014784824b2988e6823cfdefa", \u2190 \u3053\u3053\u304b\u3089\u4e0b\u304c\u30cf\u30f3\u30c9\u30e9\u3067\u8ffd\u52a0\u3055\u308c\u305f\u30c7\u30fc\u30bf\n        "major": "00c8",\n        "minor": "ffe0",\n        "push": 0\n    }\n')),Object(b.b)("p",null,"\u305d\u306e\u4ed6\u306e\u30bb\u30f3\u30b5\u30fc\u306ejson\u30c6\u30ad\u30b9\u30c8\u306f",Object(b.b)("a",Object(a.a)({parentName:"p"},{href:"/docs/openblocks/fw5/data_form/ble"}),"\u3053\u3061\u3089\u3092\u53c2\u7167"),"\u3057\u3066\u4e0b\u3055\u3044\u3002",Object(b.b)("br",{parentName:"p"}),"\n","\u305d\u308c\u305e\u308c\u306e\u30bb\u30f3\u30b5\u6bce\u306bLua\u3067\u66f8\u304b\u308c\u305f\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u304cdevices\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u3042\u308a\u307e\u3059\u3002"),Object(b.b)("p",null,"\u7de8\u96c6\u304c\u7d42\u308f\u3063\u305f\u3089\u3001","<","\u30e1\u30fc\u30ab\u30fc\u540d",">","_","<","\u30c7\u30d0\u30a4\u30b9\u540d",">",".lua\u3068\u540d\u524d\u3092\u4ed8\u3051\u3066devices_custom\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3057\u3066\u4e0b\u3055\u3044\u3002"),Object(b.b)("h3",{id:"gatt\u901a\u4fe1\uff08\u53cc\u65b9\u5411\u901a\u4fe1\uff09"},"GATT\u901a\u4fe1\uff08\u53cc\u65b9\u5411\u901a\u4fe1\uff09"),Object(b.b)("p",null,"BLE\u306fGATT\u901a\u4fe1\u3092\u4f7f\u3046\u4e8b\u3067\u53cc\u65b9\u5411\u901a\u4fe1\u3068\u306a\u308a\u4e0b\u6d41\u30c7\u30d0\u30a4\u30b9\u306e\u5236\u5fa1\u304c\u53ef\u80fd\u3068\u306a\u308a\u307e\u3059\u3002  "),Object(b.b)("h5",{id:"gatt\u3092\u4f7f\u3046\u4e0a\u3067\u7406\u89e3\u3057\u3066\u304a\u304f\u3053\u3068"},"GATT\u3092\u4f7f\u3046\u4e0a\u3067\u7406\u89e3\u3057\u3066\u304a\u304f\u3053\u3068"),Object(b.b)("p",null,"BLE\u3092\u4f7f\u3063\u305fIoT\u6a5f\u5668\u306b\u306f\u30d3\u30fc\u30b3\u30f3\u306e\u69d8\u306b\u3001\u30a2\u30c9\u30d0\u30bf\u30a4\u30b8\u30f3\u30b0\u3068\u8a00\u3046\u30c7\u30fc\u30bf\u3092\u5782\u308c\u6d41\u3059\u3060\u3051\u306e\u4e00\u65b9\u901a\u884c\u306e\u901a\u4fe1\u65b9\u5f0f\u304c\u3001\u52d5\u4f5c\u5b89\u5b9a\u6027\u304c\u9ad8\u304f\u4e00\u822c\u7684\u306b\u4f7f\u308f\u308c\u3066\u3044\u308b\u901a\u4fe1\u65b9\u6cd5\u3067\u3059\u3002",Object(b.b)("br",{parentName:"p"}),"\n","\u3053\u306e\u30a2\u30c9\u30d0\u30bf\u30a4\u30b8\u30f3\u30b0\u306b\u30bb\u30f3\u30b5\u30fc\u30c7\u30fc\u30bf\u3092\u4e00\u7dd2\u306b\u4e57\u305b\u3066\u3057\u307e\u3046\u4e8b\u3067\u8907\u6570\u306e\u53d7\u4fe1\u6a5f\u3067\u30bb\u30f3\u30b5\u30fc\u30c7\u30fc\u30bf\u3092\u5f97\u308b\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002",Object(b.b)("br",{parentName:"p"}),"\n","\u3053\u306e\u30a2\u30c9\u30d0\u30bf\u30a4\u30b8\u30f3\u30b0\u306b\u5bfe\u3057\u901a\u4fe1\u30d7\u30ed\u30c8\u30b3\u30eb\u306b\u3088\u3063\u3066\u53cc\u65b9\u5411\u306e\u3084\u308a\u53d6\u308a\u3092\u884c\u3044\u3001\u5358\u4e00\u306e\u53d7\u4fe1\u6a5f\u3067\u30bb\u30f3\u30b5\u30fc\u306a\u3069\u306e\u30c7\u30fc\u30bf\u3092\u3084\u308a\u53d6\u308a\u3059\u308b\u65b9\u5f0f\u304cGATT\u901a\u4fe1\u3067\u3059\u3002",Object(b.b)("br",{parentName:"p"}),"\n","GATT\u306f1\u5bfe1\u63a5\u7d9a\u3067\u304b\u3064\u6697\u53f7\u5316\u306a\u3069\u306e\u6a5f\u80fd\u3092\u6301\u3064\u305f\u3081\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u306e\u9ad8\u3044\u901a\u4fe1\u3067\u306f\u3042\u308a\u307e\u3059\u304c\u3001BLE\u306e\u4f7f\u3046\u901a\u4fe1\u5e2f\u57df\u306f\u975e\u5e38\u306b\u6df7\u96d1\u3057\u3066\u3044\u308b\u305f\u3081\u306b\u30a8\u30e9\u30fc\u30ea\u30c8\u30e9\u30a4\u304c\u591a\u767a\u3059\u308b\u4e0d\u5b89\u5b9a\u306a\u8981\u7d20\u3082\u591a\u3005\u3042\u308a\u307e\u3059\u3002",Object(b.b)("br",{parentName:"p"}),"\n","\u3053\u306e\u305f\u3081\u79d8\u533f\u3059\u308b\u69d8\u306a\u30c7\u30fc\u30bf\u3067\u306f\u7121\u304f\u3001\u307e\u305f\u6a5f\u5668\u5236\u5fa1\uff08\u4e0b\u6d41\u5236\u5fa1\uff09\u3092\u5fc5\u8981\u306e\u7121\u3044\u901a\u4fe1\u3067\u306f\u3001\u30a2\u30c9\u30d0\u30bf\u30a4\u30b8\u30f3\u30b0\u30e2\u30fc\u30c9\u3067\u306e\u901a\u4fe1\u3092\u5968\u3081\u3066\u307e\u3059\u3002  "),Object(b.b)("h5",{id:"gatt\u901a\u4fe1\u306e\u6982\u8981"},"GATT\u901a\u4fe1\u306e\u6982\u8981"),Object(b.b)("p",null,"GATT\u901a\u4fe1\u306f",Object(b.b)("strong",{parentName:"p"},"\u3068\u3042\u308b\u30ec\u30b8\u30b9\u30bf"),"\u306b\u5bfe\u3057\u3066\u8aad\u307f\u66f8\u304d\u3092\u884c\u3046\u4e8b\u3067\u901a\u4fe1\u3092\u884c\u3044\u307e\u3059\u3002",Object(b.b)("br",{parentName:"p"}),"\n","\u3053\u306e",Object(b.b)("strong",{parentName:"p"},"\u3068\u3042\u308b\u30ec\u30b8\u30b9\u30bf"),"\u306fUUID\u3068\u3044\u3046\u540d\u524d\u3067\u7ba1\u7406\u3055\u308c\u3066\u304a\u308a\u3001\u3053\u306e\u30ec\u30b8\u30b9\u30bf\u306f\u8907\u6570\u30d0\u30a4\u30c8\u306e16\u9032\u6570\u3092\u7528\u3044\u3089\u308c\u3066\u8868\u73fe\u3055\u308c\u3066\u3044\u307e\u3059\u3002",Object(b.b)("br",{parentName:"p"}),"\n","\u3053\u306eUUID\u3067\u8868\u73fe\u3055\u308c\u308b\u30ec\u30b8\u30b9\u30bf\u306f\u3001\u30c7\u30d0\u30a4\u30b9\u306b\u3088\u3063\u3066\u8907\u6570\u30d0\u30a4\u30c8\u3067\u69cb\u6210\u3055\u308c\u3066\u304a\u308a\u3001\u5927\u4f5320Byte\u7a0b\u5ea6\u306b\u53ce\u307e\u308b\u69d8\u306a\u69cb\u6210\u306b\u306a\u3063\u3066\u304a\u308a\u3001\u3053\u306eUUID\u306e\u4f55\u30d0\u30a4\u30c8\u76ee\u3067\u4f55\u30d3\u30c3\u30c8\u76ee\u306e\u4f4d\u7f6e\u306a\u3069\u3067\u5404\u3005\u306b\u610f\u5473\u3092\u6301\u305f\u305b\u3066\u3044\u307e\u3059\u3002"),Object(b.b)("p",null,"\u7279\u5b9a\u306eBLE\u30c7\u30d0\u30a4\u30b9\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u306b\u306f\u3001\u30db\u30b9\u30c8\u3068\u306a\u308b\u88c5\u7f6e\u304cscan\u3068\u8a00\u3046\u96fb\u6ce2\u3092\u9001\u4fe1\u3059\u308b\u3068\u3001\u5404\u3005\u306e\u5fdc\u7b54\u53ef\u80fd\u306aBLE\u30c7\u30d0\u30a4\u30b9\u304c\u3001\u30a2\u30c9\u30d0\u30bf\u30a4\u30b8\u30f3\u30b0\u96fb\u6ce2\u3092\u9001\u4fe1\u3057\u307e\u3059\u3002",Object(b.b)("br",{parentName:"p"}),"\n","\u30db\u30b9\u30c8\u306f\u3053\u306e\u30a2\u30c9\u30d0\u30bf\u30a4\u30b8\u30f3\u30b0\u60c5\u5831\u304b\u3089\u4efb\u610f\u306eBLE\u30c7\u30d0\u30a4\u30b9\u3092\u898b\u3064\u3051\u3066\u30b3\u30cd\u30af\u30b7\u30e7\u30f3\u52d5\u4f5c\u306b\u5165\u308a\u307e\u3059\u3002",Object(b.b)("br",{parentName:"p"}),"\n","\u30b3\u30cd\u30af\u30b7\u30e7\u30f3\u306b\u6210\u529f\u3059\u308b\u3068\u3001\u63a5\u7d9a\u3055\u308c\u305fBLE\u30c7\u30d0\u30a4\u30b9\u304c\u6301\u3064UUID\u306e\u30ea\u30b9\u30c8\u3084\u63a5\u7d9a\u30cf\u30f3\u30c9\u30eb\u3001\u901a\u4fe1\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u30db\u30b9\u30c8\u304c\u5f97\u307e\u3059\u3002",Object(b.b)("br",{parentName:"p"}),"\n","GATT\u901a\u4fe1\u3067\u306f\u30da\u30a2\u30ea\u30f3\u30b0\u306b\u3088\u3063\u3066\u3001\u7279\u5b9a\u306e\u30db\u30b9\u30c8\u3068\u306e\u63a5\u7d9a\u9650\u5b9a\u3084\u6697\u53f7\u5316\u3059\u308b\u5834\u5408\u3082\u3042\u308c\u3070\u3001\u30da\u30a2\u30ea\u30f3\u30b0\u306a\u3057\u3067\u63a5\u7d9a\u3067\u304d\u308b\u30c7\u30d0\u30a4\u30b9\u3082\u3042\u308a\u307e\u3059\u3002\n\u3053\u308c\u3089\u306e\u60c5\u5831\u4ea4\u63db\u3082\u884c\u308f\u308c\u3066\u30b3\u30cd\u30af\u30b7\u30e7\u30f3\u304c\u5b8c\u4e86\u3057\u307e\u3059\u3002",Object(b.b)("br",{parentName:"p"}),"\n","\u3053\u306e\u72b6\u614b\u304b\u3089\u6307\u5b9a\u3057\u305fUUID\u306b\u5bfe\u3057\u3066\u8aad\u307f\u66f8\u304d\u3059\u308b\u4e8b\u3067\u901a\u4fe1\u304c\u59cb\u307e\u308a\u307e\u3059\u3002",Object(b.b)("br",{parentName:"p"}),"\n","\u305d\u308c\u305e\u308c\u306eUUID\u306b\u306f\u66f8\u304d\u8fbc\u307f\u5c02\u7528\u30fb\u8aad\u307f\u8fbc\u307f\u5c02\u7528\u30fb\u8aad\u307f\u66f8\u304d\u4e21\u7528\u304c\u3042\u308b\u306e\u3067\u5404\u3005\u306e\u30c7\u30d0\u30a4\u30b9\u306e\u4ed5\u69d8\u66f8\u3067\u78ba\u8a8d\u3057\u3066\u4e0b\u3055\u3044\u3002",Object(b.b)("br",{parentName:"p"}),"\n","\u305d\u3057\u3066\u901a\u4fe1\u304c\u7d42\u308f\u3063\u305f\u6642\u70b9\u3067\u3001\u30c7\u30a3\u30b9\u30b3\u30cd\u30af\u30c8\u3059\u308b\u4e8b\u3067\u4e00\u9023\u306e\u51e6\u7406\u304c\u5b8c\u4e86\u3057\u307e\u3059\u3002  "),Object(b.b)("h4",{id:"openblocks\u3067\u306egatt\u30a2\u30af\u30bb\u30b9\u95a2\u6570"},"OpenBlocks\u3067\u306eGATT\u30a2\u30af\u30bb\u30b9\u95a2\u6570"),Object(b.b)("p",null,"OpenBlocks\u3067\u306fGATT\u30a2\u30af\u30bb\u30b9\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u7528\u610f\u3057\u3066\u304a\u308a\u3001\u4ee5\u4e0b\u306e\u624b\u9806\u901a\u308a\u30e9\u30a4\u30d6\u30e9\u30ea\u3067\u64cd\u4f5c\u3092\u884c\u3046\u3053\u3068\u306b\u3088\u308a\u5bb9\u6613\u306bGATT\u901a\u4fe1\u3092\u53ef\u80fd\u306b\u3057\u307e\u3059\u3002",Object(b.b)("br",{parentName:"p"}),"\n","\u307e\u305f\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u4f7f\u7528\u306b\u304a\u3044\u3066UUID\u3092handle\u306b\u7f6e\u304d\u63db\u3048\u3066\u30a2\u30af\u30bb\u30b9\u3059\u308b\u65b9\u6cd5\u3092\u53d6\u3063\u3066\u3044\u308b\u306e\u3067\u3001\u3053\u308c\u3092\u6df7\u540c\u3057\u306a\u3044\u3088\u3046\u306b\u6ce8\u610f\u3057\u3066\u4e0b\u3055\u3044\u3002",Object(b.b)("br",{parentName:"p"}),"\n","\u3053\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3067\u306fUUID\u3068handle\u304c1\u5bfe1\u3067\u7d10\u3065\u3051\u3089\u308c\u3066\u3044\u307e\u3059\u3002"),Object(b.b)("p",null,"\u4ee5\u4e0b\u306bGATT\u30a2\u30af\u30bb\u30b9\u306b\u7528\u610f\u3055\u308c\u305fLua\u95a2\u6570\u3092\u793a\u3057\u307e\u3059\u3002"),Object(b.b)("h5",{id:"lua_gatt_connect"},"LUA_gatt_connect()"),Object(b.b)("p",null,"Blutooth\u30c7\u30d0\u30a4\u30b9\u30a2\u30c9\u30ec\u30b9deviceId\u306bGATT\u63a5\u7d9a\u3057\u307e\u3059\u3002"),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{}),"LUA_gatt_connect(deviceId, type)\n    \u5f15\u6570\n        deviceId(\u6587\u5b57\u5217)\n            \u63a5\u7d9a\u3059\u308b\u30ea\u30e2\u30fc\u30c8\u306eBluetooth\u30c7\u30d0\u30a4\u30b9\u30a2\u30c9\u30ec\u30b9\n        type(\u6587\u5b57\u5217)\n            \u30a2\u30c9\u30ec\u30b9\u30bf\u30a4\u30d7(\u201cpublic\u201d\u307e\u305f\u306f\u201drandom\u201d)\n    \u623b\u308a\u5024\n        cli(\u30e6\u30fc\u30b6\u30fc\u30c7\u30fc\u30bf)\n            \u30c7\u30d0\u30a4\u30b9\u306e\u30a2\u30af\u30bb\u30b9\u7528\u30c7\u30b9\u30af\u30ea\u30d7\u30bf\n            \u63a5\u7d9a\u306b\u5931\u6557\u3057\u305f\u5834\u5408\u306fnil\u304c\u8fd4\u308b\n    \u6ce8\u610f\n        \u5931\u6557\u306e\u78ba\u7387\u304c\u9ad8\u3044\u305f\u3081\u30ea\u30c8\u30e9\u30a4\u3059\u308b\u4e8b\u3092\u63a8\u5968\u3002\n")),Object(b.b)("h5",{id:"lua_ble_read"},"LUA_ble_read()"),Object(b.b)("p",null,"Bluetooth\u30c7\u30d0\u30a4\u30b9\u306e\u6307\u5b9a\u3057\u305fUUID\u30cf\u30f3\u30c9\u30eb\u304b\u3089\u30c7\u30fc\u30bf\u3092\u8aad\u307f\u8fbc\u307f\u307e\u3059\u3002"),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{}),"LUA_ble_read(cli, handle)\n    \u5f15\u6570\n        cli(\u30e6\u30fc\u30b6\u30fc\u30c7\u30fc\u30bf)\n            LUA_ble_connect()\u3067\u53d6\u5f97\u3057\u305f\u30c7\u30d0\u30a4\u30b9\u30a2\u30af\u30bb\u30b9\u7528\u30c7\u30b9\u30af\u30ea\u30d7\u30bf\n        handle(\u6570\u5024)\n            characteristics\u306eUUID\u3092\u30a2\u30af\u30bb\u30b9\u3059\u308b\u30cf\u30f3\u30c9\u30eb\n    \u623b\u308a\u5024\n        data(\u30d0\u30a4\u30ca\u30ea\u30fc)\n            \u53d6\u5f97\u3057\u305f\u5024\u306e\u30d0\u30a4\u30c8\u5217\n            \u5931\u6557\u3057\u305f\u5834\u5408\u306fnil\u304c\u8fd4\u308b\n")),Object(b.b)("h5",{id:"lua_ble_write"},"LUA_ble_write()"),Object(b.b)("p",null,"Bluetooth\u30c7\u30d0\u30a4\u30b9\u306e\u6307\u5b9a\u3057\u305fUUID\u30cf\u30f3\u30c9\u30eb\u306b\u30c7\u30fc\u30bf\u3092\u66f8\u304d\u8fbc\u307f\u307e\u3059\u3002"),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{}),"LUA_ble_write(cli, handle, value)\n    \u5f15\u6570\n        cli(\u30e6\u30fc\u30b6\u30fc\u30c7\u30fc\u30bf)\n            LUA_ble_connect()\u3067\u53d6\u5f97\u3057\u305f\u30c7\u30d0\u30a4\u30b9\u30a2\u30af\u30bb\u30b9\u7528\u30c7\u30b9\u30af\u30ea\u30d7\u30bf\n        handle(\u6570\u5024)\n            \u5024\u3092\u66f8\u304fcharacteristics\u5024\u306e\u30cf\u30f3\u30c9\u30eb\n        value(\u30d0\u30a4\u30ca\u30ea\u30fc)\n            \u66f8\u304d\u8fbc\u3080\u30d0\u30a4\u30ca\u30ea\u30fc\u30c7\u30fc\u30bf\u5217\n    \u623b\u308a\u5024\n        num(\u6570\u5024)\n            \u66f8\u3044\u305f\u5024\u306e\u30d0\u30a4\u30c8\u6570\n            \u5931\u6557\u3057\u305f\u5834\u5408\u306fnil\u304c\u8fd4\u308b\n")),Object(b.b)("h5",{id:"lua_gatt_disconnect"},"LUA_gatt_disconnect()"),Object(b.b)("p",null,"Bluetooth\u30c7\u30d0\u30a4\u30b9\u3068\u306eGATT\u63a5\u7d9a\u3092\u5207\u65ad\u3057\u307e\u3059\u3002"),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{}),"LUA_gatt_disconnect(cli)\n    \u5f15\u6570\n        cli(\u30e6\u30fc\u30b6\u30fc\u30c7\u30fc\u30bf)\n            LUA_ble_connect()\u3067\u53d6\u5f97\u3057\u305f\u30c7\u30d0\u30a4\u30b9\u30a2\u30af\u30bb\u30b9\u7528\u30c7\u30b9\u30af\u30ea\u30d7\u30bf\n    \u623b\u308a\u5024\n        \u7121\u3057\n")),Object(b.b)("h4",{id:"gatt\u901a\u4fe1\u306e\u5fdc\u7528\u306euart\u30b5\u30fc\u30d3\u30b9\u3068\u30a4\u30f3\u30bf\u30fc\u30d0\u30eb\u306b\u3088\u308b\u81ea\u767a\u7684\u306a\u30c7\u30fc\u30bf\u9001\u4fe1\u95a2\u6570"},"GATT\u901a\u4fe1\u306e\u5fdc\u7528\u306eUART\u30b5\u30fc\u30d3\u30b9\u3068\u30a4\u30f3\u30bf\u30fc\u30d0\u30eb\u306b\u3088\u308b\u81ea\u767a\u7684\u306a\u30c7\u30fc\u30bf\u9001\u4fe1\u95a2\u6570"),Object(b.b)("p",null,"BLE\u30c7\u30d0\u30a4\u30b9\u306b\u3088\u3063\u3066\u306f\u3001UUID\u3092\u53d7\u4fe1\u5c02\u7528\u306e\u3082\u306e\u3068\u9001\u4fe1\u5c02\u7528\u306e\u3082\u306e\u3068\u5206\u3051\u3066\u5b9f\u88c5\u3057\u3001\u30c7\u30fc\u30bf\u8ee2\u9001\u309220Byte\u7a0b\u5ea6\u306e\u5358\u4f4d\u306b\u6291\u3048\u3066\u5c11\u3057\u305a\u3064\u8ee2\u9001\u3092\u884c\u3044\u4e00\u822c\u306e\u30b7\u30ea\u30a2\u30eb\u901a\u4fe1\u306e\u69d8\u306a\u52d5\u4f5c\u6a5f\u80fd\u3092\u6301\u3064\u30c7\u30d0\u30a4\u30b9\u304c\u3042\u308a\u307e\u3059\u3002",Object(b.b)("br",{parentName:"p"}),"\n","\u30db\u30b9\u30c8\u306f\u3053\u3046\u3044\u3063\u305f\u30c7\u30d0\u30a4\u30b9\u3092\u76f8\u624b\u306b\u3059\u308b\u6642\u3001\u7279\u5b9a\u306eUUID\u3092\u53d7\u4fe1\u30dd\u30fc\u30c8\u30fb\u9001\u4fe1\u30dd\u30fc\u30c8\u3068\u898b\u7acb\u3066\u3066\u30b7\u30ea\u30a2\u30eb\u901a\u4fe1\u3092\u884c\u3046\u4e8b\u304c\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002  "),Object(b.b)("p",null,"\u3082\u3046\u4e00\u3064\u306f\u3001BLE\u30c7\u30d0\u30a4\u30b9\u304c\u81ea\u5206\u306e\u30a4\u30f3\u30bf\u30fc\u30d0\u30eb\u30bf\u30a4\u30de\u306b\u3088\u3063\u3066\u5b9a\u671f\u7684\u306b\u30c7\u30fc\u30bf\u3092\u9001\u4fe1\u3057\u3066\u304f\u308b\u6a5f\u80fd\u3078\u306e\u5bfe\u5fdc\u3067\u3059\u3002",Object(b.b)("br",{parentName:"p"}),"\n","\u4f8b\u3048\u30701\u5206\u6bce\u306b\u6d88\u8cbb\u96fb\u529b\u3092\u901a\u77e5\u3055\u305b\u308b\u3088\u3046\u306a\u5834\u5408\u306b\u4f7f\u3044\u307e\u3059\u3002  "),Object(b.b)("p",null,"OpenBlocks\u306eGATT\u30e9\u30a4\u30d6\u30e9\u30ea\u3067\u306f\u3001\u3053\u3046\u3044\u3063\u305f\u52d5\u4f5c\u3082\u30b5\u30dd\u30fc\u30c8\u3067\u304d\u308b\u3088\u3046\u306b\u4f5c\u3089\u308c\u3066\u3044\u307e\u3059\u3002",Object(b.b)("br",{parentName:"p"}),"\n","\u306a\u304a\u3001\u3053\u308c\u3089\u306e\u95a2\u6570\u306f\u3001\u524d\u8a18\u3001LUA_gatt_connect\u3001LUA_gatt_disconnect\u3001\u3068\u4e00\u7dd2\u306b\u5229\u7528\u3057\u307e\u3059\u3002\n\u4ee5\u4e0b\u304cBLE\u30c7\u30d0\u30a4\u30b9\u306e\u81ea\u767a\u7684\u306a\u901a\u77e5\u3092\u5236\u5fa1\u3059\u308b\u95a2\u6570\u3067\u3059\u3002"),Object(b.b)("h5",{id:"lua_ble_register_notify"},"LUA_ble_register_notify()"),Object(b.b)("p",null,"BLE\u30c7\u30d0\u30a4\u30b9\u306e\u81ea\u767a\u7684\u306a\u901a\u77e5\u3092\u6709\u52b9\u306b\u3057\u307e\u3059\u3002"),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{}),"LUA_ble_register_notify(cli, handle)\n    \u5f15\u6570\n        cli(\u30e6\u30fc\u30b6\u30fc\u30c7\u30fc\u30bf)\n            LUA_ble_connect()\u306e\u623b\u308a\u5024\u3067\u53d6\u5f97\u3057\u305f\u30c7\u30d0\u30a4\u30b9\u30a2\u30af\u30bb\u30b9\u7528\u30c7\u30a3\u30b9\u30af\u30ea\u30d7\u30bf\n        handle(\u6570\u5024)\n            \u901a\u77e5\u3092\u6709\u52b9\u306b\u3059\u308bcharacteristics\u5024\u306e\u30cf\u30f3\u30c9\u30eb\n    \u623b\u308a\u5024\n        id(\u6570\u5024)\n            \u6709\u52b9\u306b\u3057\u305f\u901a\u77e5\u306e\u767b\u9332ID\n            \u5931\u6557\u3057\u305f\u5834\u5408\u306fnil\u304c\u8fd4\u308b\n")),Object(b.b)("h5",{id:"lua_ble_notify_show"},"LUA_ble_notify_show()"),Object(b.b)("p",null,"BLE\u30c7\u30d0\u30a4\u30b9\u304b\u3089\u306e\u901a\u77e5\u3055\u308c\u305f\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002"),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{}),"LUA_ble_notify_show(cli)\n    \u5f15\u6570\n        cli(\u30e6\u30fc\u30b6\u30fc\u30c7\u30fc\u30bf)\n            LUA_ble_connect()\u306e\u623b\u308a\u5024\u3067\u53d6\u5f97\u3057\u305f\u30c7\u30d0\u30a4\u30b9\u30a2\u30af\u30bb\u30b9\u7528\u30c7\u30a3\u30b9\u30af\u30ea\u30d7\u30bf\n    \u623b\u308a\u5024\n        data(\u6587\u5b57\u5217)\n            \u53d6\u5f97\u3057\u305f\u5024\u306e\u30d0\u30a4\u30c8\u5217\n            \u5931\u6557\u3057\u305f\u5834\u5408\u306fnil\u304c\u8fd4\u308b\n")),Object(b.b)("h5",{id:"lua_ble_unregister_notify"},"LUA_ble_unregister_notify()"),Object(b.b)("p",null,"BLE\u30c7\u30d0\u30a4\u30b9\u306e\u81ea\u767a\u7684\u306a\u901a\u77e5\u3092\u7121\u52b9\u306b\u3057\u307e\u3059\u3002"),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{}),"LUA_ble_unregister_notify(cli, id)\n    \u5f15\u6570\n        cli(\u30e6\u30fc\u30b6\u30fc\u30c7\u30fc\u30bf)\n            LUA_ble_connect()\u306e\u623b\u308a\u5024\u3067\u53d6\u5f97\u3057\u305f\u30c7\u30d0\u30a4\u30b9\u30a2\u30af\u30bb\u30b9\u7528\u30c7\u30a3\u30b9\u30af\u30ea\u30d7\u30bf\n        id(\u6570\u5024)\n            LUA_ble_register_notify()\u306e\u623b\u308a\u5024\u3067\u53d6\u5f97\u3057\u305f\u901a\u77e5\u306e\u767b\u9332ID\n    \u623b\u308a\u5024\n        id(\u6570\u5024)\n            \u7121\u52b9\u306b\u3057\u305f\u901a\u77e5\u306e\u767b\u9332ID\n            \u5931\u6557\u3057\u305f\u5834\u5408\u306fnil\u304c\u8fd4\u308b\n")),Object(b.b)("h4",{id:"ble\u30cf\u30f3\u30c9\u30e9\u7528\u306e\u30e6\u30fc\u30c6\u30a3\u30ea\u30c6\u30a3\u95a2\u6570"},"BLE\u30cf\u30f3\u30c9\u30e9\u7528\u306e\u30e6\u30fc\u30c6\u30a3\u30ea\u30c6\u30a3\u95a2\u6570"),Object(b.b)("p",null,"\u305d\u306e\u4ed6\u30e6\u30fc\u30c6\u30a3\u30ea\u30c6\u30a3\u95a2\u6570\u3067\u3059\u3002"),Object(b.b)("h5",{id:"lua_send_sensor_data"},"LUA_send_sensor_data()"),Object(b.b)("p",null,"\u30c7\u30fc\u30bf\u3092\u30af\u30e9\u30a6\u30c9\uff08\u4e0a\u6d41\uff09\u3078\u9001\u4fe1\u3057\u307e\u3059\u3002"),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{}),"LUA_send_sensor_data(sensor, data)\n    \u5f15\u6570\n        sensor(\u30e6\u30fc\u30b6\u30fc\u30c7\u30fc\u30bf)\n            xxxxx_xxxxxx.gatt_exec()\u95a2\u6570\u307e\u305f\u306fxxxxx_xxxxxx.downstream_exec()\u95a2\u6570\u3067\u6e21\u3055\u308c\u305f\u5f15\u6570\u3092\u305d\u306e\u307e\u307e\u6e21\u3059\u3002\n        data(\u6587\u5b57\u5217)\n            \u9001\u4fe1\u3059\u308bjson\u6587\u5b57\u5217\u306e\u30c7\u30fc\u30bf\uff08\u5fc5\u305a\u6587\u5b57\u5217\u3068\u3057\u3066\u30a8\u30f3\u30b3\u30fc\u30c9\u3059\u308b\uff09\n")),Object(b.b)("h5",{id:"lua_ble_getcrc8"},"LUA_ble_getcrc8()"),Object(b.b)("p",null,"CRC8\u3092\u53d6\u5f97\u3059\u308b\uff08UART\u30b5\u30fc\u30d3\u30b9\u306a\u3069\u3067\u5fc5\u8981\u306a\u5834\u5408\u306b\u4f7f\u3046\uff09"),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{}),"LUA_ble_getcrc8(payload)\n    \u5f15\u6570\n        payload(\u6587\u5b57\u5217)\n            CRC8\u3092\u53d6\u5f97\u3059\u308b\u5024\n    \u623b\u308a\u5024\n        crc8(\u6570\u5024)\n            \u53d6\u5f97\u3057\u305fCRC8\n")),Object(b.b)("h5",{id:"lua_ble_sleep"},"LUA_ble_sleep()"),Object(b.b)("p",null,"\u30d7\u30ed\u30bb\u30b9\u3092\u30b9\u30ea\u30fc\u30d7\u3059\u308b\uff08\u79d2\u5358\u4f4d\uff09"),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{}),"LUA_ble_sleep(sec)\n    \u5f15\u6570\n        sec(\u6570\u5024)\n            \u30b9\u30ea\u30fc\u30d7\u3059\u308b\u79d2\u6570\n    \u623b\u308a\u5024\n        \u7121\u3057\n")),Object(b.b)("h5",{id:"lua_ble_usleep"},"LUA_ble_usleep()"),Object(b.b)("p",null,"\u30d7\u30ed\u30bb\u30b9\u3092\u30b9\u30ea\u30fc\u30d7\u3059\u308b\uff08\u30de\u30a4\u30af\u30ed\u79d2\u5358\u4f4d\uff09"),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{}),"LUA_ble_usleep(usec)\n    \u5f15\u6570\n        usec(\u6570\u5024)\n            \u30b9\u30ea\u30fc\u30d7\u3059\u308b\u30de\u30a4\u30af\u30ed\u79d2\u6570\n    \u623b\u308a\u5024\n        \u7121\u3057\n")),Object(b.b)("h4",{id:"gatt\u901a\u4fe1\u306elua\u30cf\u30f3\u30c9\u30e9\u30fc\u30b5\u30f3\u30d7\u30eb"},"GATT\u901a\u4fe1\u306eLua\u30cf\u30f3\u30c9\u30e9\u30fc\u30b5\u30f3\u30d7\u30eb"),Object(b.b)("p",null,"\u3053\u306e\u30b5\u30f3\u30d7\u30eb\u3067\u306f\u30bb\u30f3\u30b5\u30fc\u30c7\u30fc\u30bf\u306e\u30d1\u30fc\u30b9\u3092\u884c\u3063\u3066\u3044\u306a\u3044\u306e\u3067\u3001\u30d1\u30fc\u30b9\u306b\u3064\u3044\u3066\u306f\u4ed6\u306e\u30bb\u30f3\u30b5\u30fc\u30cf\u30f3\u30c9\u30e9\u3092\u53c2\u8003\u306b\u3057\u3066\u4e0b\u3055\u3044\u3002\n\u3053\u306e\u30b5\u30f3\u30d7\u30eb\u306fdevices_custom\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e skelton.lua \u3067\u3059\u3002"),Object(b.b)("h5",{id:"skeltonlua"},"skelton.lua"),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-lua"}),'    skelton = {} -- \u30cf\u30f3\u30c9\u30e9\u30fc\u306e\u30c6\u30fc\u30d6\u30eb\u5ba3\u8a00\n    \n    -- definition\n    local write_uuid = "01234567-89ab-cdef-0123-456789abcdef"\n    local read_uuid  = "0123456f-89ab-cdef-0123-456789abcdef"\n    \n    -- WEB-UI\u3067\u30d3\u30fc\u30b3\u30f3\u767b\u9332\u3055\u308c\u305f\u30a2\u30c9\u30d0\u30bf\u30a4\u30ba\u30c7\u30fc\u30bf\u306e\u30d1\u30fc\u30b5\u30fc\n    -- \uff08\u4f8b\u3048\u3070\u30d3\u30fc\u30b3\u30f3\u306e\u96fb\u6c60\u6b8b\u91cf\u3092\u30a2\u30c9\u30d0\u30bf\u30a4\u30ba\u30c7\u30fc\u30bf\u304b\u3089\u30d1\u30fc\u30b9\u3057\u305f\u3044\u6642\u306b\u4f7f\u7528\uff09\n    function skelton.parse_beacon(jo, manufacturerData, localname)\n        pdHandlerUtil.log_debug("skelton.parse_beacon")\n    \n        if #manufacturerData == 0 then\n            jo.send = false\n        else\n            -- \u3053\u306e\u30b5\u30f3\u30d7\u30eb\u3067\u30c7\u30fc\u30bf\u306e\u30da\u30a4\u30ed\u30fc\u30c9\u3092\u305d\u306e\u307e\u307e16\u9032\u6587\u5b57\u5217\u306b\u5909\u63db\u3057\u3066\u3044\u307e\u3059\u3002\n            -- \u901a\u5e38\u306f\u3053\u306e\u4e2d\u3067\u30bb\u30f3\u30b5\u30fc\u30c7\u30fc\u30bf\u306a\u3069"jo."\u306e\u4efb\u610f\u306e\u30e1\u30f3\u30d0\u30fc\u306b\u30d1\u30fc\u30b9\u3057\u3066\u4ee3\u5165\u3057\u307e\u3059\u3002\n            local str = pdHandlerUtil.bin2str(manufacturerData, #manufacturerData)\n            if str ~= nil then\n                jo.manufacturerData = str\n            end\n        end\n    end\n    \n    -- WEB-UI\u3067\u30d3\u30fc\u30b3\u30f3\u30bb\u30f3\u30b5\u30fc\u767b\u9332\u3055\u308c\u305f\u30a2\u30c9\u30d0\u30bf\u30a4\u30ba\u30c7\u30fc\u30bf\u306e\u30d1\u30fc\u30b5\u30fc\n    -- \uff08\u901a\u5e38\u306f\u30d3\u30fc\u30b3\u30f3\u30bb\u30f3\u30b5\u30fc\u306e\u30c7\u30fc\u30bf\u3092\u30d1\u30fc\u30b9\u3059\u308b\u5834\u5408\u3053\u3061\u3089\u3092\u4f7f\u7528\uff09\n    function skelton.parse_adv(jo, manufacturerData, localname)\n        pdHandlerUtil.log_debug("skelton.parse_adv")\n    \n        if #manufacturerData == 0 then\n            jo.send = false\n        else\n            -- \u3053\u306e\u30b5\u30f3\u30d7\u30eb\u3067\u30c7\u30fc\u30bf\u306e\u30da\u30a4\u30ed\u30fc\u30c9\u3092\u305d\u306e\u307e\u307e16\u9032\u6587\u5b57\u5217\u306b\u5909\u63db\u3057\u3066\u3044\u307e\u3059\u3002\n            -- \u901a\u5e38\u306f\u3053\u306e\u4e2d\u3067\u30bb\u30f3\u30b5\u30fc\u30c7\u30fc\u30bf\u306a\u3069"jo."\u306e\u4efb\u610f\u306e\u30e1\u30f3\u30d0\u30fc\u306b\u30d1\u30fc\u30b9\u3057\u3066\u4ee3\u5165\u3057\u307e\u3059\u3002\n            local str = pdHandlerUtil.bin2str(manufacturerData, #manufacturerData)\n            if str ~= nil then\n                jo.manufacturerData = str\n            end\n        end\n    end\n    \n    -- GATT\u3067\u30a2\u30af\u30bb\u30b9\u3059\u308b\u30bb\u30f3\u30b5\u30fc\u3067\u4f7f\u7528\u3059\u308b\u95a2\u6570\n    -- \uff08WEB-UI\u3067\u8a2d\u5b9a\u3055\u308c\u305f\u30a4\u30f3\u30bf\u30fc\u30d0\u30eb\u30bf\u30a4\u30de\u30fc\u3067\u5b9a\u671f\u7684\u306b\u547c\u3073\u51fa\u3055\u308c\u308b\u95a2\u6570\uff09\n    function skelton.gatt_exec(sensor, deviceId, infos)\n        pdHandlerUtil.log_debug("skelton.gatt_exec")\n    \n        local jo = {}\n        jo.deviceId = deviceId\n        jo.time = pdHandlerUtil.get_current_time()\n        add_infos(jo, infos)\n    \n        -- connect and get handle table\n        local cli, handle_table = LUA_gatt_connect(deviceId, "random")\n        if cli == nil then\n            pdHandlerUtil.log_err("failed: LUA_gatt_connect")\n            return\n        end\n    \n        -- read \u5358\u7d14\u306b\u4efb\u610f\u306eUUID\u3092\u8aad\u307f\u8fbc\u3080\u6642\n        local read_value = LUA_ble_read(cli, handle_table[read_uuid])\n        if read_value == nil then\n            pdHandlerUtil.log_err("failed: LUA_ble_read")\n            LUA_gatt_disconnect(cli)\n            return\n        else\n            jo.read_value = read_value\n        end\n    \n        -- BLE\u30c7\u30d0\u30a4\u30b9\u306e\u81ea\u767a\u9001\u4fe1\u3092\u6709\u52b9\u306b\u3059\u308b\u5834\u5408\n        local id = LUA_ble_register_notify(cli, handle_table[read_uuid])\n        if id == nil then\n            pdHandlerUtil.log_err("failed: LUA_ble_register_notify")\n            LUA_gatt_disconnect(cli)\n            return\n        end\n        LUA_ble_sleep(10) -- \u30e2\u30fc\u30c9\u8a2d\u5b9a\u3057\u305f\u3089\u5c11\u3057\u5f85\u3064\n    \n        -- BLE\u30c7\u30d0\u30a4\u30b9\u306e\u81ea\u767a\u9001\u4fe1\u306e\u30c7\u30fc\u30bf\u3092\u8aad\u307f\u8fbc\u3080\n        local notify_data = LUA_ble_notify_show(cli)\n        if notify_data == nil then\n            -- \u81ea\u767a\u9001\u4fe1\u306a\u306e\u3067\u9001\u4fe1\u3055\u308c\u3066\u3044\u306a\u3044\u6642\u3082\u3042\u308b\n            pdHandlerUtil.log_err("failed: LUA_ble_notify_show")\n        else\n            -- \u81ea\u767a\u9001\u4fe1\u30c7\u30fc\u30bf\u304c\u30d0\u30c3\u30d5\u30a1\u306b\u3042\u3063\u305f\u5834\u5408\n            jo.notify_data = notify_data\n        end\n    \n        -- BLE\u30c7\u30d0\u30a4\u30b9\u306e\u81ea\u767a\u9001\u4fe1\u3092\u6709\u52b9\u306b\u3057\u305f\u5834\u5408\u306f\u4f7f\u7528\u5f8c\u306b\u7121\u52b9\u306b\u3059\u308b\n        LUA_ble_unregister_notify(cli, id)\n    \n        -- \u4e00\u9023\u306e\u51e6\u7406\u304c\u7d42\u308f\u3063\u305f\u3089\u30c7\u30a3\u30b9\u30b3\u30cd\u30af\u30c8\u3059\u308b\n        LUA_gatt_disconnect(cli)\n    \n        -- \u53d6\u308a\u8fbc\u3093\u3060\u30c7\u30fc\u30bf\u3092\u30af\u30e9\u30a6\u30c9(\u4e0a\u6d41)\u306b\u9001\u4fe1\u3059\u308b\n        LUA_send_sensor_data(sensor, json.encode(jo))\n    end\n    \n    -- \u30af\u30e9\u30a6\u30c9(\u4e0a\u6d41)\u304b\u3089\u306e\u5236\u5fa1\u547d\u4ee4\u3092\u53d7\u4fe1\u3057\u305f\u6642\u8d77\u52d5\u3059\u308b\u95a2\u6570\n    function skelton.downstream_exec(sensor, deviceId, msg, infos)\n        pdHandlerUtil.log_debug("skelton.downstream_exec")\n    \n        local jo = {}\n        jo.deviceId = deviceId\n        jo.time = pdHandlerUtil.get_current_time()\n        add_infos(jo, infos)\n        jo.result = "error"\n    \n        -- connect\n        local cli, handle_table = LUA_gatt_connect(deviceId, "random")\n        if cli == nil then\n            pdHandlerUtil.log_err("failed: LUA_gatt_connect")\n            LUA_send_sensor_data(sensor, json.encode(jo))\n            return\n        end\n    \n        -- \u53d7\u4fe1\u3057\u305f\u30af\u30e9\u30a6\u30c9(\u4e0a\u6d41)\u304b\u3089\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u9023\u60f3\u914d\u5217\u306b\u30c7\u30b3\u30fc\u30c9\u3059\u308b\n        local upstream_data = json.decode(msg)\n        local write_data = upstream_data.data\n    \n        -- \u53d7\u4fe1\u3057\u305f\u30c7\u30fc\u30bf\u90e8\u5206\u3092BLE\u30c7\u30d0\u30a4\u30b9\u306b\u9001\u308b\n        if nil == LUA_ble_write(cli, handle_table[write_uuid], write_data) then\n            pdHandlerUtil.log_err("failed: LUA_ble_write")\n            LUA_gatt_disconnect(cli)\n            LUA_send_sensor_data(sensor, json.encode(jo))\n            return\n        else\n            pdHandlerUtil.log_info("succeeded: LUA_ble_write")\n            jo.result = "success"\n        end\n    \n        -- GATT\u3092\u30c7\u30a3\u30b9\u30b3\u30cd\u30af\u30c8\n        LUA_gatt_disconnect(cli)\n    \n        -- \u30af\u30e9\u30a6\u30c9(\u4e0a\u6d41)\u306b\u30ec\u30b9\u30dd\u30f3\u30b9\u3059\u308b\n        LUA_send_sensor_data(sensor, json.encode(jo))\n    end\n    \n    return skelton\n')),Object(b.b)("h3",{id:"\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u64cd\u4f5c"},"\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9/\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u64cd\u4f5c"),Object(b.b)("p",null,"\u4f5c\u6210\u3057\u305fLua\u30cf\u30f3\u30c9\u30e9\u306e\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3084\u3001\u53c2\u8003\u306b\u3059\u308bLua\u30cf\u30f3\u30c9\u30e9\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u64cd\u4f5c\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002  "),Object(b.b)("p",null,Object(b.b)("img",{src:t(654).default})),Object(b.b)("h4",{id:"ble-lua-\u30e1\u30cb\u30e5\u30fc\u306e\u64cd\u4f5c\u9805\u76ee"},"BLE Lua \u30e1\u30cb\u30e5\u30fc\u306e\u64cd\u4f5c\u9805\u76ee"),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"\u8a2d\u5b9a\u9805\u76ee"),Object(b.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"\u8aac\u660e"))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"\u66f4\u65b0"),Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Lua\u30d5\u30a1\u30a4\u30eb\u306e\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u5148\u306e\u30d5\u30a1\u30a4\u30eb\u4e00\u89a7\u8868\u793a\u3092\u66f4\u65b0\u3057\u307e\u3059\u3002")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"\u524a\u9664"),Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"\u30d5\u30a1\u30a4\u30eb\u3092\u9078\u629e\u5f8c",Object(b.b)("inlineCode",{parentName:"td"},"\u524a\u9664"),"\u30dc\u30bf\u30f3\u3067\u524a\u9664\u3057\u307e\u3059\u3002",Object(b.b)("br",null),"\u524a\u9664\u53ef\u80fd\u306a\u30d5\u30a1\u30a4\u30eb\u306f\u30ab\u30b9\u30bf\u30e0\u7528\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u914d\u4e0b\u306e\u30d5\u30a1\u30a4\u30eb\u3067\u3059\u3002")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9"),Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"\u30d5\u30a1\u30a4\u30eb\u3092\u9078\u629e\u5f8c",Object(b.b)("inlineCode",{parentName:"td"},"\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9"),"\u30dc\u30bf\u30f3\u3067\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30d1\u30bd\u30b3\u30f3\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30d5\u30a9\u30eb\u30c0\u306b\u30d5\u30a1\u30a4\u30eb\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"\u5b9f\u884c\u6a29\u4ed8\u4e0e"),Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"\u30d5\u30a1\u30a4\u30eb\u3092\u9078\u629e\u5f8c",Object(b.b)("inlineCode",{parentName:"td"},"\u5b9f\u884c\u6a29\u4ed8\u4e0e"),"\u30dc\u30bf\u30f3\u3067\u5b9f\u884c\u6a29\u3092\u4ed8\u4e0e\u3057\u307e\u3059\u3002\u901a\u5e38\u3067\u306f\u4e0d\u8981\u3067\u3059\u3002")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u5148"),Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3057\u305f\u3044\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u30d7\u30eb\u30c0\u30a6\u30f3\u304b\u3089\u9078\u629e\u3057\u3066\u4e0b\u3055\u3044\u3002",Object(b.b)("br",null),"\u203b\u5bfe\u8c61\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u914d\u4e0b\u304c\u30d7\u30eb\u30c0\u30a6\u30f3\u5bfe\u8c61\u3067\u3059\u3002")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9"),Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(b.b)("inlineCode",{parentName:"td"},"\u30d5\u30a1\u30a4\u30eb\u3092\u9078\u629e"),"\u30dc\u30bf\u30f3\u3092\u62bc\u3059\u3068\u3001\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30d1\u30bd\u30b3\u30f3\u306e\u30d5\u30a1\u30a4\u30eb\u4e00\u89a7\u304b\u3089\u6307\u5b9a\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u9078\u629e\u3057\u3066\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3067\u304d\u307e\u3059\u3002",Object(b.b)("sup",null,"*1"))))),Object(b.b)("div",{className:"admonition admonition-info alert alert--info"},Object(b.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(b.b)("h5",{parentName:"div"},Object(b.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(b.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(b.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})))),"info")),Object(b.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(b.b)("ol",{parentName:"div"},Object(b.b)("li",{parentName:"ol"},"\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u5f8c\u306b\u30d7\u30ed\u30bb\u30b9\u306e\u518d\u8d77\u52d5\u304c\u5fc5\u8981\u306a\u306e\u3067\u3001",Object(b.b)("a",Object(a.a)({parentName:"li"},{href:"/docs/openblocks/fw5/webui/reference/dashboard"}),"\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9"),"\u304b\u3089\u505c\u6b62\u30fb\u8d77\u52d5\u306e\u64cd\u4f5c\u3092\u884c\u3063\u3066\u4e0b\u3055\u3044\u3002")))),Object(b.b)("div",{className:"admonition admonition-caution alert alert--warning"},Object(b.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(b.b)("h5",{parentName:"div"},Object(b.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(b.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"}),Object(b.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"})))),"caution")),Object(b.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(b.b)("p",{parentName:"div"},"\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u5148\u306bLua\u30d5\u30a1\u30a4\u30eb\u4ee5\u5916\u304c\u5b58\u5728\u3057\u3066\u3044\u308b\u5834\u5408\u306b\u306f\u6b63\u5e38\u306b\u52d5\u4f5c\u3057\u307e\u305b\u3093\u3002",Object(b.b)("br",{parentName:"p"}),"\n","Lua\u30d5\u30a1\u30a4\u30eb\u4ee5\u5916\u3092\u7f6e\u304b\u306a\u3044\u3067\u4e0b\u3055\u3044\u3002"))),Object(b.b)("h2",{id:"enocean-lua"},"EnOcean Lua"),Object(b.b)("p",null,"EnOcean\u306fEEP(EnOcean Equipment Profile)\u3068\u3044\u3046\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u3067\u30c7\u30d0\u30a4\u30b9\u304c\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u307e\u3059\u3002",Object(b.b)("br",{parentName:"p"}),"\n","\u307e\u305f\u4e00\u90e8\u306eGP(Generic Profile)\u306e\u30c7\u30d0\u30a4\u30b9\u306b\u3064\u3044\u3066\u3082\u5bfe\u5fdc\u3057\u3066\u3044\u307e\u3059\u304c\u3001Tech-in\u30c7\u30fc\u30bf\u3092\u7528\u3044\u306a\u3044\u70baEEP\u30c7\u30d0\u30a4\u30b9\u3068\u540c\u69d8\u306bGP\u304b\u3089\u59cb\u307e\u308b\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002"),Object(b.b)("h3",{id:"enocean\u767b\u9332\u3068lua\u95a2\u6570\u306e\u95a2\u4fc2"},"EnOcean\u767b\u9332\u3068Lua\u95a2\u6570\u306e\u95a2\u4fc2"),Object(b.b)("p",null,"EnOcean\u30c7\u30d0\u30a4\u30b9\u306fBLE\u6a5f\u5668\u306b\u6bd4\u3079\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u3068\u8a00\u3046\u5f62\u5f0f\u3092\u3068\u3063\u3066\u3044\u308b\u305f\u3081\u3001\u30c7\u30fc\u30bf\u5f62\u5f0f\u304c\u898f\u683c\u5316\u3055\u308c\u3066\u3044\u308b\u305f\u3081\u6271\u3044\u6613\u3044\u3067\u3059\u3002",Object(b.b)("br",{parentName:"p"}),"\n","\u30c7\u30d0\u30a4\u30b9\u6bce\u306e\u30cf\u30f3\u30c9\u30e9\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3001devices\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u540d\u3067Lua\u30cf\u30f3\u30c9\u30e9\u304c\u767b\u9332\u3055\u308c\u3066\u3044\u307e\u3059\u3002",Object(b.b)("br",{parentName:"p"}),"\n",Object(b.b)("strong",{parentName:"p"},"IoT\u30c7\u30fc\u30bf\u21d2EnOcean Lua"),"\u30bf\u30d6\u306e\u64cd\u4f5c\u753b\u9762\u306e\u4ee5\u4e0b\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3067\u3059\u3002  "),Object(b.b)("p",null,Object(b.b)("img",{src:t(655).default})),Object(b.b)("p",null,"EnOcean\u3092\u53d7\u4fe1\u767b\u9332\u3059\u308b\u3059\u308b\u6642\u306f",Object(b.b)("a",Object(a.a)({parentName:"p"},{href:"/docs/openblocks/fw5/service/basic#enocean"}),"EnOcean\u767b\u9332"),"\u3067",Object(b.b)("strong",{parentName:"p"},"\u30c7\u30d0\u30a4\u30b9ID"),"\u3068",Object(b.b)("strong",{parentName:"p"},"EEP"),"\u306e\u767b\u9332\u304c\u5fc5\u9808\u3067\u3059\u3002  "),Object(b.b)("p",null,"\u3053\u3053\u3067\u767b\u9332\u3055\u308c\u305fEEP\u3042\u308f\u305b\u3066\u3001devices\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u767b\u9332\u3055\u308c\u305fLua\u30cf\u30f3\u30c9\u30e9\u30fc\u306e\u4e2d\u304b\u3089\u8a72\u5f53\u3059\u308b\u30cf\u30f3\u30c9\u30e9\u30fc\u304c\u9078\u629e\u3055\u308c\u5b9f\u884c\u3057\u307e\u3059\u3002",Object(b.b)("br",{parentName:"p"}),"\n","\u203bEnOcean\u30cf\u30f3\u30c9\u30e9\u306fBLE\u30cf\u30f3\u30c9\u30e9\u3068\u306f\u9055\u3063\u3066Lua\u3092\u547c\u3070\u308c\u305f\u6642\u70b9\u3067\u30c7\u30d0\u30a4\u30b9\u306e\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u304c\u6c7a\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002  "),Object(b.b)("p",null,'\u30e6\u30fc\u30b6\u30fc\u30b9\u30af\u30ea\u30d7\u30c8\u306f\u4ee5\u4e0b\u306edevices_custom\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u4fdd\u5b58\u3059\u308b\u306e\u3067\u3001\u3053\u3053\u306b\u7f6e\u3044\u3066\u3042\u308b"skelton.lua"\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u3001\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306b\u3059\u308b\u3068\u826f\u3044\u3067\u3059\u3002  '),Object(b.b)("p",null,Object(b.b)("img",{src:t(907).default})),Object(b.b)("h5",{id:"skeltonlua-1"},"skelton.lua"),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-lua"}),'    skelton = {}\n    \n    function skelton.skelton_decode(jo, data)\n        pdHandlerUtil.log_debug("skelton")\n    \n        local str\n        str = pdHandlerUtil.bin2str(data, #data)\n        pdHandlerUtil.log_info("str: ", str)\n        if str ~= nil then\n            jo.data = str\n        end\n    end\n    \n    return skelton\n')),Object(b.b)("p",null,"\u767b\u9332\u3057\u305f\u3044EEP\u306f\u6b21\u306e\u3088\u3046\u306a\u30c7\u30d0\u30a4\u30b9\u306e\u3082\u306e\u3067\u3059\u3002  "),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"EnOcean\u30a2\u30e9\u30a4\u30a2\u30f3\u30b9\u306eEEP\u4ed5\u69d8\u66f8\u304b\u3089 A50205"))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(b.b)("img",{src:t(908).default}))))),Object(b.b)("p",null,'\u6700\u521d\u306b"skelton"\u6587\u5b57\u5217\u3092\u30c7\u30d0\u30a4\u30b9\u306eEEP\u306b\u7f6e\u63db\u3057\u307e\u3059\u3002',Object(b.b)("br",{parentName:"p"}),"\n","\u304b\u3064\u3001\u30af\u30e9\u30a6\u30c9\u9001\u4fe1\u7528\u306ejo\u914d\u5217\u306e\u30e1\u30f3\u30d0\u30fc\u306btemperature\u3092\u8ffd\u52a0\u3057temperature\uff4e\u5024\u3092\u8a08\u7b97\u3057\u4ee3\u5165\u3057\u307e\u3059\u3002",Object(b.b)("br",{parentName:"p"}),"\n","\u203b\u5143\u306eskelton\u306f\u53d7\u3051\u53d6\u3063\u305f\u30c7\u30fc\u30bf\u3092\u305d\u306e\u307e\u307e16\u9032\u30c6\u30ad\u30b9\u30c8\u6587\u5b57\u5217\u3067json\u3067\u9001\u308b\u3082\u306e\u3067\u3059\u3002  "),Object(b.b)("h5",{id:"skeltonlua\uff08\u7de8\u96c6\u5f8c"},"skelton.lua\uff08\u7de8\u96c6\u5f8c)"),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-lua"}),'    A50205 = {}\n    \n    function A50205.A50205_decode(jo, data)\n        local temperature = string.byte(data, 3)\n    \n        pdHandlerUtil.log_debug("A50205")\n        temperature = (255 - temperature) * 40 / 255 -- \u4ed5\u69d8\u66f8\u306e\u8a08\u7b97\u5f0f\u306e\u307e\u307e\n        pdHandlerUtil.log_info(" temperature: ", temperature)\n        jo.temperature = temperature\n    end\n    \n    return A50205\n')),Object(b.b)("p",null,"\u4ee5\u4e0a\u306e\u30b3\u30fc\u30c9\u3067IoT\u30af\u30e9\u30a6\u30c9\u9001\u4fe1\u7528\u306ejson\u30c6\u30ad\u30b9\u30c8\u306f\u4ee5\u4e0b\u306e\u69d8\u306b\u306a\u308a\u307e\u3059\u3002  "),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),'    {\n        "deviceId": "xxxxxx",\n        "time": "2016-03-14T16:17:02.269+09:00",\n        "temperature": 25.41176470,  \u2190 \u3053\u3053\u3060\u3051\u30cf\u30f3\u30c9\u30e9\u3067\u8ffd\u52a0\u3055\u308c\u305f\u30c7\u30fc\u30bf\n        "EEP": "A50701",\n        "memo": "temperature Sensor",\n        "rssi": -71\n    }\n')),Object(b.b)("p",null,"\u305d\u306e\u4ed6\u306e\u30bb\u30f3\u30b5\u30fc\u306ejson\u30c6\u30ad\u30b9\u30c8\u306f",Object(b.b)("a",Object(a.a)({parentName:"p"},{href:"/docs/openblocks/fw5/data_form/enocean"}),"\u3053\u3061\u3089\u3092\u53c2\u7167"),"\u3057\u3066\u4e0b\u3055\u3044\u3002  "),Object(b.b)("p",null,"\u7de8\u96c6\u304c\u7d42\u308f\u3063\u305f\u3089\u3001<\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u540d>.lua\u3068\u540d\u524d\u3092\u4ed8\u3051\u3066devices_custom\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3057\u3066\u4e0b\u3055\u3044\u3002"),Object(b.b)("h3",{id:"\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u64cd\u4f5c-1"},"\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9/\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u64cd\u4f5c"),Object(b.b)("p",null,"\u4f5c\u6210\u3057\u305fLua\u30cf\u30f3\u30c9\u30e9\u306e\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3084\u3001\u53c2\u8003\u306b\u3059\u308bLua\u30cf\u30f3\u30c9\u30e9\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u64cd\u4f5c\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002  "),Object(b.b)("p",null,Object(b.b)("img",{src:t(655).default})),Object(b.b)("h4",{id:"enocean-lua-\u30e1\u30cb\u30e5\u30fc\u306e\u64cd\u4f5c\u9805\u76ee"},"EnOcean Lua \u30e1\u30cb\u30e5\u30fc\u306e\u64cd\u4f5c\u9805\u76ee"),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"\u8a2d\u5b9a\u9805\u76ee"),Object(b.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"\u8aac\u660e"))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"\u66f4\u65b0"),Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Lua\u30d5\u30a1\u30a4\u30eb\u306e\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u5148\u306e\u30d5\u30a1\u30a4\u30eb\u4e00\u89a7\u8868\u793a\u3092\u66f4\u65b0\u3057\u307e\u3059\u3002")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"\u524a\u9664"),Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"\u30d5\u30a1\u30a4\u30eb\u3092\u9078\u629e\u5f8c",Object(b.b)("inlineCode",{parentName:"td"},"\u524a\u9664"),"\u30dc\u30bf\u30f3\u3067\u524a\u9664\u3057\u307e\u3059\u3002",Object(b.b)("br",null),"\u524a\u9664\u53ef\u80fd\u306a\u30d5\u30a1\u30a4\u30eb\u306f\u30ab\u30b9\u30bf\u30e0\u7528\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u914d\u4e0b\u306e\u30d5\u30a1\u30a4\u30eb\u3067\u3059\u3002")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9"),Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"\u30d5\u30a1\u30a4\u30eb\u3092\u9078\u629e\u5f8c",Object(b.b)("inlineCode",{parentName:"td"},"\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9"),"\u30dc\u30bf\u30f3\u3067\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30d1\u30bd\u30b3\u30f3\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30d5\u30a9\u30eb\u30c0\u306b\u30d5\u30a1\u30a4\u30eb\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"\u5b9f\u884c\u6a29\u4ed8\u4e0e"),Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"\u30d5\u30a1\u30a4\u30eb\u3092\u9078\u629e\u5f8c",Object(b.b)("inlineCode",{parentName:"td"},"\u5b9f\u884c\u6a29\u4ed8\u4e0e"),"\u30dc\u30bf\u30f3\u3067\u5b9f\u884c\u6a29\u3092\u4ed8\u4e0e\u3057\u307e\u3059\u3002\u901a\u5e38\u3067\u306f\u4e0d\u8981\u3067\u3059\u3002")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u5148"),Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3057\u305f\u3044\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u30d7\u30eb\u30c0\u30a6\u30f3\u304b\u3089\u9078\u629e\u3057\u3066\u4e0b\u3055\u3044\u3002",Object(b.b)("br",null),"\u203b\u5bfe\u8c61\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u914d\u4e0b\u304c\u30d7\u30eb\u30c0\u30a6\u30f3\u5bfe\u8c61\u3067\u3059\u3002")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9"),Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(b.b)("inlineCode",{parentName:"td"},"\u30d5\u30a1\u30a4\u30eb\u3092\u9078\u629e"),"\u30dc\u30bf\u30f3\u3092\u62bc\u3059\u3068\u3001\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30d1\u30bd\u30b3\u30f3\u306e\u30d5\u30a1\u30a4\u30eb\u4e00\u89a7\u304b\u3089\u6307\u5b9a\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u9078\u629e\u3057\u3066\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3067\u304d\u307e\u3059\u3002",Object(b.b)("sup",null,"*1"))))),Object(b.b)("div",{className:"admonition admonition-info alert alert--info"},Object(b.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(b.b)("h5",{parentName:"div"},Object(b.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(b.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(b.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})))),"info")),Object(b.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(b.b)("ol",{parentName:"div"},Object(b.b)("li",{parentName:"ol"},"\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u5f8c\u306b\u30d7\u30ed\u30bb\u30b9\u306e\u518d\u8d77\u52d5\u304c\u5fc5\u8981\u306a\u306e\u3067\u3001",Object(b.b)("a",Object(a.a)({parentName:"li"},{href:"/docs/openblocks/fw5/webui/reference/dashboard"}),"\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9"),"\u304b\u3089\u505c\u6b62\u30fb\u8d77\u52d5\u306e\u64cd\u4f5c\u3092\u884c\u3063\u3066\u4e0b\u3055\u3044\u3002")))),Object(b.b)("div",{className:"admonition admonition-caution alert alert--warning"},Object(b.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(b.b)("h5",{parentName:"div"},Object(b.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(b.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"}),Object(b.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"})))),"caution")),Object(b.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(b.b)("p",{parentName:"div"},"\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u5148\u306bLua\u30d5\u30a1\u30a4\u30eb\u4ee5\u5916\u304c\u5b58\u5728\u3057\u3066\u3044\u308b\u5834\u5408\u306b\u306f\u6b63\u5e38\u306b\u52d5\u4f5c\u3057\u307e\u305b\u3093\u3002",Object(b.b)("br",{parentName:"p"}),"\n","\u305d\u306e\u305f\u3081\u3001\u30d5\u30a1\u30a4\u30eb\u5185\u5bb9\u306b\u3064\u3044\u3066\u306f skelton.lua \u3092\u53c2\u8003\u306b\u4f5c\u6210\u3057\u3066\u4e0b\u3055\u3044\u3002"))),Object(b.b)("h3",{id:"\u6a19\u6e96\u767b\u9332\u30bb\u30f3\u30b5\u30fc\u306elua\u30cf\u30f3\u30c9\u30e9\u7de8\u96c6"},"\u6a19\u6e96\u767b\u9332\u30bb\u30f3\u30b5\u30fc\u306eLua\u30cf\u30f3\u30c9\u30e9\u7de8\u96c6"),Object(b.b)("p",null,'\u4f8b\u3048\u3070"EEP:A50205"\u3068\u8a00\u3046\u30bb\u30f3\u30b5\u30fc\u3067\u30af\u30e9\u30a6\u30c9\u306b\u9001\u4fe1\u3059\u308b\u30ad\u30fc\u540d"temperature"\u3068\u306a\u3063\u3066\u3044\u308b\u306e\u3092"temp"\u3068\u5909\u66f4\u3057\u305f\u3044\u5834\u5408\u3001"devices"\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304b\u3089"a50205.lua"\u3068\u3044\u3046\u30d5\u30a1\u30a4\u30eb\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002   '),Object(b.b)("h5",{id:"a50205lua"},"a50205.lua"),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-lua"}),"    a50205 = {}\n    \n    function a50205.a50205_decode(jo, data)\n        local temperature = pdHandlerUtil.round((255 - string.byte(data, 3)) * 40 / 255, 2)\n        jo.temperature = temperature\n    end\n    \n    return a50205\n")),Object(b.b)("p",null,"\u3053\u306e\u884c   "),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-lua"}),"        jo.temperature = temperature\n")),Object(b.b)("p",null,"\u3092   "),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-lua"}),"        jo.temp = temperature\n")),Object(b.b)("p",null,"\u306b\u5909\u66f4\u3057\u307e\u3059\u3002",Object(b.b)("br",{parentName:"p"}),"\n",'\u305d\u3057\u3066\u5909\u66f4\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u3092"devices_custom"\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u30d5\u30a1\u30a4\u30eb\u540d\u3092\u5909\u66f4\u305b\u305a\u306b"a50205.lua"\u3068\u8a00\u3046\u540d\u524d\u306e\u307e\u307e\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3057\u3066\u4e0b\u3055\u3044\u3002',Object(b.b)("br",{parentName:"p"}),"\n","\u3053\u306e\u4f5c\u696d\u3060\u3051\u3067\u30aa\u30ea\u30b8\u30ca\u30eb\u306e\u9001\u4fe1\u30c7\u30fc\u30bf\u3092\u4f5c\u6210\u3067\u304d\u307e\u3059\u3002  "),Object(b.b)("h3",{id:"\u65b0\u898f\u30bb\u30f3\u30b5\u30fc\u306elua\u30cf\u30f3\u30c9\u30e9\u4f5c\u6210"},"\u65b0\u898f\u30bb\u30f3\u30b5\u30fc\u306eLua\u30cf\u30f3\u30c9\u30e9\u4f5c\u6210"),Object(b.b)("p",null,'\u672a\u30b5\u30dd\u30fc\u30c8\u306e\u30c7\u30d0\u30a4\u30b9\u306e\u30cf\u30f3\u30c9\u30e9\u3092\u65b0\u898f\u306b\u8ffd\u52a0\u3059\u308b\u6642\u306f\u3001"devices_custom"\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b"skelton.lua"\u3068\u3044\u3046\u30d5\u30a1\u30a4\u30eb\u304c\u7f6e\u3044\u3066\u3042\u308b\u306e\u3067\u3001\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3068\u3057\u3066\u4f7f\u3063\u3066\u4e0b\u3055\u3044\u3002',Object(b.b)("br",{parentName:"p"}),"\n",'\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u306e\u4e2d\u306e"skelton"\u3068\u8a00\u3046\u90e8\u5206\u3092EEP\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u540d\u306b\u5909\u66f4\u3057\u3066\u4f7f\u3044\u307e\u3059\u3002\n\u4e0a\u8a18\u306e"EEP:A50205"\u306e\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u304c\u53c2\u8003\u306b\u306a\u308b\u3068\u601d\u3044\u307e\u3059\u3002',Object(b.b)("br",{parentName:"p"}),"\n","\u3042\u3068\u306fxxxxxx.xxxxxx_decode\u95a2\u6570\u306e\u4e2d\u306b\u30d0\u30a4\u30ca\u30ea\u30c7\u30fc\u30bf\u304b\u3089\u306e\u5909\u63db\u30eb\u30fc\u30c1\u30f3\u3092\u7528\u610f\u3059\u308b\u3060\u3051\u3067\u3059\u3002",Object(b.b)("br",{parentName:"p"}),"\n","\u5b8c\u6210\u3057\u305f\u3089",Object(b.b)("em",{parentName:"p"},"EEP\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u540d.lua"),'\u3068\u3044\u3046\u30d5\u30a1\u30a4\u30eb\u540d\u3067"devices_custom"\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3057\u3066\u4e0b\u3055\u3044\u3002',Object(b.b)("br",{parentName:"p"}),"\n",'\u306a\u304a\u3001"skelton.lua"\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306b\u3042\u308bxxxxxx.xxxxxx_decode\u95a2\u6570\u5185\u306e\u30eb\u30fc\u30c1\u30f3  '),Object(b.b)("h5",{id:"skeltonskelton_decode"},"skelton.skelton_decode()"),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-lua"}),'    function skelton.skelton_decode(jo, data)\n            pdHandlerUtil.log_debug("skelton")\n    \n            local str\n            str = pdHandlerUtil.bin2str(data, #data)\n            pdHandlerUtil.log_info("str: ", str)\n            if str ~= nil then\n                    jo.data = str\n            end\n    end\n')),Object(b.b)("p",null,"\u306f\u3001\u30d0\u30a4\u30ca\u30ea\u30c7\u30fc\u30bf\u3092\u305d\u306e\u307e\u307e16\u9032\u6570ASCII\u6587\u5b57\u5217\u306b\u5909\u3048\u3066\u3044\u308b\u3060\u3051\u306a\u306e\u3067\u3001\u5909\u63db\u30eb\u30fc\u30c1\u30f3\u3092\u5225\u9014\u7528\u610f\u3059\u308b\u5834\u5408\u306f\u5168\u3066\u4e0d\u8981\u306b\u306a\u308a\u307e\u3059\u3002  "),Object(b.b)("div",{className:"admonition admonition-info alert alert--info"},Object(b.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(b.b)("h5",{parentName:"div"},Object(b.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(b.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(b.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})))),"info")),Object(b.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(b.b)("p",{parentName:"div"},"\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2 1.x\u30012.x \u306f\u3001Lua \u306b\u5bfe\u5fdc\u3057\u3066\u304a\u308a\u307e\u305b\u3093\u3002",Object(b.b)("br",{parentName:"p"}),"\n","EEP\u30bf\u30a4\u30d7\u3068GP\u30bf\u30a4\u30d7\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u307e\u3059\u3002",Object(b.b)("br",{parentName:"p"}),"\n","EEP\u30bf\u30a4\u30d7\u306f\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u30b3\u30fc\u30c9\u3067\u691c\u7d22\u3057\u3066\u4e0b\u3055\u3044\u3002",Object(b.b)("br",{parentName:"p"}),"\n",'GP\u30bf\u30a4\u30d7\u306fEEP\u306e\u6b04\u306b"GP"\u304b\u3089\u59cb\u307e\u308b\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u540d\u3092\u5165\u529b\u3057\u307e\u3059\u3002(GP_xxxx)',Object(b.b)("br",{parentName:"p"}),"\n","GP\u30bb\u30f3\u30b5\u30fc\u306f\u30d5\u30a1\u30fc\u30e0\u30a6\u30a7\u30a2 4.x\u304b\u3089\u306e\u30b5\u30dd\u30fc\u30c8\u306b\u306a\u308a\u307e\u3059\u3002  "))),Object(b.b)("span",{id:"serial-lua"}),Object(b.b)("h2",{id:"rs-serial-lua"},"RS-SERIAL Lua"),Object(b.b)("p",null,"PD Handler RS-SERIAL\u3067\u306f\u3001\u5bfe\u5411\u306e\u30b7\u30ea\u30a2\u30eb\u30c7\u30d0\u30a4\u30b9(RS-232C/RS-485\u306a\u3069)\u5411\u3051\u306b\u51e6\u7406\u5185\u5bb9\u3092\u30d5\u30eb\u30ab\u30b9\u30bf\u30e0\u3067\u304d\u308b\u30e6\u30fc\u30b6\u30fc\u5b9a\u7fa9\u30cf\u30f3\u30c9\u30e9\u3067\u3059\u3002",Object(b.b)("br",{parentName:"p"}),"\n",Object(b.b)("strong",{parentName:"p"},"IoT\u30c7\u30fc\u30bf\u21d2SERIAL Lua"),"\u30bf\u30d6\u304b\u3089\u3001\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3057\u305fLua\u30d5\u30a1\u30a4\u30eb\u3092\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3057\u4f7f\u7528\u3057\u307e\u3059\u3002  "),Object(b.b)("div",{className:"admonition admonition-info alert alert--info"},Object(b.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(b.b)("h5",{parentName:"div"},Object(b.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(b.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(b.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})))),"info")),Object(b.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(b.b)("ul",{parentName:"div"},Object(b.b)("li",{parentName:"ul"},"\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308brs-serial.lua\u306f\u30b5\u30f3\u30d7\u30eb\u3068\u306a\u308a\u307e\u3059\u3002\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u53c2\u8003\u306b\u7de8\u96c6\u3057\u3066\u4e0b\u3055\u3044\u3002"),Object(b.b)("li",{parentName:"ul"},"PD Handler RS-SERIAL\u306f\u6307\u5b9a\u3057\u305fLua\u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u8fbc\u307f\u3001LUA_main\u95a2\u6570\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002"),Object(b.b)("li",{parentName:"ul"},"PD Handler RS-SERIAL\u306fPD Repeater\u3078\u306e\u30a2\u30af\u30bb\u30b9\u3059\u308b\u30d1\u30b9\u306e\u30c7\u30d0\u30a4\u30b9\u540d\u90e8\u3092Lua\u30d5\u30a1\u30a4\u30eb\u5185\u306b\u3066\u5b9a\u7fa9\u3057\u3066\u3044\u307e\u3059\u3002\u305d\u306e\u305f\u3081\u3001\u74b0\u5883\u306b\u5408\u308f\u305b\u3066Lua\u30d5\u30a1\u30a4\u30eb\u3092\u7de8\u96c6\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002")))),Object(b.b)("div",{className:"admonition admonition-caution alert alert--warning"},Object(b.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(b.b)("h5",{parentName:"div"},Object(b.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(b.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"}),Object(b.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"})))),"caution")),Object(b.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(b.b)("p",{parentName:"div"},"Lua\u30d5\u30a1\u30a4\u30eb\u304c\u4e0d\u6b63(\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u30a8\u30e9\u30fc\u3084\u30b7\u30f3\u30bf\u30c3\u30af\u30b9\u30a8\u30e9\u30fc\u7b49)\u306e\u5834\u5408\u30a8\u30e9\u30fc\u7d42\u4e86\u3068\u306a\u308b\u306e\u3067\u3001\u30ed\u30b0\u3092\u78ba\u8a8d\u3057\u3066\u4e0b\u3055\u3044\u3002"))),Object(b.b)("h3",{id:"rs-serial-lua-\u306e\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\uff08\u30b7\u30ea\u30a2\u30eb\u30dd\u30fc\u30c8\u5074\uff09"},"RS-SERIAL Lua \u306e\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\uff08\u30b7\u30ea\u30a2\u30eb\u30dd\u30fc\u30c8\u5074\uff09"),Object(b.b)("p",null,"\u57fa\u672c\u7684\u306b\u306f\u4e00\u822c\u306e\u9ad8\u7d1a\u8a00\u8a9e\u3067\u30b7\u30ea\u30a2\u30eb\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u6a5f\u5668\u3068\u306e\u901a\u4fe1\u5168\u822c\u3092\u66f8\u304f\u306e\u3068\u9055\u3044\u304c\u3042\u308a\u307e\u305b\u3093\u3002",Object(b.b)("br",{parentName:"p"}),"\n","\u203b\u5b9f\u969b\u306b\u306f\u30b7\u30ea\u30a2\u30eb\u901a\u4fe1\u306b\u3053\u3060\u308f\u3089\u305aLua\u3060\u3051\u3067\u6c4e\u7528\u7684\u306a\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3082\u3053\u3053\u3067\u4f5c\u308c\u3066\u3057\u307e\u3044\u307e\u3059\u3002"),Object(b.b)("p",null,"\u30b7\u30b9\u30c6\u30e0\u306e\u5358\u7d14\u306a\u6d41\u308c\u3068\u3057\u3066\u306f  "),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{})," \u30b7\u30ea\u30a2\u30eb\u30dd\u30fc\u30c8\u306e\u30aa\u30fc\u30d7\u30f3  \n        \u2193\n \u901f\u5ea6\u306a\u3069\u306e\u901a\u4fe1\u30d1\u30e9\u30e1\u30fc\u30bf\u8a2d\u5b9a  \n        \u2193\n \u30c7\u30fc\u30bf\u9001\u53d7\u4fe1  \n        \u2193\n \u30b7\u30ea\u30a2\u30eb\u30dd\u30fc\u30c8\u306e\u30af\u30ed\u30fc\u30ba  \n")),Object(b.b)("p",null,"\u3053\u306e\u4f5c\u308a\u65b9\u306b\u306a\u308a\u307e\u3059\u304c\u3001OpenBlocks\u4e0a\u3067\u306f\u30c7\u30fc\u30e2\u30f3\u3068\u3057\u3066\u8d77\u52d5\u3059\u308b\u306e\u3067\u3001\u30b7\u30ea\u30a2\u30eb\u30dd\u30fc\u30c8\u306e\u30af\u30ed\u30fc\u30ba\u306fSTOP\u30b7\u30b0\u30ca\u30eb\u304c\u5165\u3063\u305f\u6642\u3068\u306a\u308b\u306e\u3067\u3001\u30c7\u30fc\u30bf\u9001\u53d7\u4fe1\u90e8\u5206\u3067\u7121\u9650\u30eb\u30fc\u30d7\u3059\u308b\u4f5c\u308a\u306b\u306a\u308a\u307e\u3059\u3002"),Object(b.b)("p",null,Object(b.b)("img",{src:t(656).default})),Object(b.b)("p",null,"\u3053\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u3042\u308brs-serial.lua\u3092\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3068\u3057\u3066\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u3066\u304b\u3089\u7de8\u96c6\u3057\u3066\u4f7f\u3063\u3066\u4e0b\u3055\u3044\u3002",Object(b.b)("br",{parentName:"p"}),"\n","\u203b\u5229\u7528\u958b\u59cb\u524d\u306b\u306f",Object(b.b)("a",Object(a.a)({parentName:"p"},{href:"/docs/openblocks/fw5/service/iotdata#module"}),"\u30e2\u30b8\u30e5\u30fc\u30eb\u8a2d\u5b9a"),"\u3067PD Handler RS-Serial\u306e\u8d77\u52d5\u3092\u5fd8\u308c\u305a\u306b\uff01"),Object(b.b)("p",null,"\u4ee5\u4e0b\u306frs-serial.lua\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3067\u3059\u3002",Object(b.b)("br",{parentName:"p"}),"\n","OpenBlocks\u3068\u30d1\u30bd\u30b3\u30f3\u3092RS-232C\u30af\u30ed\u30b9\u30b1\u30fc\u30d6\u30eb\u3067\u63a5\u7d9a\u3057\u30c6\u30b9\u30c8\u3092\u884c\u3063\u3066\u4e0b\u3055\u3044\u3002",Object(b.b)("br",{parentName:"p"}),"\n","\u52d5\u4f5c\u306f\u30d1\u30bd\u30b3\u30f3\u5074\u3067TeraTerm\u306a\u3069\u3092\u4f7f\u3063\u3066OpenBlocks\u3068\u63a5\u7d9a\u3057\u30ad\u30fc\u30dc\u30fc\u30c9\u5165\u529b\u3059\u308b\u3068\u305d\u306e\u6587\u5b57\u3092\u30a8\u30b3\u30fc\u30d0\u30c3\u30af\u3057\u307e\u3059\u3002",Object(b.b)("br",{parentName:"p"}),"\n",'\u305d\u3057\u3066"who?"\u3068\u5165\u529b\u3059\u308b\u3068"I am openblocks"\u3068\u8fd4\u4e8b\u3057\u3001"exit!"\u3068\u5165\u529b\u3059\u308b\u3068"!!!!!! STOPING prcess !!!!!"\u3068\u8fd4\u4e8b\u3057\u3066\u304b\u3089\u30d7\u30ed\u30bb\u30b9\u3092\u505c\u6b62\u3057\u307e\u3059\u3002',Object(b.b)("br",{parentName:"p"}),"\n","\u203b\u672c\u756a\u7528\u30c7\u30fc\u30e2\u30f3\u3068\u3057\u3066\u8d77\u52d5\u3059\u308b\u6642\u306f\u7121\u9650\u30eb\u30fc\u30d7\u3092\u629c\u3051\u308b\u4ed5\u7d44\u307f\u304c\u306a\u3044\u65b9\u304c\u826f\u3044\u3067\u3059\u3002  "),Object(b.b)("h5",{id:"rs-seriallua_org"},"rs-serial.lua_org"),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-lua"}),'    function LOG_err(message)\n        LUA_sys_log (3, message)\n    end\n    \n    function LOG_info(message)\n        LUA_sys_log (6, message)\n    end\n    \n    function LOG_debug(message)\n        LUA_sys_log (7, message)\n    end\n    \n    function LUA_main(void)\n    \n        LOG_info("start rs-serial\\n")\n    \n        -- \u30b7\u30ea\u30a2\u30eb\u30dd\u30fc\u30c8\u306e\u30aa\u30fc\u30d7\u30f3\uff08RS485\u306e\u6642\u306f"/dev/ttyMFD1"\u306e\u90e8\u5206\u3092"/dev/ttyRS485"\u306b\u5909\u66f4\uff09\n        local fd\n        fd = LUA_open_serial("/dev/ttyMFD1", 9600, 8, 1, false, false)\n        if (0 > fd) then\n            LOG_err("serial port open error\\n")\n            return\n        end\n    \n        -- \u30e1\u30a4\u30f3\u30eb\u30fc\u30d7\n        local read_buff = ""\n        local read_size = 0\n        while (1) do -- \u30d5\u30a9\u30a2\u30b0\u30e9\u30f3\u30c9\u30e2\u30fc\u30c9\u306e\u5834\u5408\u3001\u7121\u9650\u30eb\u30fc\u30d7\u306fCTRL-C\u3067\u3082\u6b62\u307e\u308a\u307e\u3059\u3002\n            local rbuff, rsize -- \u30ed\u30fc\u30ab\u30eb\u5909\u6570\u5ba3\u8a00\n            rbuff, rsize = LUA_read_serial(fd) \n            read_buff = read_buff .. rbuff -- \u524d\u306b\u30b7\u30ea\u30a2\u30eb\u5165\u529b\u3055\u308c\u305f\u6587\u5b57\u5217\u306b\u4eca\u56de\u5206\u3092\u9023\u7d50\n            read_size = read_size + rsize  -- \u540c\u4e0a\n    \n            -- \u30c7\u30fc\u30bf\u3092\u53d7\u4fe1\u3057\u305f\n            if rsize > 0 then\n                LUA_send_serial(fd, rbuff, rsize)  -- \u5165\u529b\u6587\u5b57\u306e\u30a8\u30b3\u30fc\u30d0\u30c3\u30af\n    \n                if nil ~= string.find(read_buff, "exit!") then -- \u7d42\u4e86\u6587\u5b57\u5217\u306e\u691c\u7d22(exit!)\n                    local res_str = "\\n\\r!!!!!! STOPING prcess !!!!!\\n\\r" -- \u30ec\u30b9\u30dd\u30f3\u30b9\u6587\u5b57\u5217\n                    local res_len = string.len(res_str)  -- \u30ec\u30b9\u30dd\u30f3\u30b9\u6587\u5b57\u5217\u306e\u9577\u3055\n                    LUA_send_serial(fd, res_str, res_len)  -- \u30b7\u30ea\u30a2\u30eb\u30dd\u30fc\u30c8\u306b\u30ec\u30b9\u30dd\u30f3\u30b9\u3092\u9001\u4fe1\n                    break; -- exit!\u3067\u7121\u9650\u30eb\u30fc\u30d7\u3092\u629c\u3051\u308b\n                           --  \u203b\u30c7\u30fc\u30e2\u30f3\u52d5\u4f5c\u306e\u6642\u306f\u7121\u9650\u30eb\u30fc\u30d7\u304b\u3089\u629c\u3051\u306a\u3044\u3088\u3046\u306b\u3059\u308b\n                end\n    \n                if nil ~= string.find(read_buff, "who%?") then -- \u6587\u5b57\u5217\u691c\u7d22\uff08who?\uff09\n                    local res_str = "\\n\\rI am openblocks\\n\\r" -- \u30ec\u30b9\u30dd\u30f3\u30b9\u6587\u5b57\u5217\n                    local res_len = string.len(res_str)  -- \u30ec\u30b9\u30dd\u30f3\u30b9\u6587\u5b57\u5217\u306e\u9577\u3055\n                    LUA_send_serial(fd, res_str, res_len)  -- \u30b7\u30ea\u30a2\u30eb\u30dd\u30fc\u30c8\u306b\u30ec\u30b9\u30dd\u30f3\u30b9\u3092\u9001\u4fe1\n                    read_buff = ""\n                end\n    \n            end\n            read_buff = string.sub(read_buff, -10) -- \u6700\u5f8c\u306b\u5165\u529b\u3055\u308c\u305f10\u6587\u5b57\u3060\u3051\u6b8b\u3057\u3066\u6368\u3066\u308b\n            read_size = string.len(read_buff)\n    \n            LUA_usleep (50000)  -- 50msec\u7a0b\u5ea6\u30b9\u30ea\u30fc\u30d7\u3092\u5165\u308c\u3068\u304f\u3068\u4ed6\u306e\u51e6\u7406\u304c\u8efd\u304f\u306a\u308a\u307e\u3059\u3002\n        end\n    \n        -- \u30b7\u30ea\u30a2\u30eb\u30dd\u30fc\u30c8\u306e\u30af\u30ed\u30fc\u30ba\n        LUA_close_serial(fd)\n    \n        LOG_info("stop rs-serial\\n")\n    \n    end\n')),Object(b.b)("p",null,"\u3053\u308c\u306f\u975e\u5e38\u306b\u7c21\u5358\u306a\u30d7\u30ed\u30b0\u30e9\u30e0\u3067\u3001\u3082\u3046\u5c11\u3057\u8272\u3005\u8a66\u3057\u305f\u3044\u6642\u306fsample.lua\u3092\u4e00\u5ea6\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3067\u3057\u3066\u5225\u540d\u306elua\u306e\u30d5\u30a1\u30a4\u30eb\u540d\u3067\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3057\u3066\u4e0b\u3055\u3044\u3002",Object(b.b)("br",{parentName:"p"}),"\n","IoT\u30af\u30e9\u30a6\u30c9(PD Repeater)\u3078\u306e\u9001\u4fe1\u30b5\u30f3\u30d7\u30eb\u306a\u3069\u3082\u7528\u610f\u3055\u308c\u3066\u3044\u307e\u3059\u306e\u3067\u53c2\u8003\u306b\u3057\u3066\u4e0b\u3055\u3044\u3002  "),Object(b.b)("h3",{id:"rs-serial-lua-\u306e\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\uff08\u30af\u30e9\u30a6\u30c9\u3068\u306e\u901a\u4fe1\u5074\uff09"},"RS-SERIAL Lua \u306e\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\uff08\u30af\u30e9\u30a6\u30c9\u3068\u306e\u901a\u4fe1\u5074\uff09"),Object(b.b)("p",null,"\u3082\u3068\u3082\u3068\u306f\u30b7\u30ea\u30a2\u30eb\u30dd\u30fc\u30c8\u5074\u306e\u51e6\u7406\u7cfb\u3068\u4e00\u7dd2\u306e\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u3068\u3057\u3066\u4f5c\u6210\u3057\u307e\u3059\u304c\u3001\u308f\u304b\u308a\u3084\u3059\u304f\u89e3\u8aac\u3059\u308b\u305f\u3081\u306b\u30af\u30e9\u30a6\u30c9\u5074\u306e\u51e6\u7406\u3092\u5206\u3051\u3066\u8aac\u660e\u3057\u307e\u3059\u3002",Object(b.b)("br",{parentName:"p"}),"\n","\u4ee5\u4e0b\u306f\u7c21\u5358\u306a\u30b5\u30f3\u30d7\u30eb\u3067\u3059\u3002"),Object(b.b)("h5",{id:"\u30af\u30e9\u30a6\u30c9\u3068\u306e\u901a\u4fe1\u5074"},"\u30af\u30e9\u30a6\u30c9\u3068\u306e\u901a\u4fe1\u5074"),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-lua"}),'    function LOG_info(message) -- \u30ed\u30b0\u51fa\u529b\u7528\u95a2\u6570\n        LUA_sys_log (6, message)\n    end\n    \n    local device_number = "userdev_0000001"  -- WEB-UI\u3067\u30e6\u30fc\u30b6\u30fc\u5b9a\u7fa9\u3057\u305f\u30c7\u30d0\u30a4\u30b9\u3002\n    \n    function LUA_main(void)\n    \n        local uds_fd\n        local rbuff\n    \n        uds_fd = LUA_open_udomain(device_number) -- \u5f85\u3061\u53d7\u3051\u306e\u30e6\u30cb\u30c3\u30af\u30b9\u30c9\u30e1\u30a4\u30f3\u30bd\u30b1\u30c3\u30c8\n        if (1 > uds_fd) then  -- \u623b\u308a\u50240\u3067\u30aa\u30fc\u30d7\u30f3\u30a8\u30e9\u30fc\n            LOG_err("unix domain server open error\\n")\n            return\n        end\n        \n        -- \u30e1\u30a4\u30f3\u30eb\u30fc\u30d7 \u203b\u57fa\u672c\u7684\u306b\u306f\u30dd\u30fc\u30ea\u30f3\u30b0\u51e6\u7406\u3067\u3059\u3002\n        while (1) do -- \u7121\u9650\u30eb\u30fc\u30d7\u306fCTRL-C\u3067\u3082\u6b62\u307e\u308a\u307e\u3059\u3002\n            rbuff = LUA_read_udomain(uds_fd)\n            if (#rbuff > 0) then -- rbuff \u306b\u30e1\u30c3\u30bb\u30fc\u30b8\u5230\u7740\n                -- \u901a\u5e38 rbuff \u5185\u306e\u4e0b\u6d41\u5236\u5fa1\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u30c7\u30b3\u30fc\u30c9\u3057\u3066\u5b9f\u884c\u3059\u308b\n                -- \u3053\u3053\u3067\u306f PD-Handler \u306e\u30ed\u30b0\u3078\u30d7\u30ea\u30f3\u30c8\u3057\u3066\u30af\u30e9\u30a6\u30c9\u3078\u30a8\u30b3\u30fc\u30d0\u30c3\u30af\u3059\u308b\n                LOG_info(rbuff)\n                LUA_post (device_number, rbuff) -- \u30af\u30e9\u30a6\u30c9\u304b\u3089\u53d7\u3051\u305fjson\u3092\u305d\u306e\u307e\u307e\u30a8\u30b3\u30fc\u30d0\u30c3\u30af\n            end\n            LUA_usleep(1000000) -- 1\u79d2\u30b9\u30ea\u30fc\u30d7\n        end\n        \n        LUA_close_udomain(uds_fd) -- \u4f7f\u3044\u7d42\u308f\u3063\u305f\u3089\u30af\u30ed\u30fc\u30ba\n    \n    end\n')),Object(b.b)("h3",{id:"rs-serial-lua-\u3067-device-shadow-\u3092\u4f7f\u3046"},"RS-SERIAL Lua \u3067 Device Shadow \u3092\u4f7f\u3046"),Object(b.b)("p",null,"AWS IoT\u306eDevice Shadow\u306f\u30af\u30e9\u30a6\u30c9\u4e0a\u306b\u4eee\u60f3\u5316\u3057\u305f\u30b9\u30c6\u30fc\u30c8\u30de\u30b7\u30f3\u3092\u914d\u7f6e\u3057\u3001\u30a8\u30c3\u30b8\u5074\u306e\u88c5\u7f6e\u306f\u305d\u306e\u30b9\u30c6\u30fc\u30c8\u30de\u30b7\u30f3\u306e\u72b6\u614b\u3092\u5e38\u306b\u540c\u671f\u3059\u308b\u4ed5\u7d44\u307f\u3092\u53d6\u308a\u307e\u3059\u3002",Object(b.b)("br",{parentName:"p"}),"\n","\u4f8b\u3048\u3070",Object(b.b)("strong",{parentName:"p"},"SwitchA"),"\u304c\u30af\u30e9\u30a6\u30c9\u4e0a\u306e\u30b9\u30c6\u30fc\u30c8\u30de\u30b7\u30f3\u3067\u5b9a\u7fa9\u3055\u308c\u3001\u305d\u308c\u304c",Object(b.b)("strong",{parentName:"p"},"on"),"\u306b\u306a\u308c\u3070\u3001\u30a8\u30c3\u30b8\u5074\u306e\u30de\u30b7\u30f3\u306e",Object(b.b)("strong",{parentName:"p"},"SwitchA"),"\u306f",Object(b.b)("strong",{parentName:"p"},"on"),"\u306e\u30b9\u30c6\u30fc\u30bf\u30b9\u3078\u79fb\u884c\u3057\u307e\u3059\u3002",Object(b.b)("br",{parentName:"p"}),"\n","\u307e\u305f\u3001\u30a8\u30c3\u30b8\u5074\u306e",Object(b.b)("strong",{parentName:"p"},"SwitchA"),"\u304c\u4f55\u3089\u304b\u306e\u30a8\u30c3\u30b8\u51e6\u7406\u306b\u3088\u3063\u3066",Object(b.b)("strong",{parentName:"p"},"off"),"\u3068\u3055\u308c\u305f\u5834\u5408\u3001\u30af\u30e9\u30a6\u30c9\u4e0a\u306e\u30b9\u30c6\u30fc\u30c8\u30de\u30b7\u30f3\u306b\u5bfe\u3057\u3066",Object(b.b)("strong",{parentName:"p"},"SwitchA"),"\u306f",Object(b.b)("strong",{parentName:"p"},"off"),"\u306b\u306a\u3063\u305f\u30b9\u30c6\u30fc\u30bf\u30b9\u3092\u901a\u77e5\u3057\u307e\u3059\u3002",Object(b.b)("br",{parentName:"p"}),"\n","\u3055\u3089\u306b\u30a8\u30c3\u30b8\u5074\u306e\u81ea\u5df1\u51e6\u7406\u3067\u30b9\u30c6\u30fc\u30bf\u30b9\u304c\u5909\u308f\u3063\u305f\u5834\u5408\u3082\u30a8\u30c3\u30b8\u5074\u304c\u81ea\u767a\u7684\u306b\u305d\u306e\u30b9\u30c6\u30fc\u30bf\u30b9\u5909\u5316\u3092\u901a\u77e5\u3057\u307e\u3059\u3002"),Object(b.b)("p",null,"\u3053\u3046\u8a00\u3063\u305f\u4e00\u9023\u306e\u51e6\u7406\u3092MQTT\u30d7\u30ed\u30c8\u30b3\u30eb\u306b\u3088\u3063\u3066\u884c\u3044\u307e\u3059\u3002",Object(b.b)("br",{parentName:"p"}),"\n","\u3053\u306eAWS IoT\u306eDevice Shadow\u306e\u4eee\u60f3\u30b9\u30c6\u30fc\u30c8\u30de\u30b7\u30f3\u306f\u5168\u3066json\u6587\u5b57\u5217\u3067\u8a18\u8ff0\u3055\u308c\u3066\u3044\u307e\u3059\u3002  "),Object(b.b)("p",null,"json\u3067\u8a18\u8ff0\u3055\u308c\u305f\u30b9\u30c6\u30fc\u30c8\u30de\u30b7\u30f3\u306e\u57fa\u672c\u69cb\u9020\uff08\u53c2\u8003\u4f8b\uff09"),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),'    {\n        "state":{\n            "desired":{  \n                ...    \n            },\n            "reported":{\n                ... \n            },\n        }\n    }\n    \u2193 \u3053\u3053\u304b\u3089\u4e0b\u306fDeviceShadow\u30b7\u30b9\u30c6\u30e0\u304c\u30c8\u30d4\u30c3\u30af\u306b\u5fdc\u3058\u3066\u30e1\u30bf\u60c5\u5831\u3092\u66f8\u304d\u8fbc\u307f\u307e\u3059\u3002\n')),Object(b.b)("p",null,"\u4e0a\u8a18\u306e\u5f62\u5f0f\u3067'...'\u306e\u90e8\u5206\u304c\u30e6\u30fc\u30b6\u30fc\u5b9a\u7fa9\u90e8\u5206\u3067\u3059\u3002\n\u3053\u306e\u30e6\u30fc\u30b6\u30fc\u5b9a\u7fa9\u306e\u90e8\u5206\u306e\u4f7f\u3044\u65b9\u306f\u81ea\u7531\u3067\u3059\u304c\u3001\u57fa\u672c\u7684\u306a\u64cd\u4f5c\u306e\u6d41\u308c\u306f\u30af\u30e9\u30a6\u30c9(\u64cd\u4f5c\u3059\u308b\u5074)\u304b\u3089",Object(b.b)("strong",{parentName:"p"},"desired"),"\u306e\u30e1\u30f3\u30d0\u30fc\u3067\u30a8\u30c3\u30b8\u30c7\u30d0\u30a4\u30b9\u306b\u64cd\u4f5c\u8981\u6c42\u3092\u9001\u308a\u3001\u30a8\u30c3\u30b8\u30c7\u30d0\u30a4\u30b9(\u64cd\u4f5c\u3055\u308c\u308b\u5074)\u304c",Object(b.b)("strong",{parentName:"p"},"reported"),"\u306e\u30e1\u30f3\u30d0\u3067\u305d\u306e\u7d50\u679c\u3092DeviceShadow\u306b\u9001\u308a\u307e\u3059\u3002",Object(b.b)("br",{parentName:"p"}),"\n","\u4f8b\u3048\u3070DeviceShadow\u4eee\u60f3\u30b9\u30c6\u30fc\u30c8\u30de\u30b7\u30f3\u306e\u72b6\u614b\u304c"),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),'    {\n        "state":{\n            "desired":{\n                "SwitchA": "off",\n                "SwitchB": "off"\n            },\n            "reported":{\n                "SwitchA": "off",\n                "SwitchB": "off"\n            }\n        }\n    }\n')),Object(b.b)("p",null,"\u306e\u6240\u3078\u30af\u30e9\u30a6\u30c9\u304b\u3089\u4ee5\u4e0b\u306ejson\u30e1\u30c3\u30bb\u30fc\u30b8\u3092DeviceShadow\u3078\u30d1\u30d6\u30ea\u30c3\u30b7\u30e5\u3059\u308b\u3068"),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),'    {\n        "state":{\n            "desired":{\n                "SwitchA": "on"\n            }\n        }\n    }\n')),Object(b.b)("p",null,"DeviceShadow\u4eee\u60f3\u30b9\u30c6\u30fc\u30c8\u30de\u30b7\u30f3\u306f"),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),'    {\n        "state":{\n            "desired":{\n                "SwitchA": "on",\n                "SwitchB": "off"\n            },\n            "reported":{\n                "SwitchA": "off",\n                "SwitchB": "off"\n            }\n        }\n    }\n')),Object(b.b)("p",null,"\u3068\u3001\u3053\u306e\u3088\u3046\u306b\u306a\u308a\u3001\u3053\u306e\u5909\u5316\u304cDeviceShadow\u914d\u4e0b\u306e\u30c8\u30d4\u30c3\u30af\u306b\u305d\u306e\u72b6\u614b\u5909\u5316\u3092\u901a\u77e5\u3059\u308b\u30e1\u30bf\u60c5\u5831\u304c\u30d1\u30d6\u30ea\u30c3\u30b7\u30e5\u3055\u308c\u307e\u3059\u3002",Object(b.b)("br",{parentName:"p"}),"\n","OpenBlocks\u306ePD Repeater\u3067\u306f\u3001\u3053\u306e\u30c8\u30d4\u30c3\u30af\u306e\u5168\u3066\u3092\u30b5\u30d6\u30b9\u30af\u30e9\u30a4\u30d6\u3057\u3066\u3044\u308b\u305f\u3081\u3001\u3059\u3079\u3066\u306e\u30e1\u30bf\u60c5\u5831\u304c\u53d6\u308a\u8fbc\u307e\u308c\u8aad\u307f\u51fa\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002  "),Object(b.b)("p",null,"\u5b9f\u969b\u306eDeviceShadow\u306f\u3053\u306e\u72b6\u614b\u5909\u5316\u304c\u8d77\u3053\u308b\u3068\u3001",Object(b.b)("strong",{parentName:"p"},"documents"),",",Object(b.b)("strong",{parentName:"p"},"delta"),",",Object(b.b)("strong",{parentName:"p"},"accepted"),"\u306e3\u3064\u306e\u30c8\u30d4\u30c3\u30af\u306b\u30d1\u30d6\u30ea\u30c3\u30b7\u30e5\u3057\u3066\u304d\u307e\u3059\u3002",Object(b.b)("br",{parentName:"p"}),"\n","\u57fa\u672c\u7684\u306b\u306f\u3069\u306e\u30c8\u30d4\u30c3\u30af\u3092\u53c2\u7167\u3057\u3066\u3082\u73fe\u5728\u306e\u30b9\u30c6\u30fc\u30bf\u30b9\u3092\u5f97\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u304c\u3001\u30a8\u30c3\u30b8\u51e6\u7406\u3067\u306f",Object(b.b)("strong",{parentName:"p"},"delta"),"\u30c8\u30d4\u30c3\u30af\u306e\u5185\u5bb9\u3092\u53c2\u7167\u3059\u308b\u3068\u3001\u305d\u306e\u72b6\u614b\u5909\u5316\u304c\u5bb9\u6613\u306b\u308f\u304b\u308a\u307e\u3059\u3002",Object(b.b)("br",{parentName:"p"}),"\n",Object(b.b)("strong",{parentName:"p"},"delta"),"\u30c8\u30d4\u30c3\u30af\u306f",Object(b.b)("strong",{parentName:"p"},"desired"),"\u3068",Object(b.b)("strong",{parentName:"p"},"reported"),"\u306e\u30e1\u30f3\u30d0\u30fc\u306e\u5dee\u5206\u3092\u30d1\u30d6\u30ea\u30c3\u30b7\u30e5\u3057\u3066\u304f\u308b\u306e\u3067\u6b21\u306e\u69d8\u306b\u306a\u308a\u307e\u3059\u3002  "),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),'    {\n        "state":{\n            "desired":{\n                "SwitchA": "on"\n            }\n        }\n    }\n    \u2193 \u3053\u3053\u304b\u3089\u4e0b\u306fDeviceShadow\u30b7\u30b9\u30c6\u30e0\u304c\u30c8\u30d4\u30c3\u30af\u306b\u5fdc\u3058\u3066\u30e1\u30bf\u60c5\u5831\u3092\u66f8\u304d\u8fbc\u307f\u307e\u3059\u3002\n')),Object(b.b)("p",null,"\u3053\u306e\u3088\u3046\u306b\u30b9\u30c6\u30fc\u30bf\u30b9\u306b\u5909\u7570\u306e\u3042\u3063\u305f\u30e1\u30f3\u30d0\u306e\u307f\u901a\u77e5\u3055\u308c\u308b\u306e\u3067\u3001\u3053\u306e\u5909\u7570\u306b\u540c\u671f\u3059\u308b\u3088\u3046\u306b\u30a8\u30c3\u30b8\u5074\u306e\u51e6\u7406\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002",Object(b.b)("br",{parentName:"p"}),"\n","\u3053\u3053\u3067\u306f",Object(b.b)("strong",{parentName:"p"},"SwitchA"),"\u3092",Object(b.b)("strong",{parentName:"p"},"on"),"\u306b\u3059\u308b\u305f\u3081\u306e\u30a8\u30c3\u30b8\u51e6\u7406\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002",Object(b.b)("br",{parentName:"p"}),"\n","\u30a8\u30c3\u30b8\u51e6\u7406\u3092\u5b9f\u884c\u3057\u3066\u5b9f\u969b\u306e",Object(b.b)("strong",{parentName:"p"},"SwitchA"),"\u3092",Object(b.b)("strong",{parentName:"p"},"on"),"\u3057\u305f\u5f8c\u306f\u3001\u30af\u30e9\u30a6\u30c9\u306b\u305d\u306e\u30ea\u30dd\u30fc\u30c8\u3092\u901a\u77e5\u3057\u307e\u3059\u3002  "),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),'    {\n        "state":{\n            "reported":{\n                "SwitchA": "on"\n            }\n        }\n    }\n')),Object(b.b)("p",null,"\u4ee5\u4e0a\u306e\u3088\u3046\u306b\u30af\u30e9\u30a6\u30c9\u306b\u30d1\u30d6\u30ea\u30c3\u30b7\u30e5\u3057\u3066\u51e6\u7406\u306e\u5b8c\u4e86\u3068\u306a\u308a\u307e\u3059\u3002",Object(b.b)("br",{parentName:"p"}),"\n","DeviceShadow\u306f\u3053\u306e\u5909\u7570\u306b\u5bfe\u3057\u3066\u540c\u3058\u3088\u3046\u306b",Object(b.b)("strong",{parentName:"p"},"documents"),",",Object(b.b)("strong",{parentName:"p"},"delta"),",",Object(b.b)("strong",{parentName:"p"},"accepted"),"\u306e3\u3064\u306e\u30c8\u30d4\u30c3\u30af\u306b\u30d1\u30d6\u30ea\u30c3\u30b7\u30e5\u3057\u3066\u304d\u307e\u3059\u3002",Object(b.b)("br",{parentName:"p"}),"\n","\u3053\u308c\u306b\u5bfe\u3057\u3066\u3082OpenBlocks\u306f\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u53d7\u3051\u53d6\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u304c\u3001\u81ea\u767a\u306e\u30ec\u30dd\u30fc\u30c8\u306e\u5909\u7570\u3067\u3042\u308b\u305f\u3081\u3053\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u306f\u7121\u8996\u3057\u307e\u3059\u3002  "),Object(b.b)("p",null,"\u6700\u7d42\u7684\u306b\u30af\u30e9\u30a6\u30c9\u306e\u4eee\u60f3\u30b9\u30c6\u30fc\u30c8\u30de\u30b7\u30f3\u306e\u72b6\u614b\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3068\u306a\u308a\u307e\u3059\u3002"),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),'    {\n        "state":{\n            "desired":{\n                "SwitchA": "on"\n                "SwitchB": "off"\n            },\n            "reported":{\n                "SwitchA": "on"\n                "SwitchB": "off"\n            }\n        }\n    }\n')),Object(b.b)("p",null,"\u4eee\u60f3\u30b9\u30c6\u30fc\u30c8\u30de\u30b7\u30f3\u306e\u7279\u5b9a\u306e\u30e1\u30f3\u30d0\u3092\u6d88\u3059\u3068\u304d\u306b\u306f\u6b21\u306e\u69d8\u306b\u30d1\u30d6\u30ea\u30c3\u30b7\u30e5\u3057\u307e\u3059\u3002"),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),'    {\n        "state":{\n            "desired":{\n                "SwitchA": null\n            }\n        }\n    }\n')),Object(b.b)("p",null,"\u4eee\u60f3\u30b9\u30c6\u30fc\u30c8\u30de\u30b7\u30f3\u306e",Object(b.b)("strong",{parentName:"p"},"desired"),"\u5168\u90e8\u3092\u6d88\u3059\u5834\u5408\u306f\u6b21\u306e\u69d8\u306b\u30d1\u30d6\u30ea\u30c3\u30b7\u30e5\u3057\u307e\u3059\u3002"),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),'    {\n        "state":{\n            "desired": null\n        }\n    }\n')),Object(b.b)("h4",{id:"lua\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u5b9f\u969b"},"Lua\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u5b9f\u969b"),Object(b.b)("p",null,"\u4ee5\u4e0b\u306eLua\u30b9\u30af\u30ea\u30d7\u30c8\u306f\u4e0a\u8a18\u306e\u624b\u9806\u3092\u8ffd\u3063\u305f\u3082\u306e\u3067\u3059\u3002"),Object(b.b)("h5",{id:"device-shadow-\u3092\u6271\u3046-lua-\u30b9\u30af\u30ea\u30d7\u30c8"},"Device Shadow \u3092\u6271\u3046 Lua \u30b9\u30af\u30ea\u30d7\u30c8"),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{className:"language-lua"}),'    package.cpath = package.cpath .. \';\' .. "/opt/pd/lua/util/luarocks/lib/lua/5.3/?.so;"      -- cjson\u306a\u3069\u7f6e\u3044\u3066\u3044\u308b\u5834\u6240\n    package.cpath = package.cpath .. \';\' .. "/opt/pd/lua/util/luarocks/share/lua/5.3/?/?.lua;"\n    json = require "cjson"                -- json\u306e\u30a8\u30f3\u30b3\u30fc\u30c0\u30fc\u30c7\u30b3\u30fc\u30c0\u30fc\u30e9\u30a4\u30d6\u30e9\u30ea\u306eLoad\n    DeviceShadow = require "DeviceShadow" -- DeviceShadow\u30a2\u30af\u30bb\u30b9\u30e9\u30a4\u30d6\u30e9\u30ea\u306eLoad\n\n    function LOG_err(message)\n        LUA_sys_log (3, message)\n    end\n    \n    function LOG_info(message)\n        LUA_sys_log (6, message)\n    end\n    \n    function LOG_debug(message)\n        LUA_sys_log (7, message)\n    end\n    \n    local device_number = "userdev_0000001"  -- WEB-UI\u3067\u30e6\u30fc\u30b6\u30fc\u5b9a\u7fa9\u3057\u305f\u30c7\u30d0\u30a4\u30b9\u3002\n    \n    function LUA_main(void)\n    \n        local uds_fd -- \u30d5\u30a1\u30a4\u30eb\u30c7\u30b9\u30af\u30ea\u30d7\u30bf\n        local jo     -- json\u6587\u5b57\u5217\u3092\u30c7\u30b3\u30fc\u30c9\u3057\u305f\u3042\u3068\u306b\u4fdd\u5b58\u3055\u308c\u308b\u9023\u60f3\u914d\u5217\u30c6\u30fc\u30d6\u30eb\n    \n        uds_fd = LUA_open_udomain(device_number) -- \u5f85\u3061\u53d7\u3051\u306e\u30e6\u30cb\u30c3\u30af\u30b9\u30c9\u30e1\u30a4\u30f3\u30bd\u30b1\u30c3\u30c8\n        if (1 > uds_fd) then  -- \u623b\u308a\u50240\u3067\u30aa\u30fc\u30d7\u30f3\u30a8\u30e9\u30fc\n            LOG_err("unix domain server open error\\n")\n            return\n        end\n        \n        -- \u30e1\u30a4\u30f3\u30eb\u30fc\u30d7 \u203b\u57fa\u672c\u7684\u306b\u306f\u30dd\u30fc\u30ea\u30f3\u30b0\u51e6\u7406\u3067\u3059\u3002\n        while (1) do -- \u7121\u9650\u30eb\u30fc\u30d7\u306fCTRL-C\u3067\u3082\u6b62\u307e\u308a\u307e\u3059\u3002\n            jo = DeviceShadow.receive(uds_fd)    -- DeviceShadow\u306e\u30b9\u30c6\u30fc\u30bf\u30b9\u5909\u7570\u3092\u53d7\u3051\u53d6\u308b\n            if nil ~= jo then    -- \u30b9\u30c6\u30fc\u30bf\u30b9\u5909\u7570\u3092\u53d7\u4fe1\n                if jo.type == "delta" then -- delta\u30c8\u30d4\u30c3\u30af\u3060\u3051\u53d7\u3051\u4ed8\u3051\u308b\n                    if jo.data ~= nil then -- \u6709\u52b9\u306a\u30da\u30a4\u30ed\u30fc\u30c9\u304c\u3042\u308b\u5834\u5408\n                        if jo.data.state.desired.SwitchA ~= nil then\n                            local rep = {} -- \u30af\u30e9\u30a6\u30c9\u306b\u30ec\u30dd\u30fc\u30c8\u3092\u9001\u308b\u305f\u3081\u306e\u9023\u60f3\u914d\u5217\u30c6\u30fc\u30d6\u30eb\n                            jo.data.state.desired.SwitchA == "on" then\n                                -- \u3053\u3053\u3078SwitchA\u3092on\u3059\u308b\u30eb\u30fc\u30c1\u30f3\u3092\u5165\u308c\u308b\n                                rep.state.reported.SwitchA == "on"    -- reported\u3078\u5909\u66f4\u5f8c\u306e\u30b9\u30c6\u30fc\u30bf\u30b9\u3092\u5165\u308c\u3066\u304a\u304f\n                            else\n                                -- \u3053\u3053\u3078SwitchA\u3092off\u3059\u308b\u30eb\u30fc\u30c1\u30f3\u3092\u5165\u308c\u308b\n                                rep.state.reported.SwitchA == "off"   -- reported\u3078\u5909\u66f4\u5f8c\u306e\u30b9\u30c6\u30fc\u30bf\u30b9\u3092\u5165\u308c\u3066\u304a\u304f\n                            end\n                            -- rep.state.desired = json.null << \u30af\u30e9\u30a6\u30c9\u306e"desired"\u306e\u4e2d\u8eab\u3092\u5168\u90e8\u6d88\u3057\u305f\u3044\u5834\u5408\n                            DeviceShadow.update(uds_fd, rep)   -- DeviceShadow\u3078\u30ec\u30dd\u30fc\u30c8\u3059\u308b\n                        end\n                    end\n                end\n            end\n            LUA_usleep(1000000) -- 1\u79d2\u30b9\u30ea\u30fc\u30d7\uff08\u9069\u5f53\u306b\uff01\uff09\n        end\n        \n        LUA_close_udomain(uds_fd) -- \u4f7f\u3044\u7d42\u308f\u3063\u305f\u3089\u30af\u30ed\u30fc\u30ba\n    \n    end\n')),Object(b.b)("h3",{id:"rs485\u534a\u4e8c\u91cd\u901a\u4fe1\u3067\u306e\u6ce8\u610f\u70b9"},"RS485\u534a\u4e8c\u91cd\u901a\u4fe1\u3067\u306e\u6ce8\u610f\u70b9"),Object(b.b)("p",null,"RS485\u306e\u5834\u5408\u3001\u9001\u4fe1\u7dda\u3068\u53d7\u4fe1\u7dda\u3092\u5171\u6709\u3057\u3066\uff14\u30ef\u30a4\u30e4(\u5b9f\u8cea\uff12\u30ef\u30a4\u30e4\u3067\u3082\u901a\u4fe1\u53ef\u80fd)\u306e\u534a\u4e8c\u91cd\u63a5\u7d9a\u304c\u4e3b\u6d41\u306e\u4f7f\u3044\u65b9\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002",Object(b.b)("br",{parentName:"p"}),"\n","\u3053\u3053\u3067\u3088\u304f\u554f\u984c\u3068\u306a\u308b\u306e\u306f\u3001\u9001\u4fe1\u3068\u53d7\u4fe1\u3092\u5207\u308a\u66ff\u3048\u308b\u30bf\u30a4\u30df\u30f3\u30b0\u3067\u767a\u751f\u3059\u308b\u30c7\u30fc\u30bf\u5316\u3051\u554f\u984c\u3067\u3059\u3002",Object(b.b)("br",{parentName:"p"}),"\n","\u4f8b\u3048\u3070\u901a\u4fe1\u30d5\u30ec\u30fc\u30e0\u306b\u5bfe\u3057\u3066\u306e\u30a8\u30e9\u30fc\u30c1\u30a7\u30c3\u30af\u3067CRC\u3092\u4ed8\u4e0e\u3057\u3066\u3044\u308b\u6642\u3084\u30d1\u30ea\u30c6\u30a3\u30c1\u30a7\u30c3\u30af\u3057\u3066\u3044\u308b\u6642\u306a\u3069\u3001\u3053\u306e\u5207\u66ff\u306e\u5fae\u5999\u306a\u30bf\u30a4\u30df\u30f3\u30b0\u3067\u30a8\u30e9\u30fc\u3092\u767a\u751f\u3057\u307e\u3059\u3002",Object(b.b)("br",{parentName:"p"}),"\n","\u3053\u308c\u3092\u901a\u4fe1\u56de\u8def\u3067\u767a\u751f\u3059\u308b\u30ce\u30a4\u30ba\u3068\u52d8\u9055\u3044\u3055\u308c\u3066\u3044\u308b\u65b9\u304c\u975e\u5e38\u306b\u591a\u3044\u3067\u3059\u3002  "),Object(b.b)("p",null,Object(b.b)("img",{src:t(909).default})),Object(b.b)("p",null,"\u3053\u306e\u56f3\u3067\u793a\u3055\u308c\u308b\u5207\u66ff\u306e\u30bf\u30a4\u30df\u30f3\u30b0\u306f\u30d7\u30e9\u30a4\u30de\u30ea\u304c\u9001\u4fe1\u5074\u3068\u3057\u3066\u30bb\u30ab\u30f3\u30c0\u30ea\u304c\u53d7\u4fe1\u6a5f\u5074\u3068\u3057\u3066\u3044\u308b\u5834\u5408\u3001\u30d7\u30e9\u30a4\u30de\u30ea\u304c\u9001\u4fe1\u7d42\u308f\u3063\u3066\u9001\u53d7\u4fe1\u3092\u5207\u308a\u66ff\u3048\u3066\u3082\u5373\u6642\u5207\u308a\u66ff\u308f\u308b\u308f\u3051\u3067\u306f\u306a\u304f\u591a\u5c11\u306e\u9045\u5ef6\u304c\u767a\u751f\u3057\u307e\u3059\u3002",Object(b.b)("br",{parentName:"p"}),"\n","\u3053\u306e\u305f\u3081\u3001\u4f4e\u3044\u30dc\u30fc\u30ec\u30fc\u30c8\u3067\u306f\u6c17\u306b\u306a\u3089\u306a\u304b\u3063\u305f\u9001\u53d7\u4fe1\u7dda\u306e\u5207\u66ff\u304c\u3001\u9ad8\u3044\u30dc\u30fc\u30ec\u30fc\u30c8\u3067\u306f\u30bb\u30ab\u30f3\u30c0\u30ea\u306e\u30c7\u30d0\u30a4\u30b9\u304c\u30c7\u30fc\u30bf\u3092\u53d7\u3051\u304d\u3089\u306a\u3044\u30bf\u30a4\u30df\u30f3\u30b0\u3067\u5207\u308a\u66ff\u308f\u3063\u3066\u3057\u307e\u3044\u3001\u30c7\u30fc\u30bf\u304c\u5316\u3051\u308b\u3068\u3044\u3046\u73fe\u8c61\u304c\u8d77\u3053\u3063\u3066\u3057\u307e\u3044\u307e\u3059\u3002",Object(b.b)("br",{parentName:"p"}),"\n","\u3053\u306e\u9006\u306e\u30d1\u30bf\u30fc\u30f3\u3067\u306f\u3001\u30bb\u30ab\u30f3\u30c0\u30ea\u30c7\u30d0\u30a4\u30b9\u304c\u9001\u4fe1\u3057\u59cb\u3081\u305f\u30bf\u30a4\u30df\u30f3\u30b0\u3092\u3046\u307e\u304f\u691c\u51fa\u3067\u304d\u306a\u304f\u3066\u3001\u30c7\u30fc\u30bf\u5316\u3051\u304c\u8d77\u3053\u308b\u30b1\u30fc\u30b9\u3082\u3042\u308a\u307e\u3059\u3002",Object(b.b)("br",{parentName:"p"}),"\n","\u3053\u308c\u306f\u30c7\u30d0\u30a4\u30b9\u304cRS485\u534a\u4e8c\u91cd\u306b\u5bfe\u5fdc\u3057\u305fLSI\u3092\u63a1\u7528\u3057\u3066\u3044\u308b\u5834\u5408\u306b\u306f\u30c7\u30fc\u30bf\u5316\u3051\u306e\u7121\u3044\u901a\u4fe1\u304c\u53ef\u80fd\u3067\u3059\u304c\u3001\u5143\u3005\u5168\u4e8c\u91cd\u306eRS232C\u306e\u56de\u8def\u3092RS485\u534a\u4e8c\u91cd\u306b\u30cf\u30fc\u30c9\u30a6\u30a7\u30a2\u30ed\u30b8\u30c3\u30af\u306a\u3069\u3067\u30b3\u30f3\u30d0\u30fc\u30c8\u3057\u305f\u56de\u8def\u3092\u63a1\u7528\u3057\u3066\u3044\u308b\u30c7\u30d0\u30a4\u30b9\u306b\u306f\u3053\u306e\u5207\u66ff\u306e\u9045\u5ef6\u304c\u767a\u751f\u3057\u307e\u3059\u3002",Object(b.b)("br",{parentName:"p"}),"\n","(\u65e7\u7248\u306eOpenBlocks IoT EX1\u3084BX\u30b7\u30ea\u30fc\u30ba\u3082\u5bfe\u8c61\u306b\u306a\u308a\u307e\u3059\u3002)",Object(b.b)("br",{parentName:"p"}),"\n","\u3053\u306e\u5834\u5408\u306b\u306f\u901a\u4fe1\u901f\u5ea6\u3092\u9045\u304f\u3059\u308b\u3053\u3068\u3067\u5bfe\u51e6\u3082\u53ef\u80fd\u3067\u3059\u304c\u3001\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u7684\u306b\u89e3\u6c7a\u3059\u308b\u306b\u306f\u3001RS485\u306b\u6d41\u3059\u30c7\u30fc\u30bf\u306e\u30d5\u30ec\u30fc\u30e0\u306e\u524d\u5f8c\u306b\u30c0\u30df\u30fc\u30c7\u30fc\u30bf\u3092\u7f6e\u304f\u65b9\u6cd5\u304c\u3042\u308a\u307e\u3059\u3002  "),Object(b.b)("p",null,"\u30c0\u30df\u30fc\u30c7\u30fc\u30bf\u4ed8\u4e0e\u306e\u4f8b"),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{}),"\u5143\u3068\u306a\u308b\u30c7\u30fc\u30bf\u30da\u30a4\u30ed\u30fc\u30c9\n        1234567890\n\u30c0\u30df\u30fc\u3092\u4ed8\u3051\u305f\u30c7\u30fc\u30bf\n    \uff65\uff65\uff65S1234567890CCE\uff65\uff65\uff65 < S\u306f\u30b9\u30bf\u30fc\u30c8\u30b3\u30fc\u30c9 E\u306f\u30a8\u30f3\u30c9\u30b3\u30fc\u30c9 C\u306fCRC\u30c7\u30fc\u30bf\n    xxxxooooooooooooxxxx\nxxxx\u90e8\u5206\u306e\u30c7\u30fc\u30bf\u306f\u7121\u8996\u3057\u3066S\u306e\u6b21\u306e\u30c7\u30fc\u30bf\u304b\u3089E\u306e\u524d\u306eo\u3068c\u90e8\u5206\u30c7\u30fc\u30bf\u3092\u6709\u52b9\u3068\u3057\u3066\u4f7f\u3044CC\u90e8\u5206\u3067\u30a8\u30e9\u30fc\u30c1\u30a7\u30c3\u30af\n\uff65\uff65\uff65\u306e\u30c0\u30df\u30fc\u30c7\u30fc\u30bf\u306f0xaa\u30840x55\u306a\u3069\u3092\u4f7f\u3046\u3053\u3068\u3092\u63a8\u5968\u3002  \n")),Object(b.b)("p",null,"\u3053\u3046\u3044\u3063\u305f\u611f\u3058\u306e\u30d7\u30ed\u30c8\u30b3\u30eb\u3067\u6709\u52b9\u90e8\u5206\u306e\u30c7\u30fc\u30bf\u306e\u6700\u5f8c\u306bCRC\u3092\u4ed8\u3051\u3066\u8ee2\u9001\u3057\u307e\u3059\u3002",Object(b.b)("br",{parentName:"p"}),"\n","\u53d7\u4fe1\u5074\u306f\u30c0\u30df\u30fc\u90e8\u5206\u3092\u6368\u3066\u3066\u6709\u52b9\u90e8\u5206\u306e\u30c7\u30fc\u30bf\u306e\u307f\u4f7f\u3044\u307e\u3059\u3002",Object(b.b)("br",{parentName:"p"}),"\n","\u307e\u305f\u3001\u30b9\u30bf\u30fc\u30c8\u30b3\u30fc\u30c9\u3084\u30a8\u30f3\u30c9\u30b3\u30fc\u30c9\u306f1\u30d0\u30a4\u30c8\u306e\u5834\u5408\u3001\u4f7f\u7528\u5236\u9650\u304c\u4ed8\u304d\u3084\u3059\u3044\u306e\u30672\u30d0\u30a4\u30c8\u3067\u30b9\u30bf\u30fc\u30c8\u30fb\u30a8\u30f3\u30c9\u30b3\u30fc\u30c9\u3092\u8a2d\u5b9a\u3059\u308b\u3084\u308a\u65b9\u304c\u4e00\u822c\u7684\u3067\u3059\u3002  "),Object(b.b)("h3",{id:"rs-serial\u306elua\u7528\u95a2\u6570"},"RS-SERIAL\u306eLua\u7528\u95a2\u6570"),Object(b.b)("p",null,"\u4ee5\u4e0b\u306fOpenBlocks\u306eLua\u8a00\u8a9e\u7528\u306b\u5b9f\u88c5\u3057\u3066\u3044\u308b\u95a2\u6570\u3067\u3059\u3002",Object(b.b)("br",{parentName:"p"}),"\n","sample.lua\u3067\u306f\u3053\u308c\u3089\u95a2\u6570\u3092\u4e00\u901a\u308a\u4f7f\u3063\u3066\u3044\u308b\u306e\u3067\u53c2\u8003\u306b\u3057\u3066\u4e0b\u3055\u3044\u3002  "),Object(b.b)("h5",{id:"lua_open_serial"},"LUA_open_serial()"),Object(b.b)("p",null,"\u30b7\u30ea\u30a2\u30eb\u30dd\u30fc\u30c8\u3092\u6307\u5b9a\u306e\u901a\u4fe1\u30d1\u30e9\u30e1\u30fc\u30bf\u3067\u30aa\u30fc\u30d7\u30f3\u3059\u308b\u3002"),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{}),'LUA_open_serial (devfile, speed, databit, stopbit, enable_parity, odd_parity)\n    \u5f15\u6570\n        devfile (string)\n            \u5bfe\u8c61\u306e\u30b7\u30ea\u30a2\u30eb\u30dd\u30fc\u30c8\u306e\u30c7\u30d0\u30a4\u30b9\u30d5\u30a1\u30a4\u30eb\u540d\u3092\u8a2d\u5b9a(\u4f8b:"/dev/ttyMFD1")\n        speed (int)\n            \u30b7\u30ea\u30a2\u30eb\u30dd\u30fc\u30c8\u306e\u901a\u4fe1\u901f\u5ea6\u3092\u6307\u5b9a(110\uff5e921600\u306e\u7bc4\u56f2\u306714400\u306f\u30b5\u30dd\u30fc\u30c8\u5916)\n        databit (int)\n            \u30c7\u30fc\u30bf\u306e\u30d3\u30c3\u30c8\u9577(5\uff5e8 \u7bc4\u56f2\u5916\u306e\u5024\u306f8\u3068\u3059\u308b)\n        stopbit (int)\n            \u30b9\u30c8\u30c3\u30d7\u30d3\u30c3\u30c8\u9577(1 or 2\u30012\u4ee5\u5916\u306f\u5168\u90e81\u3068\u3059\u308b)\n        enable_parity (bool)\n            \u30d1\u30ea\u30c6\u30a3\u3092\u6709\u52b9\u306b\u3059\u308b(true or false )\n        odd_parity (bool)\n            enable_parity\u304ctrue\u306e\u6642\u306b\u3053\u306e\u8a2d\u5b9a\u304c\u6709\u52b9\u306b\u306a\u308b\u3002\n            true\u306e\u6642\u3001\u5947\u6570\u30d1\u30ea\u30c6\u30a3\u306b\u306a\u308b\u3002\n            false\u306e\u6642\u3001\u5076\u6570\u30d1\u30ea\u30c6\u30a3\u306b\u306a\u308b\u3002\n    \u623b\u308a\u5024\n        \u30d5\u30a1\u30a4\u30eb\u30c7\u30b9\u30af\u30ea\u30d7\u30bf(int)\u3001\u30aa\u30fc\u30d7\u30f3\u5931\u6557\u6642 \u30de\u30a4\u30ca\u30b9\u5024\n')),Object(b.b)("h5",{id:"lua_close_serial"},"LUA_close_serial()"),Object(b.b)("p",null,"\u30b7\u30ea\u30a2\u30eb\u30dd\u30fc\u30c8\u3092\u30af\u30ed\u30fc\u30ba\u3059\u308b\u3002"),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{}),"LUA_close_serial (fd)\n    \u5f15\u6570\n        fd (int)\n            \u30b7\u30ea\u30a2\u30eb\u30dd\u30fc\u30c8\u30aa\u30fc\u30d7\u30f3\u6642\u306e\u30d5\u30a1\u30a4\u30eb\u30c7\u30b9\u30af\u30ea\u30d7\u30bf\n    \u623b\u308a\u5024\u3000\u7121\u3057\n")),Object(b.b)("h5",{id:"lua_send_serial"},"LUA_send_serial()"),Object(b.b)("p",null,"\u30b7\u30ea\u30a2\u30eb\u30dd\u30fc\u30c8\u304b\u3089\u30d0\u30a4\u30ca\u30ea\u30fc\u30c7\u30fc\u30bf\u3092\u9001\u4fe1\u3059\u308b\u3002"),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{}),"LUA_send_serial (fd, buffer, size)\n    \u5f15\u6570\n        fd\n            \u30d5\u30a1\u30a4\u30eb\u30c7\u30b9\u30af\u30ea\u30d7\u30bf(int)\n        buffer\n            \u9001\u4fe1\u3059\u308b\u30d0\u30a4\u30ca\u30ea\u30fc\u30c7\u30fc\u30bf(data \u203b\u30dd\u30a4\u30f3\u30bf\u3067\u306f\u306a\u304f\u5b9f\u4f53)\n            \u203b\u9001\u4fe1\u30c7\u30fc\u30bf\u306bNULL(0)\u306a\u3069\u306e\u30d0\u30a4\u30ca\u30ea\u30fc\u3082\u542b\u3080\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002\n        size\n            \u30d0\u30a4\u30ca\u30ea\u30c7\u30fc\u30bf\u306e\u9577\u3055\n    \u623b\u308a\u5024\n        \u9001\u4fe1\u3067\u304d\u305f\u30d0\u30a4\u30c8\u6570\n")),Object(b.b)("h5",{id:"lua_read_serial"},"LUA_read_serial()"),Object(b.b)("p",null,"\u30b7\u30ea\u30a2\u30eb\u30dd\u30fc\u30c8\u304b\u3089\u30d0\u30a4\u30ca\u30ea\u30fc\u30c7\u30fc\u30bf\u3092\u53d7\u4fe1\u3059\u308b\u3002"),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{}),"LUA_read_serial (fd, buffer, size)\n    \u5f15\u6570\n        fd\n            \u30d5\u30a1\u30a4\u30eb\u30c7\u30b9\u30af\u30ea\u30d7\u30bf(int)\n    \u623b\u308a\u5024\uff11\n        \u30d0\u30a4\u30ca\u30ea\u30fc\u30c7\u30fc\u30bf\u5217\u306e\u5b9f\u4f53(NULL\u3092\u542b\u3080\u304cLUA\u3067\u306fstring\u578b)\n        \u203b\u53d7\u4fe1\u30c7\u30fc\u30bf\u306bNULL(0)\u306a\u3069\u306e\u30d0\u30a4\u30ca\u30ea\u30fc\u3082\u542b\u3080\u4e8b\u304c\u3067\u304d\u307e\u3059\u3002\n    \u623b\u308a\u5024\uff12\n        \u30d0\u30a4\u30ca\u30ea\u30c7\u30fc\u30bf\u306e\u9577\u3055\n        \u30c7\u30fc\u30bf\u304c\u7121\u3044\u6642 0 \u203bC\u8a00\u8a9e\u5185\u3067\u306f -1(\u4f7f\u3044\u306b\u304f\u3044\u306e\u30670\u306b\u7f6e\u304d\u63db\u3048)\n")),Object(b.b)("h5",{id:"lua_post"},"LUA_post()"),Object(b.b)("p",null,"\u30e6\u30cb\u30c3\u30af\u30b9\u30c9\u30e1\u30a4\u30f3\u30bd\u30b1\u30c3\u30c8\u7d4c\u7531\u3067 PD Repeater \u306b\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u9001\u4fe1\u3059\u308b\u3002",Object(b.b)("br",{parentName:"p"}),"\n","PD Repeater \u306f\u305d\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u3092WEB-UI\u306e\u8a2d\u5b9a\u306b\u5f93\u3044\u30af\u30e9\u30a6\u30c9\u3078\u9001\u4fe1\u3059\u308b\u3002"),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{}),"LUA_post (device_number, message)\n    \u5f15\u6570\n        device_number\n            openblocks\u306e\u3067\u78ba\u4fdd\u3057\u305f\u30bd\u30b1\u30c3\u30c8\u306e\u540d\u524d(string)\n            \u30bd\u30b1\u30c3\u30c8\u306fWEB-UI\u306b\u3042\u308b \u57fa\u672c\uff1eUser\u30c7\u30d0\u30a4\u30b9\u767b\u9332 \u30bf\u30d6\u3067\u767b\u9332\u3055\u308c\u305f\n            \u30c7\u30d0\u30a4\u30b9\u756a\u53f7\u3092\u4f7f\u3046\u3002\n        message\n            \u4e00\u822c\u7684\u306b\u306fjson\u306e\u6587\u5b57\u5217\u3092\u6307\u5b9a\u3059\u308b\u304c\u3001\u6587\u5b57\u5217\u3067\u3042\u308c\u3070\u4f55\u3067\u3082\u304b\u307e\u308f\u306a\u3044\u3002\n")),Object(b.b)("h5",{id:"lua_open_udomain"},"LUA_open_udomain()"),Object(b.b)("p",null,"\u30e6\u30cb\u30c3\u30af\u30b9\u30c9\u30e1\u30a4\u30f3\u30bd\u30b1\u30c3\u30c8\u306e\u5f85\u3061\u53d7\u3051\u30b5\u30fc\u30d0\u30fc\u3092\u8d77\u52d5\u3059\u308b\u3002",Object(b.b)("br",{parentName:"p"}),"\n","PD Repeater \u306fWEB-UI\u306e\u8a2d\u5b9a\u306b\u5f93\u3044\u30af\u30e9\u30a6\u30c9\u304b\u3089\u306e\u4e0b\u6d41\u5236\u5fa1\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u53d7\u3051\u53d6\u308a\u3001\n\u3053\u306e\u30b3\u30de\u30f3\u30c9\u3067\u30aa\u30fc\u30d7\u30f3\u3055\u308c\u305f\u30e6\u30cb\u30c3\u30af\u30b9\u30c9\u30e1\u30a4\u30f3\u30bd\u30b1\u30c3\u30c8\u306bjson\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u9001\u4fe1\u3059\u308b\u3002"),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{}),"LUA_open_udomain(device_number)\n    \u5f15\u6570\n        device_number\n            openblocks\u306e\u3067\u78ba\u4fdd\u3057\u305f\u30bd\u30b1\u30c3\u30c8\u306e\u540d\u524d(string)\n            \u30bd\u30b1\u30c3\u30c8\u306fWEB-UI\u306b\u3042\u308b \u57fa\u672c\uff1eUser\u30c7\u30d0\u30a4\u30b9\u767b\u9332 \u30bf\u30d6\u3067\u767b\u9332\u3055\u308c\u305f\n            \u30c7\u30d0\u30a4\u30b9\u756a\u53f7\u3092\u4f7f\u3046\u3002\n    \u623b\u308a\u5024\n        \u30d5\u30a1\u30a4\u30eb\u30c7\u30b9\u30af\u30ea\u30d7\u30bf(int) \u623b\u308a\u5024\u304c0\u306e\u6642\u306f\u30aa\u30fc\u30d7\u30f3\u30a8\u30e9\u30fc\n")),Object(b.b)("h5",{id:"lua_read_udomain"},"LUA_read_udomain()"),Object(b.b)("p",null,"\u30e6\u30cb\u30c3\u30af\u30b9\u30c9\u30e1\u30a4\u30f3\u30bd\u30b1\u30c3\u30c8\u306e\u5f85\u3061\u53d7\u3051\u304b\u3089\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u53d7\u3051\u53d6\u308b\u3002"),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{}),"LUA_read_udomain(uds_fd)\n    \u5f15\u6570\n        uds_fd\n            LUA_open_udomain\u95a2\u6570\u3067\u5f97\u305f\u30d5\u30a1\u30a4\u30eb\u30c7\u30a3\u30b9\u30af\u30ea\u30d7\u30bf\n    \u623b\u308a\u5024\n        \u53d7\u4fe1\u30d0\u30c3\u30d5\u30a1\u30c7\u30fc\u30bf\n    \u6ce8\u610f\uff1a\n        \u9001\u4fe1\u5143\u306e\u30c7\u30fc\u30bf\u304c\u9577\u3044\u5834\u5408\u30011\u56de\u306eread\u3067\u8aad\u307f\u5207\u308c\u306a\u3044\u5834\u5408\u304c\u3042\u308b\u306e\u3067\n        \u53d7\u4fe1\u30d0\u30c3\u30d5\u30a1\u30c7\u30fc\u30bf\u304c\u7a7a\u306b\u306a\u308b\u307e\u3067\u8aad\u307f\u8fbc\u3080\u3002\n")),Object(b.b)("h5",{id:"lua_close_udomain"},"LUA_close_udomain()"),Object(b.b)("p",null,"\u30e6\u30cb\u30c3\u30af\u30b9\u30c9\u30e1\u30a4\u30f3\u30bd\u30b1\u30c3\u30c8\u306e\u5f85\u3061\u53d7\u3051\u3092\u30af\u30ed\u30fc\u30ba\u3059\u308b\u3002"),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{}),"LUA_close_udomain(uds_fd)\n    \u5f15\u6570\n        uds_fd\n            LUA_open_udomain\u95a2\u6570\u3067\u5f97\u305f\u30d5\u30a1\u30a4\u30eb\u30c7\u30a3\u30b9\u30af\u30ea\u30d7\u30bf\n")),Object(b.b)("h5",{id:"lua_dump_byte"},"LUA_dump_byte()"),Object(b.b)("p",null,"\u30d0\u30a4\u30ca\u30ea\u30fc\u306e\u30d0\u30a4\u30c8\u5217\u3092\u30c0\u30f3\u30d7\u3059\u308b\u3002\uff08\u30c7\u30d0\u30c3\u30b0\u30e1\u30c3\u30bb\u30fc\u30b8\u3068\u3057\u3066\u51fa\u529b\uff09",Object(b.b)("br",{parentName:"p"}),"\n","\u203b\u30c7\u30d0\u30c3\u30b0\u306e\u305f\u3081\u306b\u7528\u610f\u3055\u308c\u305f\u95a2\u6570\u3067\u3059\u3002"),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{}),"LUA_dump_byte (buffer, size)\n    \u5f15\u6570\n        buffer\n            \u30c0\u30f3\u30d7\u3059\u308b\u30d0\u30a4\u30ca\u30ea\u30fc\u30c7\u30fc\u30bf(data \u203b\u30dd\u30a4\u30f3\u30bf\u3067\u306f\u306a\u304f\u5b9f\u4f53)\n        size\n            \u30c0\u30f3\u30d7\u3059\u308b\u30d0\u30a4\u30ca\u30ea\u30c7\u30fc\u30bf\u306e\u9577\u3055\n    \u623b\u308a\u5024\n        \u7121\u3057\n")),Object(b.b)("h5",{id:"lua_usleep"},"LUA_usleep()"),Object(b.b)("p",null,"\u30d7\u30ed\u30bb\u30b9\u3092\u6307\u5b9a\u306e\u6642\u9593\u505c\u6b62\u3055\u305b\u308b\u3002"),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{}),"LUA_usleep (microsec)\n    \u5f15\u6570\n        microsec(int)\n            \u30de\u30a4\u30af\u30ed\u79d2\u5358\u4f4d\u3067\u505c\u6b62\u3055\u305b\u308b\u6642\u9593\u3092\u8a2d\u5b9a\u3002(\u4e92\u63db\u6027\u306e\u305f\u3081\u306a\u308b\u3079\u304f1000000\u672a\u6e80(1\u79d2)\u3092\u8a2d\u5b9a)\n    \u623b\u308a\u5024\n        \u7121\u3057\n")),Object(b.b)("h5",{id:"lua_sleep"},"LUA_sleep()"),Object(b.b)("p",null,"\u30d7\u30ed\u30bb\u30b9\u3092\u6307\u5b9a\u306e\u6642\u9593\u505c\u6b62\u3055\u305b\u308b\u3002"),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{}),"LUA_sleep (sec)\n    \u5f15\u6570\n        microsec(int)\n            \u79d2\u5358\u4f4d\u3067\u505c\u6b62\u3055\u305b\u308b\u6642\u9593\u3092\u8a2d\u5b9a\u3002\n    \u623b\u308a\u5024\n        \u7121\u3057\n")),Object(b.b)("h5",{id:"lua_sys_log"},"LUA_sys_log()"),Object(b.b)("p",null,"\u30b7\u30b9\u30ed\u30b0\u306b\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u9001\u308b\u3002\u30d5\u30a9\u30a2\u30b0\u30e9\u30f3\u30c9\u3067\u306f\u6a19\u6e96\u51fa\u529b\u3082\u4e00\u7dd2\u306b\u884c\u308f\u308c\u308b\u3002"),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{}),"LUA_sys_log (level, message)\n    \u5f15\u6570\n        level(int)\n            \u30ed\u30b0\u306e\u30ec\u30d9\u30eb\u3002(0\uff5e7) \n        message(string)\n            \u51fa\u529b\u3055\u308c\u308b\u30e1\u30c3\u30bb\u30fc\u30b8\u3002\n    \u203bprintf\u7684\u306b\u4f7f\u3046\u5834\u5408 string.format\u95a2\u6570 \u3092\u4f7f\u3044\u307e\u3059\u3002(\u30b5\u30f3\u30d7\u30eb\u53c2\u7167)\n")),Object(b.b)("h5",{id:"lua_get_iso_datetime"},"LUA_get_iso_datetime()"),Object(b.b)("p",null,"IoT\u30af\u30e9\u30a6\u30c9\u306b\u57fa\u672c\u7684\u306b\u7528\u3044\u3089\u308c\u308bISO8601\u5f62\u5f0f\u306e\u65e5\u4ed8\u6642\u9593\u3092\u5f97\u307e\u3059\u3002"),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{}),"LUA_get_iso_datetime (order_msec)\n    \u5f15\u6570\n        order_msec(bool)\n            \u6642\u9593\u3092\u30df\u30ea\u79d2\u5358\u4f4d\u307e\u3067\u6b32\u3057\u3044\u6642true\u306b\u3057\u307e\u3059\u3002\u305d\u308c\u4ee5\u5916\u306ffalse\n    \u623b\u308a\u5024\n        ISO8601\u5f62\u5f0f\u306e\u65e5\u4ed8\u6642\u9593\u6587\u5b57\u5217\n")),Object(b.b)("h3",{id:"\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u64cd\u4f5c-2"},"\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9/\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u64cd\u4f5c"),Object(b.b)("p",null,"SERIAL Lua\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u30d5\u30a1\u30a4\u30eb\u306f",Object(b.b)("strong",{parentName:"p"},"IoT\u30c7\u30fc\u30bf\u21d2SERIAL Lua"),"\u30bf\u30d6\u306e\u64cd\u4f5c\u753b\u9762\u304b\u3089\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3084\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 "),Object(b.b)("p",null,Object(b.b)("img",{src:t(656).default})),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"\u8a2d\u5b9a\u9805\u76ee"),Object(b.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"\u8aac\u660e"))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"\u66f4\u65b0"),Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Lua\u30d5\u30a1\u30a4\u30eb\u306e\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u5148\u306e\u30d5\u30a1\u30a4\u30eb\u4e00\u89a7\u8868\u793a\u3092\u66f4\u65b0\u3057\u307e\u3059\u3002")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"\u524a\u9664"),Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"\u30d5\u30a1\u30a4\u30eb\u3092\u9078\u629e\u5f8c",Object(b.b)("inlineCode",{parentName:"td"},"\u524a\u9664"),"\u30dc\u30bf\u30f3\u3067\u524a\u9664\u3057\u307e\u3059\u3002")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9"),Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"\u30d5\u30a1\u30a4\u30eb\u3092\u9078\u629e\u5f8c",Object(b.b)("inlineCode",{parentName:"td"},"\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9"),"\u30dc\u30bf\u30f3\u3067\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30d1\u30bd\u30b3\u30f3\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30d5\u30a9\u30eb\u30c0\u306b\u30d5\u30a1\u30a4\u30eb\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"\u5b9f\u884c\u6a29\u4ed8\u4e0e"),Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"\u30d5\u30a1\u30a4\u30eb\u3092\u9078\u629e\u5f8c",Object(b.b)("inlineCode",{parentName:"td"},"\u5b9f\u884c\u6a29\u4ed8\u4e0e"),"\u30dc\u30bf\u30f3\u3067\u5b9f\u884c\u6a29\u3092\u4ed8\u4e0e\u3057\u307e\u3059\u3002\u901a\u5e38\u3067\u306f\u4e0d\u8981\u3067\u3059\u3002")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9"),Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(b.b)("inlineCode",{parentName:"td"},"\u30d5\u30a1\u30a4\u30eb\u3092\u9078\u629e"),"\u30dc\u30bf\u30f3\u3092\u62bc\u3059\u3068\u3001\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30d1\u30bd\u30b3\u30f3\u306e\u30d5\u30a1\u30a4\u30eb\u4e00\u89a7\u304b\u3089\u6307\u5b9a\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u9078\u629e\u3057\u3066\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3067\u304d\u307e\u3059\u3002",Object(b.b)("sup",null,"*1"))))),Object(b.b)("div",{className:"admonition admonition-info alert alert--info"},Object(b.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(b.b)("h5",{parentName:"div"},Object(b.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(b.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(b.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})))),"info")),Object(b.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(b.b)("ol",{parentName:"div"},Object(b.b)("li",{parentName:"ol"},"\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u5f8c\u306b\u3001\u30d7\u30ed\u30bb\u30b9\u306e\u518d\u8d77\u52d5\u304c\u5fc5\u8981\u3068\u306a\u308a\u307e\u3059\u3002"),Object(b.b)("li",{parentName:"ol"},"\u5225\u540d\u306e\u30d5\u30a1\u30a4\u30eb\u3067\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u6307\u5b9a\u3057\u305f\u5834\u5408\u3001",Object(b.b)("strong",{parentName:"li"},"IoT\u30c7\u30fc\u30bf\u21d2\u30e2\u30b8\u30e5\u30fc\u30eb\u8a2d\u5b9a"),"\u30bf\u30d6\u306ePD Handler RS-SERIAL\u306e",Object(b.b)("strong",{parentName:"li"},"\u6307\u5b9aLua\u30d5\u30a1\u30a4\u30eb"),"\u306b\u3066\u4f7f\u7528\u3059\u308bLua\u30d5\u30a1\u30a4\u30eb\u3092\u5909\u66f4\u3057\u3066\u4e0b\u3055\u3044\u3002")))),Object(b.b)("h2",{id:"b\u30eb\u30fc\u30c8lua"},"B\u30eb\u30fc\u30c8Lua"),Object(b.b)("p",null,"\u4f4e\u5727\u30fb\u9ad8\u5727\u30b9\u30de\u30fc\u30c8\u30e1\u30fc\u30bf\u30fc\u7528\u306eLua\u30cf\u30f3\u30c9\u30e9\u306e\u30d5\u30a1\u30a4\u30eb\u3067\u3059\u3002"),Object(b.b)("h3",{id:"\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u64cd\u4f5c-3"},"\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9/\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u64cd\u4f5c"),Object(b.b)("p",null,"\u4f5c\u6210\u3057\u305fLua\u30cf\u30f3\u30c9\u30e9\u306e\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3084\u3001\u53c2\u8003\u306b\u3059\u308bLua\u30cf\u30f3\u30c9\u30e9\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u64cd\u4f5c\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002  "),Object(b.b)("p",null,Object(b.b)("img",{src:t(910).default})),Object(b.b)("h4",{id:"b\u30eb\u30fc\u30c8lua-\u30e1\u30cb\u30e5\u30fc\u306e\u64cd\u4f5c\u9805\u76ee"},"B\u30eb\u30fc\u30c8Lua \u30e1\u30cb\u30e5\u30fc\u306e\u64cd\u4f5c\u9805\u76ee"),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"\u8a2d\u5b9a\u9805\u76ee"),Object(b.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"\u8aac\u660e"))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"\u66f4\u65b0"),Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Lua\u30d5\u30a1\u30a4\u30eb\u306e\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u5148\u306e\u30d5\u30a1\u30a4\u30eb\u4e00\u89a7\u8868\u793a\u3092\u66f4\u65b0\u3057\u307e\u3059\u3002")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"\u524a\u9664"),Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"\u30d5\u30a1\u30a4\u30eb\u3092\u9078\u629e\u5f8c",Object(b.b)("inlineCode",{parentName:"td"},"\u524a\u9664"),"\u30dc\u30bf\u30f3\u3067\u524a\u9664\u3057\u307e\u3059\u3002",Object(b.b)("br",null),"\u524a\u9664\u53ef\u80fd\u306a\u30d5\u30a1\u30a4\u30eb\u306f\u30ab\u30b9\u30bf\u30e0\u7528\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u914d\u4e0b\u306e\u30d5\u30a1\u30a4\u30eb\u3067\u3059\u3002")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9"),Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"\u30d5\u30a1\u30a4\u30eb\u3092\u9078\u629e\u5f8c",Object(b.b)("inlineCode",{parentName:"td"},"\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9"),"\u30dc\u30bf\u30f3\u3067\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30d1\u30bd\u30b3\u30f3\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30d5\u30a9\u30eb\u30c0\u306b\u30d5\u30a1\u30a4\u30eb\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"\u5b9f\u884c\u6a29\u4ed8\u4e0e"),Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"\u30d5\u30a1\u30a4\u30eb\u3092\u9078\u629e\u5f8c",Object(b.b)("inlineCode",{parentName:"td"},"\u5b9f\u884c\u6a29\u4ed8\u4e0e"),"\u30dc\u30bf\u30f3\u3067\u5b9f\u884c\u6a29\u3092\u4ed8\u4e0e\u3057\u307e\u3059\u3002\u901a\u5e38\u3067\u306f\u4e0d\u8981\u3067\u3059\u3002")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u5148"),Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3057\u305f\u3044\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u30d7\u30eb\u30c0\u30a6\u30f3\u304b\u3089\u9078\u629e\u3057\u3066\u4e0b\u3055\u3044\u3002",Object(b.b)("br",null)," \u5bfe\u8c61\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u914d\u4e0b\u304c\u30d7\u30eb\u30c0\u30a6\u30f3\u5bfe\u8c61\u3067\u3059\u3002",Object(b.b)("br",null)," \u30d1\u30b9\u306e\u6700\u521d\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c\u4ee5\u4e0b\u306e\u5834\u5408\u3001\u5404\u5bfe\u5fdc\u3059\u308b\u30cf\u30f3\u30c9\u30e9\u306e\u914d\u7f6e\u5834\u6240\u3068\u306a\u308a\u307e\u3059\u3002 ",Object(b.b)("ul",null," ",Object(b.b)("li",null,"bidirec_hvsmc : \u53cc\u65b9\u5411\u5bfe\u5fdc\u9ad8\u5727\u30b9\u30de\u30fc\u30c8\u30e1\u30fc\u30bf\u30fc\u5bfe\u5fdc\u30cf\u30f3\u30c9\u30e9(PD Handler Bidirection HVSMC)\u7528\u914d\u7f6e\u5834\u6240")," ",Object(b.b)("li",null,"hvsmc : \u9ad8\u5727\u30b9\u30de\u30fc\u30c8\u30e1\u30fc\u30bf\u30fc\u5bfe\u5fdc\u30cf\u30f3\u30c9\u30e9(PD Handler HVSMC)\u7528\u914d\u7f6e\u5834\u6240")," ",Object(b.b)("li",null,"lvsmc : \u4f4e\u5727\u30b9\u30de\u30fc\u30c8\u30e1\u30fc\u30bf\u30fc\u5bfe\u5fdc\u30cf\u30f3\u30c9\u30e9(PD Handler LVSMC)\u7528\u914d\u7f6e\u5834\u6240")," "))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9"),Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(b.b)("inlineCode",{parentName:"td"},"\u30d5\u30a1\u30a4\u30eb\u3092\u9078\u629e"),"\u30dc\u30bf\u30f3\u3092\u62bc\u3059\u3068\u3001\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30d1\u30bd\u30b3\u30f3\u306e\u30d5\u30a1\u30a4\u30eb\u4e00\u89a7\u304b\u3089\u6307\u5b9a\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u9078\u629e\u3057\u3066\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3067\u304d\u307e\u3059\u3002",Object(b.b)("sup",null,"*1"))))),Object(b.b)("div",{className:"admonition admonition-info alert alert--info"},Object(b.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(b.b)("h5",{parentName:"div"},Object(b.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(b.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(b.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})))),"info")),Object(b.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(b.b)("ol",{parentName:"div"},Object(b.b)("li",{parentName:"ol"},"\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u5f8c\u306b\u30d7\u30ed\u30bb\u30b9\u306e\u518d\u8d77\u52d5\u304c\u5fc5\u8981\u306a\u306e\u3067\u3001",Object(b.b)("a",Object(a.a)({parentName:"li"},{href:"/docs/openblocks/fw5/webui/reference/dashboard"}),"\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9"),"\u304b\u3089\u505c\u6b62\u30fb\u8d77\u52d5\u306e\u64cd\u4f5c\u3092\u884c\u3063\u3066\u4e0b\u3055\u3044\u3002")))),Object(b.b)("div",{className:"admonition admonition-caution alert alert--warning"},Object(b.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(b.b)("h5",{parentName:"div"},Object(b.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(b.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"}),Object(b.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"})))),"caution")),Object(b.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(b.b)("p",{parentName:"div"},"\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u5148\u306bLua\u30d5\u30a1\u30a4\u30eb\u4ee5\u5916\u304c\u5b58\u5728\u3057\u3066\u3044\u308b\u5834\u5408\u306b\u306f\u6b63\u5e38\u306b\u52d5\u4f5c\u3057\u307e\u305b\u3093\u3002"))),Object(b.b)("h2",{id:"hvsmc-lua"},"HVSMC Lua"),Object(b.b)("div",{className:"admonition admonition-info alert alert--info"},Object(b.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(b.b)("h5",{parentName:"div"},Object(b.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(b.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(b.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})))),"info")),Object(b.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(b.b)("p",{parentName:"div"},"FW5.0.5\u307e\u3067\u306e\u30bf\u30d6\u3068\u306a\u308a\u307e\u3059\u3002FW5.0.6\u304b\u3089\u306fB\u30eb\u30fc\u30c8Lua\u30bf\u30d6\u3078\u7d71\u5408\u3055\u308c\u3066\u304a\u308a\u307e\u3059\u3002"))),Object(b.b)("h3",{id:"\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u64cd\u4f5c-4"},"\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9/\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u64cd\u4f5c"),Object(b.b)("p",null,"\u4f5c\u6210\u3057\u305fLua\u30cf\u30f3\u30c9\u30e9\u306e\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3084\u3001\u53c2\u8003\u306b\u3059\u308bLua\u30cf\u30f3\u30c9\u30e9\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u64cd\u4f5c\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002"),Object(b.b)("p",null,Object(b.b)("img",{src:t(911).default})),Object(b.b)("h4",{id:"hvsmc-lua-\u30e1\u30cb\u30e5\u30fc\u306e\u64cd\u4f5c\u9805\u76ee"},"HVSMC Lua \u30e1\u30cb\u30e5\u30fc\u306e\u64cd\u4f5c\u9805\u76ee"),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"\u8a2d\u5b9a\u9805\u76ee"),Object(b.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"\u8aac\u660e"))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"\u66f4\u65b0"),Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Lua\u30d5\u30a1\u30a4\u30eb\u306e\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u5148\u306e\u30d5\u30a1\u30a4\u30eb\u4e00\u89a7\u8868\u793a\u3092\u66f4\u65b0\u3057\u307e\u3059\u3002")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"\u524a\u9664"),Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"\u30d5\u30a1\u30a4\u30eb\u3092\u9078\u629e\u5f8c",Object(b.b)("inlineCode",{parentName:"td"},"\u524a\u9664"),"\u30dc\u30bf\u30f3\u3067\u524a\u9664\u3057\u307e\u3059\u3002",Object(b.b)("br",null),"\u524a\u9664\u53ef\u80fd\u306a\u30d5\u30a1\u30a4\u30eb\u306f\u30ab\u30b9\u30bf\u30e0\u7528\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u914d\u4e0b\u306e\u30d5\u30a1\u30a4\u30eb\u3067\u3059\u3002")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9"),Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"\u30d5\u30a1\u30a4\u30eb\u3092\u9078\u629e\u5f8c",Object(b.b)("inlineCode",{parentName:"td"},"\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9"),"\u30dc\u30bf\u30f3\u3067\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30d1\u30bd\u30b3\u30f3\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30d5\u30a9\u30eb\u30c0\u306b\u30d5\u30a1\u30a4\u30eb\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"\u5b9f\u884c\u6a29\u4ed8\u4e0e"),Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"\u30d5\u30a1\u30a4\u30eb\u3092\u9078\u629e\u5f8c",Object(b.b)("inlineCode",{parentName:"td"},"\u5b9f\u884c\u6a29\u4ed8\u4e0e"),"\u30dc\u30bf\u30f3\u3067\u5b9f\u884c\u6a29\u3092\u4ed8\u4e0e\u3057\u307e\u3059\u3002\u901a\u5e38\u3067\u306f\u4e0d\u8981\u3067\u3059\u3002")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u5148"),Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3057\u305f\u3044\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u30d7\u30eb\u30c0\u30a6\u30f3\u304b\u3089\u9078\u629e\u3057\u3066\u4e0b\u3055\u3044\u3002",Object(b.b)("br",null)," \u5bfe\u8c61\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u914d\u4e0b\u304c\u30d7\u30eb\u30c0\u30a6\u30f3\u5bfe\u8c61\u3067\u3059\u3002")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9"),Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(b.b)("inlineCode",{parentName:"td"},"\u30d5\u30a1\u30a4\u30eb\u3092\u9078\u629e"),"\u30dc\u30bf\u30f3\u3092\u62bc\u3059\u3068\u3001\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30d1\u30bd\u30b3\u30f3\u306e\u30d5\u30a1\u30a4\u30eb\u4e00\u89a7\u304b\u3089\u6307\u5b9a\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u9078\u629e\u3057\u3066\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3067\u304d\u307e\u3059\u3002",Object(b.b)("sup",null,"*1"))))),Object(b.b)("div",{className:"admonition admonition-info alert alert--info"},Object(b.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(b.b)("h5",{parentName:"div"},Object(b.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(b.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(b.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})))),"info")),Object(b.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(b.b)("ol",{parentName:"div"},Object(b.b)("li",{parentName:"ol"},"\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u5f8c\u306b\u30d7\u30ed\u30bb\u30b9\u306e\u518d\u8d77\u52d5\u304c\u5fc5\u8981\u306a\u306e\u3067\u3001",Object(b.b)("a",Object(a.a)({parentName:"li"},{href:"/docs/openblocks/fw5/webui/reference/dashboard"}),"\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9"),"\u304b\u3089\u505c\u6b62\u30fb\u8d77\u52d5\u306e\u64cd\u4f5c\u3092\u884c\u3063\u3066\u4e0b\u3055\u3044\u3002")))),Object(b.b)("div",{className:"admonition admonition-caution alert alert--warning"},Object(b.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(b.b)("h5",{parentName:"div"},Object(b.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(b.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"}),Object(b.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"})))),"caution")),Object(b.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(b.b)("p",{parentName:"div"},"\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u5148\u306bLua\u30d5\u30a1\u30a4\u30eb\u4ee5\u5916\u304c\u5b58\u5728\u3057\u3066\u3044\u308b\u5834\u5408\u306b\u306f\u6b63\u5e38\u306b\u52d5\u4f5c\u3057\u307e\u305b\u3093\u3002"))))}d.isMDXComponent=!0},484:function(e,n,t){"use strict";t.d(n,"a",(function(){return p})),t.d(n,"b",(function(){return O}));var a=t(0),b=t.n(a);function c(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){c(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function i(e,n){if(null==e)return{};var t,a,b=function(e,n){if(null==e)return{};var t,a,b={},c=Object.keys(e);for(a=0;a<c.length;a++)t=c[a],n.indexOf(t)>=0||(b[t]=e[t]);return b}(e,n);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)t=c[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(b[t]=e[t])}return b}var d=b.a.createContext({}),o=function(e){var n=b.a.useContext(d),t=n;return e&&(t="function"==typeof e?e(n):l(l({},n),e)),t},p=function(e){var n=o(e.components);return b.a.createElement(d.Provider,{value:n},e.children)},s={inlineCode:"code",wrapper:function(e){var n=e.children;return b.a.createElement(b.a.Fragment,{},n)}},j=b.a.forwardRef((function(e,n){var t=e.components,a=e.mdxType,c=e.originalType,r=e.parentName,d=i(e,["components","mdxType","originalType","parentName"]),p=o(t),j=a,O=p["".concat(r,".").concat(j)]||p[j]||s[j]||c;return t?b.a.createElement(O,l(l({ref:n},d),{},{components:t})):b.a.createElement(O,l({ref:n},d))}));function O(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var c=t.length,r=new Array(c);r[0]=j;var l={};for(var i in n)hasOwnProperty.call(n,i)&&(l[i]=n[i]);l.originalType=e,l.mdxType="string"==typeof e?e:a,r[1]=l;for(var d=2;d<c;d++)r[d]=t[d];return b.a.createElement.apply(null,r)}return b.a.createElement.apply(null,t)}j.displayName="MDXCreateElement"},654:function(e,n,t){"use strict";t.r(n),n.default=t.p+"assets/images/ble_lua_custom-df1ff9c8e77e8e1ec7a7d450fe9fd212.png"},655:function(e,n,t){"use strict";t.r(n),n.default=t.p+"assets/images/enocean_lua-b15532067bde45bee6df88f043f4e136.png"},656:function(e,n,t){"use strict";t.r(n),n.default=t.p+"assets/images/SERIAL_Lua-608d598efd973be53dd5cf28805183f3.png"},906:function(e,n,t){"use strict";t.r(n),n.default=t.p+"assets/images/ble_lua-885331518c8e1f90b2de7ab89b855267.png"},907:function(e,n,t){"use strict";t.r(n),n.default=t.p+"assets/images/enocean_lua_custom-6159416e747a91c40e3191be77297ab2.png"},908:function(e,n,t){"use strict";t.r(n),n.default=t.p+"assets/images/eep_spec_sample-d80641af3d1d01c498be0d42e7d1b299.png"},909:function(e,n,t){"use strict";t.r(n),n.default=t.p+"assets/images/485txrx-7a3e400c935b3c27f4f56ae9ab60aec6.png"},910:function(e,n,t){"use strict";t.r(n),n.default=t.p+"assets/images/broute_lua-306bee8d3e371a61a13f1296bbb3460e.png"},911:function(e,n,t){"use strict";t.r(n),n.default=t.p+"assets/images/hvsmc_lua-17c2699316125756ae30d17316ab7cd3.png"}}]);