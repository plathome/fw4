<!doctype html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.68">
<title data-react-helmet="true">PHオリジナルWEBサーバー(pd_web) | ぷらっとホームどきゅめんと</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_language" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="PHオリジナルWEBサーバー(pd_web) | ぷらっとホームどきゅめんと"><meta data-react-helmet="true" name="description" content="OpenBlocksに用いているIoTゲートウェイソフトウェア「FW4」のデータハンドリングに関するドキュメントの「PHオリジナルWEBサーバー(pd_web)」のページです。"><meta data-react-helmet="true" property="og:description" content="OpenBlocksに用いているIoTゲートウェイソフトウェア「FW4」のデータハンドリングに関するドキュメントの「PHオリジナルWEBサーバー(pd_web)」のページです。"><meta data-react-helmet="true" name="keywords" content="IoT,Data Handling,PD Repeater,PH社独自仕様WEBサーバー,PlatHome,pd_web,pd_repeater_pd_web"><meta data-react-helmet="true" property="og:url" content="https://docs.plathome.co.jp/docs/openblocks/fw4/data_handling/pd_repeater/pd_web"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://docs.plathome.co.jp/docs/openblocks/fw4/data_handling/pd_repeater/pd_web"><link rel="stylesheet" href="/styles.6a7f28c3.css">
<link rel="preload" href="/styles.3a14cb36.js" as="script">
<link rel="preload" href="/runtime~main.3cc47ee1.js" as="script">
<link rel="preload" href="/main.f12e9666.js" as="script">
<link rel="preload" href="/1.ce638798.js" as="script">
<link rel="preload" href="/1a4e3797.7ffe7e08.js" as="script">
<link rel="preload" href="/1be78505.b19e76a1.js" as="script">
<link rel="preload" href="/c4f5d8e4.69a61af3.js" as="script">
<link rel="preload" href="/375.f735bcc6.js" as="script">
<link rel="preload" href="/374.0af1e1c5.js" as="script">
<link rel="preload" href="/935f2afb.d42a3901.js" as="script">
<link rel="preload" href="/373.ba8da2ff.js" as="script">
<link rel="preload" href="/334659c0.ec692c51.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_2AhQ">Skip to main content</button></nav><nav class="navbar navbar--fixed-top navbarHideable_3046 navbarHidden_1Uo_"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img src="/img/logo_plathome_white.png" alt="ぷらっとホーム" class="themedImage_2E_h themedImage--light_AouX navbar__logo"><img src="/img/logo_plathome_white.png" alt="ぷらっとホーム" class="themedImage_2E_h themedImage--dark_1YPN navbar__logo"><strong class="navbar__title">ぷらっとホームどきゅめんと</strong></a><a class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a><a target="_self" rel="noopener noreferrer" class="navbar__item navbar__link" href="/search/">検索</a></div><div class="navbar__items navbar__items--right"><a href="https://www.plathome.co.jp/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">会社トップ</a><a href="https://www.plathome.co.jp/support/topix-software-update/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">アップデート情報</a><a href="https://kb.plathome.co.jp/knowledge/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">FAQ</a><a href="https://blog.plathome.co.jp/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">ブログ</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">🌞</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><div class="navbar__search searchBarContainer_1-U_"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_18Th searchBarLoadingRing_zYFK"><div></div><div></div><div></div><div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo_plathome_white.png" alt="ぷらっとホーム" class="themedImage_2E_h themedImage--light_AouX navbar__logo"><img src="/img/logo_plathome_white.png" alt="ぷらっとホーム" class="themedImage_2E_h themedImage--dark_1YPN navbar__logo"><strong class="navbar__title">ぷらっとホームどきゅめんと</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link navbar__link--active" href="/docs/">Docs</a></li><li class="menu__list-item"><a target="_self" rel="noopener noreferrer" class="menu__link" href="/search/">検索</a></li><li class="menu__list-item"><a href="https://www.plathome.co.jp/" target="_blank" rel="noopener noreferrer" class="menu__link">会社トップ</a></li><li class="menu__list-item"><a href="https://www.plathome.co.jp/support/topix-software-update/" target="_blank" rel="noopener noreferrer" class="menu__link">アップデート情報</a></li><li class="menu__list-item"><a href="https://kb.plathome.co.jp/knowledge/" target="_blank" rel="noopener noreferrer" class="menu__link">FAQ</a></li><li class="menu__list-item"><a href="https://blog.plathome.co.jp/" target="_blank" rel="noopener noreferrer" class="menu__link">ブログ</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC sidebarWithHideableNavbar_2IoJ"><a tabindex="-1" class="sidebarLogo_Snse" href="/"><img src="/img/logo_plathome_white.png" alt="ぷらっとホーム" class="themedImage_2E_h themedImage--light_AouX"><img src="/img/logo_plathome_white.png" alt="ぷらっとホーム" class="themedImage_2E_h themedImage--dark_1YPN"><strong>ぷらっとホームどきゅめんと</strong></a><div class="menu menu--responsive thin-scrollbar menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">免責・商標一覧</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/">免責事項と商標について</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/doclist">ドキュメント一覧</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">OpenBlocks</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">ハードウェア</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/hardware/bx0_spec">OpenBlocks IoT BX0</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/hardware/bx1_spec">OpenBlocks IoT BX1</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/hardware/bx3_spec">OpenBlocks IoT BX3</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/hardware/bx5_spec">OpenBlocks IoT BX5</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/hardware/ex1_spec">OpenBlocks IoT EX1</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/hardware/vx1_spec">OpenBlocks IoT VX1</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/hardware/vx2_spec">OpenBlocks IoT VX2</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/hardware/fx1_spec">OpenBlocks IoT FX1</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/hardware/ix9_spec">OpenBlocks IX9</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/hardware/a16_spec">OpenBlocks A16</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/hardware/iotmodule_spec">OpenBlocks用モジュールetc</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/hardware/common">その他オプション</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/hardware/certification">技術基準適合マーク</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">ソフトウェア</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Debian Linux FW5</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/doclist">FW5ドキュメント一覧</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">スタートアップガイド</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/webui/first/first">WEB-UI接続準備</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/webui/initial/initial">初期設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/webui/airmanage/airmanage">遠隔管理AirManage</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/webui/service/service">サービスの追加</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/webui/iotstart/iotstart">IoTセットアップ手順</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">サービスガイド</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/service/basic">デバイス登録</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/service/iotdata">IoTデータ設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/service/nodered">Node-RED設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/service/camera">カメラ機能</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/service/docker">Docker/Moby設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/service/iotedge">Azure IoT Edge設定</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">拡張サービスガイド</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/service/samba">Samba設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/service/ftp_server">FTPサーバー設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/service/ftp_download">FTPダウンロード設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/service/ftp_upload">FTPアップロード設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/service/secure">不正ログイン監視(セキュリティ)</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">WEB-UIガイド</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/webui/reference/index">WEB-UIタブ別インデックス</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/webui/reference/dashboard">ダッシュボード</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/webui/reference/system">システム関連の設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/webui/reference/network">ネットワーク関連の設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/webui/reference/storage">ストレージ関連の設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/webui/reference/maintenance">メンテナンス関連の設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/webui/reference/smscontrol">SMSコントロール</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/webui/reference/etcetera">その他の設定</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">センサーデータの受信</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/pd_handler">PD Handler</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">センサーI/F毎の設定</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/beacon">BLEビーコン送信設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/ble">BLEデバイス設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/enocean">EnOceanデバイス設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/wi-sun_b">Wi-SUN Bルート情報送信設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/modbus/client">Modbusクライアント設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/modbus/server">Modbusサーバー設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/modbus2/client">Modbus2クライアント設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/modbus2/server">Modbus2サーバー設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/sw4x/sw4x">SW4xデバイス設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/hvsmc">高圧スマートメータ設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/user_dev">デバイス設定(ユーザー定義)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/log">IoTデータ制御ツールログ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/custom">その他GATTやRS232Cなど</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">対応センサJSONフォーマット</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_form/ble">BLEビーコン&amp;センサー</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_form/enocean">EnOceanセンサー</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_form/wisun">低圧スマートメーター</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_form/hvsmc">高圧スマートメーター</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_form/modbus_merge">Modbus PLC</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_form/sw4x">ミスター省エネ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_form/files_handler">PD File&#x27;s Handler</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">IoTクラウド/サーバー送受信</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/pd_repeater/pd_repeater">PD Repeater 送受信設定</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">送受信先毎の設定</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/pd_repeater/dexpf">DEXPF</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/pd_repeater/dexpf_ws">DEXPF[Websocket]</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/pd_repeater/iothub">MS Azure IoT Hub</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/pd_repeater/iothub_ws">MS Azure IoT Hub[Websocket]</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/pd_repeater/awsiot">AWS IoT</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/pd_repeater/awsiot_ws">AWS IoT[Websocket]</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/pd_repeater/iotcore">Google IoT Core</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/pd_repeater/w4g">Watson IoT for Gateway</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/pd_repeater/eventhub">MS Azure Event hubs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/pd_repeater/kinesis">Amazon Kinesis</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/pd_repeater/w4d">Watson IoT for Device</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/pd_repeater/sbiot">SoftBank スマ可視専用クラウド</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/pd_repeater/kddi_std">KDDI IoT クラウド Standard</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/pd_repeater/pd_web">PHオリジナルWEBサーバー</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/pd_repeater/web">WEBサーバー</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/pd_repeater/mqtt">MQTTサーバー</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/pd_repeater/ltcp">TCPサーバー</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/pd_repeater/pd_ex">PD Exchange</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/pd_repeater/lsocket">ユニックスドメインソケット</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">下流方向デバイス制御</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/pd_repeater/down_stream">下流方向制御の概要</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/pd_repeater/down_stream_message">PD Repeaterの下流方向メッセージ</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Modbus</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/modbus/down_stream">Modbusの下流方向制御</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/modbus/down_stream_client">Modbusクライアント</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/modbus/down_stream_server">Modbusサーバー</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Modbus2</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/modbus2/down_stream_client">Modbus2クライアント</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/modbus2/down_stream_server">Modbus2サーバー</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/sw4x/down_stream">ミスター省エネSW4x</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/down_stream_serial_ble">BLEとシリアルI/Fの下流制御</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/hvsmc_downstream">高圧スマートメーター下流方向制御</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/pd_agent">PD Agent</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">開発者向けガイド</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/developer/before_use/before_use">カスタマイズ前の注意と補足</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/developer/how_to_use/how_to_use">OpenBlocks HW 制御ソフト</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">カスタマイズ</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/user_app">カスタムデータ収集モジュール</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/user_app_down_stream">下流方向制御モジュール</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/rc">自作アプリの起動・停止制御</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/deb_package">deb パッケージ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/check_rc">アプリケーション設定の確認</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/advanced">複雑な構成の実現</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/pd_broker">PD Broker</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/lua_extention">LUA言語拡張ハンドラ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/adjust">PDHMSの調整</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/csv_data">CSVデータ送信機能</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/file_data">ファイル送信機能</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/developer/web_api">OpenBlocks WEB UI用API</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">PDHMS リファレンス</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling_ref/index">索引</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling_ref/common">共通事項</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling_ref/pd_repeater">PD Repeater</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling_ref/pd_broker">PD Broker</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling_ref/pd_agent">PD Agent</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling_ref/files_handler">PD File&#x27;s Handler</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling_ref/ble">PD Handler BLE</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling_ref/uart">PD Handler UART</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling_ref/hvsmc">PD Handler HVSMC</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling_ref/modbus">PD Handler Modbus</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling_ref/modbus2">PD Handler Modbus 2</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling_ref/sw4x">PD Handler SW4x</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Node-REDスターターガイド</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/node-red/easy-exp/easy-exp">Node-REDの簡易説明</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/node-red/sample/sample">ノード操作サンプル</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">OpenBlocks IoTチュートリアル</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">EnOceanデータをIoT Hubへ送信</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/tutorial/iothub/preface">はじめに</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/tutorial/iothub/azure_iot_hub">IoT Hub の設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/tutorial/iothub/openblocks_iot">OpenBlocks IoTの設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/tutorial/iothub/check">動作確認</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/tutorial/iothub/reference">参考ページ</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">BLEデータをAWS IoTへ送信</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/tutorial/awsiot/preface">はじめに</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/tutorial/awsiot/aws_iot_core">AWS IoT Coreの設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/tutorial/awsiot/openblocks_iot">OpenBlocks IoTの設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/tutorial/awsiot/check">動作確認</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/tutorial/awsiot/reference">参考ページ</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">BLEデータの転送と可視化</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/tutorial/mqtt/preface">はじめに</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/tutorial/mqtt/broker">MQTTブローカーの準備</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/tutorial/mqtt/openblocks_iot_pub">OpenBlocks IoT の設定(送信側)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/tutorial/mqtt/openblocks_iot_sub">OpenBlocks IoT の設定(受信側)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/tutorial/mqtt/nodered">Node-REDの設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/tutorial/mqtt/check">動作確認</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/tutorial/mqtt/reference">参考ページ</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">RS-SERIALでDevice Shadowを使う</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/tutorial/rs_serial/preface">はじめに</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/tutorial/rs_serial/device">シリアル・デバイスの準備</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/tutorial/rs_serial/aws_iot_core">AWS IoT Coreの設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/tutorial/rs_serial/openblocks_iot">OpenBlocks IoTの設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/tutorial/rs_serial/app_client">Application Clientの準備</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/tutorial/rs_serial/check">動作確認</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/tutorial/rs_serial/reference">参考ページ</a></li></ul></li></ul></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">Debian Linux FW4</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/openblocks/fw4/doclist">FW4ドキュメント一覧</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">スタートアップガイド</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/webui/first/first">WEB-UI接続準備</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/webui/initial/initial">初期設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/webui/airmanage/airmanage">遠隔管理AirManage</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/webui/service/service">サービスの追加</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/webui/iotstart/iotstart">IoTセットアップ手順</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">サービスガイド</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/service/basic">基本(IoTデータ必読)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/service/iotdata">IoTデータ設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/service/nodered">Node-RED設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/service/camera">カメラ機能</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/service/docker">Docker/Moby設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/service/iotedge">Azure IoT Edge設定</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">拡張サービスガイド</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/service/samba">Samba設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/service/ftp_server">FTPサーバー設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/service/ftp_download">FTPダウンロード設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/service/ftp_upload">FTPアップロード設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/service/secure">不正ログイン監視(セキュリティ)</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">WEB-UIガイド</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/webui/reference/index">WEB-UIタブ別インデックス</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/webui/reference/dashboard">ダッシュボード</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/webui/reference/system">システム関連の設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/webui/reference/network">ネットワーク関連の設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/webui/reference/storage">ストレージ関連の設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/webui/reference/maintenance">メンテナンス関連の設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/webui/reference/smscontrol">SMSコントロール</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/webui/reference/etcetera">その他の設定</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">センサーデータの受信</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/pd_handler">PD Handler</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">センサーI/F毎の設定</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/beacon">BLEビーコン送信設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/ble">BLEデバイス情報送信設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/enocean">EnOceanデバイス設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/wi-sun_b">Wi-SUN Bルート情報送信設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/modbus/client">Modbusクライアント設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/modbus/server">Modbusサーバー設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/modbus2/client">Modbus2クライアント設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/modbus2/server">Modbus2サーバー設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/sw4x/sw4x">SW4xデバイス設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/hvsmc">高圧スマートメータ設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/user_dev">デバイス設定(ユーザー定義)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/log">IoTデータ制御ツールログ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/sensor_data">BLEセンサーグラフ表示</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">対応センサJSONフォーマット</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_form/ble">BLEビーコン&amp;センサー</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_form/enocean">EnOceanセンサー</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_form/wisun">低圧スマートメーター</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_form/hvsmc">高圧スマートメーター</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_form/modbus_merge">Modbus PLC</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_form/sw4x">ミスター省エネ</a></li></ul></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">IoTクラウド/サーバー送受信</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/openblocks/fw4/data_handling/pd_repeater/pd_repeater">PD Repeater 送受信設定</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">送受信先毎の設定</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/openblocks/fw4/data_handling/pd_repeater/lo">本体内データベース</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/openblocks/fw4/data_handling/pd_repeater/dexpf">DEXPF</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/openblocks/fw4/data_handling/pd_repeater/dexpf_ws">DEXPF[Websocket]</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/openblocks/fw4/data_handling/pd_repeater/iothub">MS Azure IoT Hub</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/openblocks/fw4/data_handling/pd_repeater/iothub_ws">MS Azure IoT Hub[Websocket]</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/openblocks/fw4/data_handling/pd_repeater/awsiot">AWS IoT</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/openblocks/fw4/data_handling/pd_repeater/awsiot_ws">AWS IoT[Websocket]</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/openblocks/fw4/data_handling/pd_repeater/iotcore">Google IoT Core</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/openblocks/fw4/data_handling/pd_repeater/w4g">Watson IoT for Gateway</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/openblocks/fw4/data_handling/pd_repeater/eventhub">MS Azure Event hubs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/openblocks/fw4/data_handling/pd_repeater/kinesis">Amazon Kinesis</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/openblocks/fw4/data_handling/pd_repeater/w4d">Watson IoT for Device</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/openblocks/fw4/data_handling/pd_repeater/t4d">Toami for DOCOMO</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/openblocks/fw4/data_handling/pd_repeater/sbiot">SoftBank スマ可視専用クラウド</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/openblocks/fw4/data_handling/pd_repeater/kddi_std">KDDI IoT クラウド Standard</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/openblocks/fw4/data_handling/pd_repeater/pd_web">PHオリジナルWEBサーバー</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/openblocks/fw4/data_handling/pd_repeater/web">WEBサーバー</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/openblocks/fw4/data_handling/pd_repeater/mqtt">MQTTサーバー</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/openblocks/fw4/data_handling/pd_repeater/ltcp">TCPサーバー</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/openblocks/fw4/data_handling/pd_repeater/pd_ex">PD Exchange</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/openblocks/fw4/data_handling/pd_repeater/lsocket">ユニックスドメインソケット</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">下流方向デバイス制御</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/pd_repeater/down_stream">下流方向制御の概要</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/pd_repeater/down_stream_message">PD Repeaterの下流方向メッセージ</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Modbus</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/modbus/down_stream">Modbusの下流方向制御</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/modbus/down_stream_client">Modbusクライアント</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/modbus/down_stream_server">Modbusサーバー</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Modbus2</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/modbus2/down_stream_client">Modbus2クライアント</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/modbus2/down_stream_server">Modbus2サーバー</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/sw4x/down_stream">ミスター省エネSW4x</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/hvsmc_downstream">高圧スマートメーター下流方向制御</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/pd_agent">PD Agent</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">開発者向けガイド</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/developer/before_use/before_use">カスタマイズ前の注意と補足</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/developer/how_to_use/how_to_use">OpenBlocks HW 制御ソフト</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">カスタマイズ</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/user_app">カスタムデータ収集アプリ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/user_app_down_stream">下流方向制御アプリ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/rc">自作アプリの起動・停止制御</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/deb_package">deb パッケージ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/check_rc">アプリケーション設定の確認</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/advanced">複雑な構成の実現</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/pd_broker">PD Broker</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/lua_extention">LUA言語拡張ハンドラ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/adjust">PDHMSの調整</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/csv_data">CSVデータ送信機能</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">PDHMS リファレンス</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling_ref/index">索引</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling_ref/common">共通事項</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling_ref/pd_repeater">PD Repeater</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling_ref/pd_broker">PD Broker</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling_ref/pd_agent">PD Agent</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling_ref/ble">PD Handler BLE</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling_ref/uart">PD Handler UART</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling_ref/hvsmc">PD Handler HVSMC</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling_ref/modbus">PD Handler Modbus</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling_ref/modbus2">PD Handler Modbus 2</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling_ref/sw4x">PD Handler SW4x</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Node-REDスターターガイド</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/node-red/easy-exp/easy-exp">Node-REDの簡易説明</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/node-red/sample/sample">ノード操作サンプル</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">OpenBlocks IoTチュートリアル</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">EnOceanデータをIoT Hubへ送信</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/tutorial/iothub/preface">はじめに</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/tutorial/iothub/azure_iot_hub">IoT Hubの設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/tutorial/iothub/openblocks_iot">OpenBlocks IoTの設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/tutorial/iothub/check">動作確認</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/tutorial/iothub/reference">参考ページ</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">BLEデータをAWS IoTへ送信</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/tutorial/awsiot/preface">はじめに</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/tutorial/awsiot/aws_iot_core">AWS IoT Coreの設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/tutorial/awsiot/openblocks_iot">OpenBlocks IoTの設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/tutorial/awsiot/check">動作確認</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/tutorial/awsiot/reference">参考ページ</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">CO2データをMQTTサーバーへ送信</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/tutorial/mqtt/preface">はじめに</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/tutorial/mqtt/mqtt_server">MQTTサーバーの準備</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/tutorial/mqtt/openblocks_iot">OpenBlocks IoTの設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/tutorial/mqtt/check">Node-REDでグラフを作る</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/tutorial/mqtt/reference">参考ページ</a></li></ul></li></ul></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/openblocks/fw3">Debian Linux FW3 (PDF一覧)</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">FW共通/工場出荷状態に戻す</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/factory/factory_reset">ファクトリーリセット</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">RAMディスク版OpenBlocks</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/ramdisk_obs/ramdisk">Debianモデル(RAMディスク版)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/ramdisk_obs/obsix9r_debian">OpenBlocks IX9 Debian搭載モデル向け</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">ストレージ版OpenBlocks</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/storage_obs/storage">Debianモデル(ストレージ版)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/storage_obs/obsa16_storage">OpenBlocks A16 Debian搭載モデル向け</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/openblocks/windows">Windows版スタートガイド</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">EasyBlocks</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/dhcp">EasyBlocks DHCP</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/syslog">EasyBlocks Syslog</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/packetix">EasyBlocks PacketiX VPN</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/remote">EasyBlocks Remote Office</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/ddn">EasyBlocks DDN (統合型)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/reporter">EasyBlocks Network Reporter</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/virtual_install">仮想アプライアンス インストール方法</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">ハードウェアガイド</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/hardware/bpv4_spec">EasyBlocks BPV4型</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/hardware/ebx9_spec">EasyBlocks EBX9型</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/hardware/ebix_spec">EasyBlocks EBIX型</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/hardware/ebb0_spec">EasyBlocks EBB0型</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/hardware/eba16_spec">EasyBlocks EBA16型</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">初期設定共通</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/common/WEBUIcommon">WEB-UI接続準備</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/common/license">ソフトウェア使用許諾</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/common/account_reg">管理者アカウント登録</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/common/basic">時刻同期</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/common/basicsyslog">時刻同期（Syslog&amp;NetworkReporter用）</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/common/network">ネットワークの設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/common/airmanage">遠隔管理AirManage</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">サービス毎の設定</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">DHCP</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/dhcp/service">サービス</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/dhcp/conf">設定編集</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/dhcp/basic">基本</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/dhcp/subnet">サブネット</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/dhcp/hostmng">ホスト管理</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/dhcp/log">ログ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/dhcp/mainte">メンテナンス</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">DNS</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/dns/service">サービス</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/dns/edit">設定編集</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/dns/basic">基本設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/dns/zone">ゾーン</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/dns/record">レコード</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/dns/log">ログ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/dns/mainte">メンテナンス</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">NTP</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/ntp/service">サービス</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/ntp/basic">基本設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/ntp/syncinfo">同期情報</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Syslog</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/syslog/syslog_disp">ログ表示</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/syslog/syslog_statistic">ログ統計</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/syslog/syslog_basic">基本設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/syslog/syslog_rule">フィルタ設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/syslog/syslog_logcont">ログ管理</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/syslog/syslog_cert">証明書管理</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">PacketiX</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/packetix/service">サービス</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/packetix/file_control">ファイル管理</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/packetix/update">アップデート</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/packetix/service_detail">サービス詳細設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/packetix/precautions">注意事項</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Remote Office</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/remote/service">サービス</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/remote/file_control">ファイル管理</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/remote/update">アップデート</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/remote/bulk_regist">一括登録</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/remote/service_detail">サービス詳細設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/remote/client_setup">子機の設置</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/remote/precautions">注意事項</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Network Reporter</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/reporter/reporter_disp">ログ表示</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/reporter/reporter_statistic">ログ統計</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/reporter/reporter_basic">基本設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/reporter/reporter_rule">フィルタ設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/reporter/reporter_logcont">ログ管理</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/reporter/reporter_report">レポート</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/reporter/reporter_setting_rt">ルータ設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/reporter/reporter_cert">証明書管理</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/reporter/reporter_rtxcontrol">制御</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">その他共通</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/etc/dashboard">ダッシュボード</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">システム</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/etc/basic">基本</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/etc/webadmin">WEB管理者の登録削除</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/etc/etc">その他(Syslog&amp;NetworkReporter用)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/etc/mypage">マイページ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/etc/filter">フィルタ開放</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/etc/opensource">オープンソースライセンス</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/etc/serial">シリアルナンバー</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">ネットワーク</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/etc/network">ネットワークの設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/etc/proxy">プロキシの設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/etc/routing">ルーティング</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/etc/netstat">状態</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/etc/ddns_remote">ダイナミックDNS(RemoteOfficeのみ)</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">メンテナンス</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/etc/setting">設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/etc/eb_update">システムの更新</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/etc/eb_restert">停止・再起動</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/etc/eb_support">サポート</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">AirManage</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/etc/eb_airmanage1">AirManage</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/etc/eb_airmanage2">AirManage登録</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">コマンドライン操作</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/etc/ssh">SSHログイン</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/etc/console">シリアルコンソールログイン</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">仮想アプライアンス専用</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/virtual/license">ライセンス</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/virtual/console">コマンド操作</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">AirManage遠隔監視</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/amdoc/amdoc_1">はじめに</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/amdoc/amdoc_2">初期設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/amdoc/amdoc_3">運用(システム管理者向け)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/amdoc/amdoc_4">運用(テナント管理者向け)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/amdoc/amdoc_webapi">WebAPI</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">IDMシリーズ</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/idm/rx1">OpenBlocks IDM RX1</a></li></ul></li></ul></div><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_2Tub"></button></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_39qw"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">PHオリジナルWEBサーバー(pd_web)</h1></header><div class="markdown"><p>HTTPを用いた双方向通信を実現するためにぷらっとホームオリジナル仕様のWebベースIoTサーバーです。</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="pd-webの概要"></a>PD Webの概要<a aria-hidden="true" class="hash-link" href="#pd-webの概要" title="Direct link to heading">#</a></h2><ul><li>PD Web はHTTPにおいて双方向通信を提供します。<ul><li>下流方向へのペイロード転送は、上流方向へのPOSTに対する応答メッセージとして提供されます。</li><li>上流方向へ送るべきペイロードが存在しない場合、PD Repeaterは、<code>受信ポーリング間隔</code>に指定される間隔で空接続を行います。</li><li>下流方向へ送るべきペイロードが存在しない場合、Webサーバーは応答ヘッダーのみを返します。<br>PD Repeaterは応答メッセージが空でない場合、push_toキーに指定される下流モジュールのUNIXドメインソケットにペイロードを転送します。</li></ul></li><li>PD Web の認証方式は双方向のトークン認証です。<ul><li>PD RepeaterとWebサーバーには、デバイス毎に指定されたIDと鍵(Key)の情報を持ちます。</li><li>PD Repeaterは、リクエストヘッダに記載するバージョン番号（PD Web仕様のバージョン番号）・ID・タイムスタンプ・ペイロードのハッシュ値(MD5)から構成される署名対象文字列（リクエスト用）を鍵(Key)で著名したハッシュ値(Shignature)をリクエスト用のトークンとします。</li><li>Webサーバーは、バージョン番号・ID・タイムスタンプ・ペイロードのハッシュ値(MD5)にリクエストヘッダのトークンを加えた署名対象文字列（応答用）を鍵(Key)で著名したハッシュ値(Shignature)を応答用のトークンとします。</li><li>応答ヘッダーのShignatureもしくはペイロードのMD5が期待される値と一致しない場合、以降、PD Repeaterは応答ヘッダーに期待されるShignatureが返されるまでペイロードを空とします。</li><li>Webサーバー一括のBASIC認証を併用することも可能です。</li></ul></li><li>エラーハンドリング<ul><li>PD Repeaterとwebサーバー間のエラーハンドリングはHTTPステータスコードのみで行われます。<br>ステータスが200～299以外の場合は、応答ヘッダーの内容に関わらず下流モジュールへのペイロードの転送は行われません。</li></ul></li><li>ペイロードのフォーマットとトランザクション管理<ul><li>上流方向のペイロードのフォーマットはJSON文字列であり、複数のメッセージをまとめて転送できるようメッセージの数に限らず最上位階層は配列となります。</li><li>PD Repeaterの下流方向のメッセージフォーマットは<a href="/docs/openblocks/fw4/data_handling/pd_repeater/down_stream_message">PD Repeaterの下流方向メッセージ</a>に示す通りですが、ペイロードのフォーマットは規定されていません。下流方向のペイロードのフォーマットは PD Repeaterからペイロードを受け取る下流のモジュールの仕様に依存します。</li><li>ペイロードのトランザクション（到達や再送処理）管理は、Webサーバーと下流のモジュール間で行われることを前提とし、PD Repeaterはトランザクションの管理を行いません。</li><li>弊社が提供するPD Handler Modbus と PD Handler Modbus2,PD HandlerSW4x および PD Agentはトランザクション管理用途に下流方向のペイロードのハッシュ値(MD5)をJSON文字列 &quot;reply_to&quot;　キーの値として返す仕様となっています。</li></ul></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="pd-webのhttpヘッダー"></a>PD WebのHTTPヘッダー<a aria-hidden="true" class="hash-link" href="#pd-webのhttpヘッダー" title="Direct link to heading">#</a></h2><p>PD Webで規定されているHTTPヘッダーは次の通りです。</p><blockquote><p>PD Webで規定されているHTTPヘッダー</p></blockquote><table><thead><tr><th>HTTPヘッダー</th><th>内容</th></tr></thead><tbody><tr><td>X-Pd-Web-Version</td><td>PD Web の仕様のバージョン番号</td></tr><tr><td>X-Pd-Web-Id</td><td>クライアントのID</td></tr><tr><td>X-Pd-Web-Time</td><td>RFC3339準拠のタイムスタンプ</td></tr><tr><td>X-Pd-Web-Md5</td><td>ハッシュ値</td></tr><tr><td>X-Pd-Web-Signature</td><td>ヘッダ情報と鍵(Key)から作成されたハッシュ値</td></tr><tr><td>Content-Type</td><td>application/json;charset=UTF-8</td></tr></tbody></table><p>PD Repeaterからの要求ヘッダーの例を示します。</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Host: 127.0.01</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Accept: */*</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> X-Pd-Web-Version: 1.0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> X-Pd-Web-Id: pd_web_02</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> X-Pd-Web-Time: 2017-09-01T18:11:01.101+09:00</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> X-Pd-Web-Md5: 26b32b7bc6b4587c2ded48128e809b08</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> X-Pd-Web-Signature: c91279bc0d9896745e4e12e73917aafd56c017966a89375273ba4b9be8b02096</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Content-Length: 190</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Content-Type: application/json;charset=UTF-8</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>PD Repeaterへの応答ヘッダーの例を示します。</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> HTTP/1.1 200 OK</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Date: Fri, 01 Sep 2017 08:34:35 GMT</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Server Apache/2.4.27 (Unix)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> X-Powered-By: PHP/5.6.31</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> X-Pd-Web-Version: 1.0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> X-Pd-Web-Id: pd_web_03</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> X-Pd-Web-Time: 2017-09-01T17:34:35.000+09:00</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> X-Pd-Web-Md5: d41d8cd98f00b204e9800998ecf8427e</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> X-Pd-Web-Signature: b4e23876e866e9225e2f83cbd1df8b6387fe5da9e160b222953464b1ae87a9d3</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Content-Length: 0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> Content-Type: application/json;charset=UTF-8</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="pd-webのトークン"></a>PD Webのトークン<a aria-hidden="true" class="hash-link" href="#pd-webのトークン" title="Direct link to heading">#</a></h2><p>PD Repeaterで作成されるリクエストヘッダのトークン(X-Pd-Web-Signature)は、Webサーバーにおいて次のPHPスクリプトにより再生できます。</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> $hash_hmac_data =</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     $_SERVER[&#x27;HTTP_X_PD_WEB_VERSION&#x27;] .</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     $_SERVER[&#x27;HTTP_X_PD_WEB_ID&#x27;] .</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     $_SERVER[&#x27;HTTP_X_PD_WEB_TIME&#x27;] .</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     $_SERVER[&#x27;HTTP_X_PD_WEB_MD5&#x27;];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> $signature = hash_hmac (&#x27;sha256&#x27;, $hash_hmac_data, $key, false);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>ここで $keyは、は $_SERVER[&#x27;HTTP_X_PD_WEB_ID&#x27;] と対をなす予めWebサーバーに保存された鍵(Key)となります。 再生した $signature と $_SERVER[&#x27;HTTP_X_PD_WEB_SIGNATURE&#x27;] を比較することで認証します。</p><p>応答ヘッダーのトークン(X-Pd-Web-Signature)は、Webサーバーにおいて次のPHPスクリプトにより作成します。</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> $tm = localtime();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> $timestamp = sprintf(&quot;%04d-%02d-%02dT%02d:%02d:%02d.000+09:00&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     $tm[5]+1900,$tm[4]+1,$tm[3],$tm[2],$tm[1],$tm[0]);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> $hash_hmac_data = &#x27;1.0&#x27; . $_SERVER[&#x27;HTTP_X_PD_WEB_ID&#x27;] . $timestamp .</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      md5($payload) . $_SERVER[&#x27;HTTP_X_PD_WEB_SIGNATURE&#x27;];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> $signature = hash_hmac (&#x27;sha256&#x27;, $hash_hmac_data, $key, false);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>ここで、$payload は、ペイロードの文字列、送信すべき文字列（下流方向の制御メッセージ）が無い場合は、$payload=&quot;&quot;; とします。 リクエストヘッダのトークンとは異なり、被署名文字列に PD Repeater から送られて来たリクエストヘッダのトークン($_SERVER[&#x27;HTTP_X_PD_WEB_SIGNATURE&#x27;])が、含まれる点に注意して下さい。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="webサーバーphpスクリプトの実装例"></a>Webサーバー(PHPスクリプト)の実装例<a aria-hidden="true" class="hash-link" href="#webサーバーphpスクリプトの実装例" title="Direct link to heading">#</a></h3><p>Webサーバー(PHPスクリプト)の実装例を示します。</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;?php</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">/*</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> * 本 PHP スクリプトは PD Repeater の PD Web を利用するための、</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> * サーバ側 PHP スクリプトのサンプルです.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> *</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> * 本スクリプトを動作させるためには、次の SQL構文で作成された SQLite3 データベース</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> * (スクリプト中の $db_file)が必要となります.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> *</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> *     CREATE TABLE client (id TEXT, key TEXT, flags INTEGER, payload BLOB, md5 TEXT);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> *     CREATE INDEX index_client ON client (id);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> *</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> * ここで、id は、各センサーデバイス毎に設定する PD Web の ID, key はトークンを  </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> * 作成するための鍵、contens は PD Repeater を介して各センサーデバイスへ送信する</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> * JSON 文字列(ペイロード)、</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> * md5 は JSON文字列のMD5ハッシュ値、flags はペイロードの送信状態を示すコードで</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> * 0:送信済、1:処理中、2:未送信 を意味します.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> *</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> * 以下に初期値の設定例を示します.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> *</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> *     INSERT INTO client(id, key, flags, payload, md5)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> *                VALUES(&#x27;id00&#x27;, &#x27;key00&#x27;, 0, &#x27;{&quot;any_key&quot;:&quot;any_value&quot;}&#x27;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> *                       &#x27;d29e8a13452e5bc5218d9df7e6ea991f&#x27;);&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> *     INSERT INTO client(id, key, flags, payload, md5)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> *                VALUES(&#x27;id01&#x27;, &#x27;key10&#x27;, 0, &#x27;{&quot;any_key&quot;:&quot;any_value&quot;}&#x27;, </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> *                       &#x27;d29e8a13452e5bc5218d9df7e6ea991f&#x27;);&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> *</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> * ここで、d29e8a13452e5bc5218d9df7e6ea991 は、&#x27;{&quot;any_key&quot;:&quot;any_value&quot;}&#x27; の MD5値です.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> *  Linux OS では、次のコマンドで取得することができます.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> *</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> *     echo -n &#x27;{&quot;any_key&quot;:&quot;any_value&quot;}&#x27; | md5sum</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> *</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> * ペイロードを送信するには SQLの UPDATEを用いて flags を 2:未送信 に変更します.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> * </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> *     UPDATE client SET flags = 2 WHERE id = &#x27;id00&#x27;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> * </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> * 勿論ペイロードとMD5値を合わせてセットすることも可能です.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> *</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> *     UPDATE client</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> *                SET flags = 2,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> *                    payload = &#x27;{&quot;any_key&quot;:&quot;new_value&quot;}&#x27;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> *                    md5 = &#x27;94f030ebd7bed4a5ee08fc6fa75ae64e&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> *                WHERE id = &#x27;id00&#x27;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> *</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> * 送信を終えるを PHP スクリプトは flag を 1 に更新し、&#x27;reply_to&#x27; キーを含む</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> * 応答ペイロードを待ちます.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> *</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> * 応答ペイロードの例</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> *</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> *      {&quot;reply_to&quot;:&quot;94f030ebd7bed4a5ee08fc6fa75ae64e&quot;,&quot;result&quot;:&quot;done&quot;}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> *</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> * 応答ペイロードは PD Repeater を介してペイロードを受け取る各センサーデバイス</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> * (のハンドラ)がPD Repeater 介して返すものです.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> * PD Agent や PD Handler Modbus は &#x27;reply_to&#x27; キーで payload の MD5値をハンドリング</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> * しますが、独自のハンドラを用いる場合は、独自の応答ペイロードとすることも可能です.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> *</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> * 応答ペイロード受け取ると PHP スクリプトは、データベース上の md5 と reply_to の値を比較し、</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> * flag を 0 に更新します.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> * 受信ペイロードに応答ペイロードが含まれていない場合、PHP スクリプトは flag を 2 に戻し、</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> * 再送します.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> *</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    $dump_file = &#x27;/tmp/dump.txt&#x27;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    $db_file = &#x27;/tmp/pd_web.db&#x27;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    /* HTTP ヘッダーの確認 */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    if (!(isset($_SERVER[&#x27;HTTP_X_PD_WEB_VERSION&#x27;]) &amp;&amp;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          isset($_SERVER[&#x27;HTTP_X_PD_WEB_ID&#x27;]) &amp;&amp;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          isset($_SERVER[&#x27;HTTP_X_PD_WEB_TIME&#x27;]) &amp;&amp;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          isset($_SERVER[&#x27;HTTP_X_PD_WEB_MD5&#x27;]) &amp;&amp;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          isset($_SERVER[&#x27;HTTP_X_PD_WEB_SIGNATURE&#x27;]))) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        /* HTTPヘッダーが不正な場合 Bad Request 400 を返す. */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        http_response_code (400);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        exit;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    /* SQLite3 データーベースの読み込み */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    /* 本コードはサンプルであるため、SQL インジェクション対策を省略しています.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">       実運用に利用するためには $_SERVER[&#x27;HTTP_X_PD_WEB_ID&#x27;] のバリデーション</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">       を十分行って下さい. */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    $db = new SQLite3($db_file);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    $query = sprintf(&quot;SELECT key, flags, payload, md5 FROM client WHERE id = &#x27;%s&#x27;;&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        $_SERVER[&#x27;HTTP_X_PD_WEB_ID&#x27;]);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    $results = $db-&gt;query($query);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    if(! $results) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        /* HTTP_X_PD_WEB_ID が存在しない場合は Unauthorized 401 を返す. */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        http_response_code (401);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        $db-&gt;close();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        exit;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    else {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        $row = $results-&gt;fetchArray();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        $key = $row[&#x27;key&#x27;];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        $flags = $row[&#x27;flags&#x27;];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        $payload_tx = $row[&#x27;payload&#x27;];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        $md5_tx = $row[&#x27;md5&#x27;];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    /* HTTP リクエストヘッダ内の所定の文字列とデータベース上の key を用い</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">       signature を作成する */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    $hash_hmac_data = </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        $_SERVER[&#x27;HTTP_X_PD_WEB_VERSION&#x27;] .</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        $_SERVER[&#x27;HTTP_X_PD_WEB_ID&#x27;] .</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        $_SERVER[&#x27;HTTP_X_PD_WEB_TIME&#x27;] .</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        $_SERVER[&#x27;HTTP_X_PD_WEB_MD5&#x27;];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    $signature = hash_hmac (&#x27;sha256&#x27;, $hash_hmac_data, $key, false);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    /* HTTP 応答ヘッダ共通部の設定 */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    date_default_timezone_set(&#x27;Asia/Tokyo&#x27;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    $tm = localtime();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    $timestamp = sprintf(&quot;%04d-%02d-%02dT%02d:%02d:%02d.000+09:00&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        $tm[5]+1900,$tm[4]+1,$tm[3],$tm[2],$tm[1],$tm[0]);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    header(&#x27;Pd_Web_Version: 1.0&#x27;); </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    header(&#x27;Pd_Web_Id: &#x27; . $_SERVER[&#x27;HTTP_X_PD_WEB_ID&#x27;]); </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    header(&#x27;Pd_Web_Time: &#x27; . $timestamp); </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    header(&#x27;Content-Type: application/json;charset=UTF-8&#x27;); </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    /* リクエストヘッダの被署名文字列が VERSION.ID.TIME.MD5 で構成されているのに対し、</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">           応答ヘッダの被署名文字列は、VERSION.ID.TIME.MD5.SIGNATURE </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">       (SIGNATUREは、リクエストヘッダに含まれる文字列) で構成されている点に注意 */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    if ($signature != $_SERVER[&#x27;HTTP_X_PD_WEB_SIGNATURE&#x27;]) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        /* HTTP_X_PD_WEB_SIGNATURE と signature が一致しない場合は、</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">           401 Unauthorized を返す. */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        header(&#x27;Pd_Web_Md5: &#x27; . md5(&#x27;&#x27;)); </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        $hash_hmac_data = &#x27;1.0&#x27; . $_SERVER[&#x27;HTTP_X_PD_WEB_ID&#x27;] . $timestamp .</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            md5(&#x27;&#x27;) . $_SERVER[&#x27;HTTP_X_PD_WEB_SIGNATURE&#x27;];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        $signature = hash_hmac (&#x27;sha256&#x27;, $hash_hmac_data, $key, false);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        header(&#x27;Pd_Web_Signature: &#x27; . $signature); </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        http_response_code (401);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        $db-&gt;close();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        exit;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    $payload = file_get_contents(&quot;php://input&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    if(md5($payload) != $_SERVER[&#x27;HTTP_X_PD_WEB_MD5&#x27;]) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        /* payload の MD5値 と HTTP_X_PD_WEB_MD5 が一致しない場合は、</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">           406 Not Acceptable を返す. */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        header(&#x27;Pd_Web_Md5: &#x27; . md5(&#x27;&#x27;)); </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        $hash_hmac_data = &#x27;1.0&#x27; . $_SERVER[&#x27;HTTP_X_PD_WEB_ID&#x27;] . $timestamp .</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            md5(&#x27;&#x27;) . $_SERVER[&#x27;HTTP_X_PD_WEB_SIGNATURE&#x27;];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        $signature = hash_hmac (&#x27;sha256&#x27;, $hash_hmac_data, $key, false);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        header(&#x27;Pd_Web_Signature: &#x27; . $signature); </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        http_response_code (406);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        $db-&gt;close();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        exit;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    /* 受信ペイロードを HTTP リクエストヘッダと共に dump_file に格納する */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    $fp = fopen($dump_file, &#x27;a+&#x27;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    fputs($fp, $_SERVER[&#x27;HTTP_X_PD_WEB_VERSION&#x27;]);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    fputs($fp, &quot;\n&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    fputs($fp, $_SERVER[&#x27;HTTP_X_PD_WEB_ID&#x27;]);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    fputs($fp, &quot;\n&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    fputs($fp, $_SERVER[&#x27;HTTP_X_PD_WEB_TIME&#x27;]);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    fputs($fp, &quot;\n&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    fputs($fp, $_SERVER[&#x27;HTTP_X_PD_WEB_MD5&#x27;]);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    fputs($fp, &quot;\n&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    fputs($fp, $_SERVER[&#x27;HTTP_X_PD_WEB_SIGNATURE&#x27;]);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    fputs($fp, &quot;\n&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    fputs($fp, $_SERVER[&#x27;CONTENT_LENGTH&#x27;]);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    fputs($fp, &quot;\n&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    fputs($fp, $payload);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    fputs($fp, &quot;\n&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    fputs($fp, &quot;\n&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    fclose( $fp );</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    /* flags が 1 (処理中ペイロードあり) の場合、受信ペイロードから、</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">       &#x27;reply_to&#x27; キーの値を取得 */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    if($flags === 1) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        $json = mb_convert_encoding(</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            $payload, &#x27;UTF8&#x27;, &#x27;ASCII,JIS,UTF-8,EUC-JP,SJIS-WIN&#x27;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        $array = json_decode($json,true);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        if ($array !== NULL) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            /* 受信ペイロードは、JSONオブジェクトの配列です. */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            $payload_count = count($array);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            for($i=0;$i&lt;$payload_count;$i++) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                if (isset($array[$i][&#x27;reply_to&#x27;])) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    /* &#x27;reply_to&#x27; キーの値と md5_tx を比較 */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    if($array[$i][&#x27;reply_to&#x27;] === $md5_tx) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                           /* 一致している場合は flags を 0 にする */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                        $flags = 0;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    else {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                           /* 一致していない場合は flags を 2 にする */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                        $flags = 2;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                break;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            if($i == $payload_count) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                /* &#x27;reply_to&#x27; キーが存在しない場合は flags を 2 にする */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                $flags = 2;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        else {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">              /* JSON文字列で無い場合、flags を 2 にする */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            $flags = 2;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        /* データベースの flags を更新する. */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        $query = sprintf(&quot;UPDATE client SET flags = %d WHERE id = &#x27;%s&#x27;;&quot; ,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            $flags, $_SERVER[&#x27;HTTP_X_PD_WEB_ID&#x27;]);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        $results = $db-&gt;query($query);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    if($flags == 2) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        /* flags が 2 (送信ペイロードあり) の場合は、payload_tx を送り、200 OK を返す. */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        header(&#x27;Pd_Web_Md5: &#x27; . md5($payload_tx));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        $hash_hmac_data = &#x27;1.0&#x27; . $_SERVER[&#x27;HTTP_X_PD_WEB_ID&#x27;] . $timestamp .</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            md5($payload_tx) . $_SERVER[&#x27;HTTP_X_PD_WEB_SIGNATURE&#x27;];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        $signature = hash_hmac (&#x27;sha256&#x27;, $hash_hmac_data, $key, false);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        header(&#x27;Pd_Web_Signature: &#x27; . $signature); </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        echo $payload_tx;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        http_response_code (200);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        /* flags を 1 (処理中ペイロードあり) に変更し、データベースの flags を更新する. */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        $flags = 1;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        $query = sprintf(&quot;UPDATE client SET flags = %d WHERE id = &#x27;%s&#x27;;&quot; ,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            $flags, $_SERVER[&#x27;HTTP_X_PD_WEB_ID&#x27;]);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        $results = $db-&gt;query($query);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    else {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        /* 200 OK を返す. */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        header(&#x27;Pd_Web_Md5: &#x27; . md5(&#x27;&#x27;)); </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        $hash_hmac_data = &#x27;1.0&#x27; . $_SERVER[&#x27;HTTP_X_PD_WEB_ID&#x27;] . $timestamp .</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            md5(&#x27;&#x27;) . $_SERVER[&#x27;HTTP_X_PD_WEB_SIGNATURE&#x27;];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        $signature = hash_hmac (&#x27;sha256&#x27;, $hash_hmac_data, $key, false);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        header(&#x27;Pd_Web_Signature: &#x27; . $signature); </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        http_response_code (200);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    $db-&gt;close();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    exit;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">?&gt;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="送受信設定メニューにおける設定"></a>送受信設定メニューにおける設定<a aria-hidden="true" class="hash-link" href="#送受信設定メニューにおける設定" title="Direct link to heading">#</a></h2><p><img src="/assets/images/pd_web-c83379439558d3a356ed0e832f39cc61.png"></p><blockquote><p>送受信設定メニューにおける設定項目</p></blockquote><table><thead><tr><th>設定項目</th><th>説明</th></tr></thead><tbody><tr><td>インターバル[sec]</td><td>送信完了後～送信開始までの時間間隔を秒単位で設定します。</td></tr><tr><td>有効時間[sec]</td><td>PD Reperterがデータ送信できない場合において、保持する時間を設定します。 0 を指定した場合、データ送信が完了するまで保持し続けます。</td></tr><tr><td>サブプロセス再起動間隔[sec]</td><td>サブプロセスを再起動する間隔を設定します。 通常デフォルト値（86400秒）から変更する必要はありません。 0を指定した場合、再起動は行いません。</td></tr><tr><td>接続先URL</td><td>接続先のPH社独自仕様WEBサーバーのURLを設定します。</td></tr><tr><td>受信ポーリング間隔[sec]</td><td>WEBサーバーから制御メッセージを読み出す間隔を設定します。</td></tr><tr><td>ユーザー名</td><td>WEBサーバーのBASIC認証に用いるユーザー名を設定します。</td></tr><tr><td>パスワード</td><td>WEBサーバーのBASIC認証に用いるユーザー名を設定します。</td></tr><tr><td>最大POSTデータサーズ</td><td>1回のPOSTメソッドで送信する最大データサイズを選択します。1~4Mbyteの中で選択します。</td></tr><tr><td>デバイス一括設定</td><td>各デバイス設定メニューにおいて送信対象設定が<code>送信する</code>となっている各対象の送信先設定を一括で有効/無効を選択できます。</td></tr></tbody></table><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="各デバイス設定メニューにおける設定"></a>各デバイス設定メニューにおける設定<a aria-hidden="true" class="hash-link" href="#各デバイス設定メニューにおける設定" title="Direct link to heading">#</a></h2><p><img src="data:image/png;base64,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"></p><blockquote><p>各デバイス設定メニューにおける設定項目</p></blockquote><table><thead><tr><th>設定項目</th><th>説明</th></tr></thead><tbody><tr><td>ID(pd_web)</td><td>WEBサーバーのトークン認証に用いるIDを設定します。</td></tr><tr><td>Key(pd_web)</td><td>WEBサーバーのトークン認証に用いるKeyを設定します。</td></tr></tbody></table><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><ul><li>PH社独自仕様WEBサーバーでのデータ送信方法はContent-Typeを &quot;application/json&quot; としてPOSTしています。</li></ul></div></div></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/openblocks/fw4/data_handling/pd_repeater/kddi_std"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« KDDI IoT クラウド Standard(kddi_std)</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/openblocks/fw4/data_handling/pd_repeater/web"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">WEBサーバー(web) »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_ thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#pd-webの概要" class="table-of-contents__link">PD Webの概要</a></li><li><a href="#pd-webのhttpヘッダー" class="table-of-contents__link">PD WebのHTTPヘッダー</a></li><li><a href="#pd-webのトークン" class="table-of-contents__link">PD Webのトークン</a><ul><li><a href="#webサーバーphpスクリプトの実装例" class="table-of-contents__link">Webサーバー(PHPスクリプト)の実装例</a></li></ul></li><li><a href="#送受信設定メニューにおける設定" class="table-of-contents__link">送受信設定メニューにおける設定</a></li><li><a href="#各デバイス設定メニューにおける設定" class="table-of-contents__link">各デバイス設定メニューにおける設定</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">製品情報</h4><ul class="footer__items"><li class="footer__item"><a href="https://www.plathome.co.jp/product/openblocks-iot/" target="_blank" rel="noopener noreferrer" class="footer__link-item">OpenBlocks IoT</a></li><li class="footer__item"><a href="https://www.plathome.co.jp/product/openblocks/" target="_blank" rel="noopener noreferrer" class="footer__link-item">OpenBlocks - MicroServer</a></li><li class="footer__item"><a href="https://www.plathome.co.jp/product/easyblocks/" target="_blank" rel="noopener noreferrer" class="footer__link-item">EasyBlocksシリーズ</a></li><li class="footer__item"><a href="https://www.plathome.co.jp/product/airmanage2/" target="_blank" rel="noopener noreferrer" class="footer__link-item">AirManage2</a></li><li class="footer__item"><a href="https://www.plathome.co.jp/product/openblocks-idm/" target="_blank" rel="noopener noreferrer" class="footer__link-item">OpenBlocks IDMシリーズ</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">SNS</h4><ul class="footer__items"><li class="footer__item"><a href="https://www.facebook.com/plathome.co.jp/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Facebook</a></li><li class="footer__item"><a href="https://twitter.com/openblocks" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter - OpenBlocks</a></li><li class="footer__item"><a href="https://twitter.com/OBSDEV" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter - OpenBlocks開発の人</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">サポート</h4><ul class="footer__items"><li class="footer__item"><a href="https://www.plathome.co.jp/contact/" target="_blank" rel="noopener noreferrer" class="footer__link-item">お問い合わせ</a></li><li class="footer__item"><a href="https://kb.plathome.co.jp/knowledge/" target="_blank" rel="noopener noreferrer" class="footer__link-item">FAQ</a></li></ul></div></div><div class="text--center"><div>Copyright © 2020 - 2023 Plat'Home Co., Ltd. All rights reserved.</div></div></div></footer></div>
<script src="/styles.3a14cb36.js"></script>
<script src="/runtime~main.3cc47ee1.js"></script>
<script src="/main.f12e9666.js"></script>
<script src="/1.ce638798.js"></script>
<script src="/1a4e3797.7ffe7e08.js"></script>
<script src="/1be78505.b19e76a1.js"></script>
<script src="/c4f5d8e4.69a61af3.js"></script>
<script src="/375.f735bcc6.js"></script>
<script src="/374.0af1e1c5.js"></script>
<script src="/935f2afb.d42a3901.js"></script>
<script src="/373.ba8da2ff.js"></script>
<script src="/334659c0.ec692c51.js"></script>
</body>
</html>