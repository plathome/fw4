<!doctype html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.68">
<title data-react-helmet="true">IoT Hub の設定 | ぷらっとホームどきゅめんと</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_language" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="IoT Hub の設定 | ぷらっとホームどきゅめんと"><meta data-react-helmet="true" name="description" content="OpenBlocksに用いているIoTゲートウェイソフトウェア「FW5」を用いたAzure IoT Hubへのセンサーデータ送信チュートリアルドキュメントの「IoT Hub の設定」のページです。"><meta data-react-helmet="true" property="og:description" content="OpenBlocksに用いているIoTゲートウェイソフトウェア「FW5」を用いたAzure IoT Hubへのセンサーデータ送信チュートリアルドキュメントの「IoT Hub の設定」のページです。"><meta data-react-helmet="true" name="keywords" content="IoT,Data Handling,PD Repeater,IoT Hub,iothub,Azure,pd_repeater_iothub"><meta data-react-helmet="true" property="og:url" content="https://docs.plathome.co.jp/docs/openblocks/fw5/tutorial/iothub/azure_iot_hub"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://docs.plathome.co.jp/docs/openblocks/fw5/tutorial/iothub/azure_iot_hub"><link rel="stylesheet" href="/styles.6a7f28c3.css">
<link rel="preload" href="/styles.c6d5988d.js" as="script">
<link rel="preload" href="/runtime~main.3c6ecc41.js" as="script">
<link rel="preload" href="/main.40f297ea.js" as="script">
<link rel="preload" href="/1.7d91b6d9.js" as="script">
<link rel="preload" href="/1a4e3797.96891e2b.js" as="script">
<link rel="preload" href="/1be78505.6b22e6e7.js" as="script">
<link rel="preload" href="/c4f5d8e4.e3deaf6d.js" as="script">
<link rel="preload" href="/423.bf325f44.js" as="script">
<link rel="preload" href="/422.7c8e2ca8.js" as="script">
<link rel="preload" href="/935f2afb.c062de1d.js" as="script">
<link rel="preload" href="/421.015e3d13.js" as="script">
<link rel="preload" href="/e431d805.63869791.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_2AhQ">Skip to main content</button></nav><nav class="navbar navbar--fixed-top navbarHideable_3046 navbarHidden_1Uo_"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img src="/img/logo_plathome_white.png" alt="ぷらっとホーム" class="themedImage_2E_h themedImage--light_AouX navbar__logo"><img src="/img/logo_plathome_white.png" alt="ぷらっとホーム" class="themedImage_2E_h themedImage--dark_1YPN navbar__logo"><strong class="navbar__title">ぷらっとホームどきゅめんと</strong></a><a class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a><a target="_self" rel="noopener noreferrer" class="navbar__item navbar__link" href="/search/">検索</a></div><div class="navbar__items navbar__items--right"><a href="https://www.plathome.co.jp/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">会社トップ</a><a href="https://www.plathome.co.jp/support/topix-software-update/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">アップデート情報</a><a href="https://kb.plathome.co.jp/knowledge/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">FAQ</a><a href="https://blog.plathome.co.jp/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">ブログ</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">🌞</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><div class="navbar__search searchBarContainer_1-U_"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_18Th searchBarLoadingRing_zYFK"><div></div><div></div><div></div><div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo_plathome_white.png" alt="ぷらっとホーム" class="themedImage_2E_h themedImage--light_AouX navbar__logo"><img src="/img/logo_plathome_white.png" alt="ぷらっとホーム" class="themedImage_2E_h themedImage--dark_1YPN navbar__logo"><strong class="navbar__title">ぷらっとホームどきゅめんと</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link navbar__link--active" href="/docs/">Docs</a></li><li class="menu__list-item"><a target="_self" rel="noopener noreferrer" class="menu__link" href="/search/">検索</a></li><li class="menu__list-item"><a href="https://www.plathome.co.jp/" target="_blank" rel="noopener noreferrer" class="menu__link">会社トップ</a></li><li class="menu__list-item"><a href="https://www.plathome.co.jp/support/topix-software-update/" target="_blank" rel="noopener noreferrer" class="menu__link">アップデート情報</a></li><li class="menu__list-item"><a href="https://kb.plathome.co.jp/knowledge/" target="_blank" rel="noopener noreferrer" class="menu__link">FAQ</a></li><li class="menu__list-item"><a href="https://blog.plathome.co.jp/" target="_blank" rel="noopener noreferrer" class="menu__link">ブログ</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC sidebarWithHideableNavbar_2IoJ"><a tabindex="-1" class="sidebarLogo_Snse" href="/"><img src="/img/logo_plathome_white.png" alt="ぷらっとホーム" class="themedImage_2E_h themedImage--light_AouX"><img src="/img/logo_plathome_white.png" alt="ぷらっとホーム" class="themedImage_2E_h themedImage--dark_1YPN"><strong>ぷらっとホームどきゅめんと</strong></a><div class="menu menu--responsive thin-scrollbar menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">免責・商標一覧</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/">免責事項と商標について</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/doclist">ドキュメント一覧</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">OpenBlocks</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">ハードウェア</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/hardware/bx0_spec">OpenBlocks IoT BX0</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/hardware/bx1_spec">OpenBlocks IoT BX1</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/hardware/bx3_spec">OpenBlocks IoT BX3</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/hardware/bx5_spec">OpenBlocks IoT BX5</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/hardware/ex1_spec">OpenBlocks IoT EX1</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/hardware/vx1_spec">OpenBlocks IoT VX1</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/hardware/vx2_spec">OpenBlocks IoT VX2</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/hardware/fx1_spec">OpenBlocks IoT FX1</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/hardware/dx1_spec">OpenBlocks IoT DX1</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/hardware/ix9_spec">OpenBlocks IX9</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/hardware/a16_spec">OpenBlocks A16</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/hardware/hx1_spec">OpenBlocks HX1</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/hardware/iotmodule_spec">OpenBlocks用モジュールetc</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/hardware/common">その他オプション</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/hardware/certification">技術基準適合マーク</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">ソフトウェア</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">Debian Linux FW5</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/openblocks/fw5/doclist">FW5ドキュメント一覧</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">スタートアップガイド</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/webui/first/first">WEB-UI接続準備</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/webui/initial/initial">初期設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/webui/airmanage/airmanage">遠隔管理AirManage</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/webui/service/service">サービスの追加</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/webui/iotstart/iotstart">IoTセットアップ手順</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">サービスガイド</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/service/basic">デバイス登録</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/service/iotdata">IoTデータ設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/service/nodered">Node-RED設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/service/camera">カメラ機能</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/service/docker">Docker/Moby設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/service/iotedge">Azure IoT Edge設定</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">拡張サービスガイド</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/service/samba">Samba設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/service/ftp_server">FTPサーバー設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/service/ftp_download">FTPダウンロード設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/service/ftp_upload">FTPアップロード設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/service/secure">不正ログイン監視(セキュリティ)</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">WEB-UIガイド</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/webui/reference/index">WEB-UIタブ別インデックス</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/webui/reference/dashboard">ダッシュボード</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/webui/reference/system">システム関連の設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/webui/reference/network">ネットワーク関連の設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/webui/reference/storage">ストレージ関連の設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/webui/reference/maintenance">メンテナンス関連の設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/webui/reference/smscontrol">SMSコントロール</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/webui/reference/etcetera">その他の設定</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">センサーデータの受信</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/pd_handler">PD Handler</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">センサーI/F毎の設定</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/beacon">BLEビーコン送信設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/ble">BLEデバイス設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/enocean">EnOceanデバイス設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/wi-sun_b">Wi-SUN Bルート情報送信設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/modbus/client">Modbusクライアント設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/modbus/server">Modbusサーバー設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/modbus2/client">Modbus2クライアント設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/modbus2/server">Modbus2サーバー設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/sw4x/sw4x">SW4xデバイス設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/hvsmc">高圧スマートメータ設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/bidirec_hvsmc">双方向対応高圧スマートメータ設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/lvsmc">低圧スマートメータ設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/user_dev">デバイス設定(ユーザー定義)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/log">IoTデータ制御ツールログ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/custom">その他GATTやRS232Cなど</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">対応センサJSONフォーマット</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_form/ble">BLEビーコン&amp;センサー</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_form/enocean">EnOceanセンサー</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_form/wisun">低圧スマートメーター(PD Handler UART)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_form/lvsmc">低圧スマートメーター</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_form/hvsmc">高圧スマートメーター</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_form/bidirec_hvsmc">双方向対応高圧スマートメーター</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_form/modbus_merge">Modbus PLC</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_form/sw4x">ミスター省エネ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_form/files_handler">PD File&#x27;s Handler</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">IoTクラウド/サーバー送受信</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/pd_repeater/pd_repeater">PD Repeater 送受信設定</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">送受信先毎の設定</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/pd_repeater/dexpf">DEXPF</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/pd_repeater/dexpf_ws">DEXPF[Websocket]</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/pd_repeater/iothub">MS Azure IoT Hub</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/pd_repeater/iothub_ws">MS Azure IoT Hub[Websocket]</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/pd_repeater/awsiot">AWS IoT</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/pd_repeater/awsiot_ws">AWS IoT[Websocket]</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/pd_repeater/iotcore">Google IoT Core</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/pd_repeater/w4g">Watson IoT for Gateway</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/pd_repeater/eventhub">MS Azure Event hubs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/pd_repeater/kinesis">Amazon Kinesis</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/pd_repeater/w4d">Watson IoT for Device</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/pd_repeater/sbiot">SoftBank スマ可視専用クラウド</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/pd_repeater/kddi_std">KDDI IoT クラウド Standard</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/pd_repeater/pd_web">PHオリジナルWEBサーバー</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/pd_repeater/web">WEBサーバー</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/pd_repeater/mqtt">MQTTサーバー</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/pd_repeater/ltcp">TCPサーバー</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/pd_repeater/pd_ex">PD Exchange</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/pd_repeater/lsocket">ユニックスドメインソケット</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">下流方向デバイス制御</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/pd_repeater/down_stream">下流方向制御の概要</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/pd_repeater/down_stream_message">PD Repeaterの下流方向メッセージ</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Modbus</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/modbus/down_stream">Modbusの下流方向制御</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/modbus/down_stream_client">Modbusクライアント</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/modbus/down_stream_server">Modbusサーバー</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Modbus2</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/modbus2/down_stream_client">Modbus2クライアント</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/modbus2/down_stream_server">Modbus2サーバー</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/sw4x/down_stream">ミスター省エネSW4x</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/down_stream_serial_ble">BLEとシリアルI/Fの下流制御</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/lvsmc_downstream">低圧スマートメーター下流方向制御</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/hvsmc_downstream">高圧スマートメーター下流方向制御</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/bidirec_hvsmc_downstream">双方向対応高圧スマートメーター下流方向制御</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/pd_agent">PD Agent</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">開発者向けガイド</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/developer/before_use/before_use">カスタマイズ前の注意と補足</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/developer/how_to_use/how_to_use">OpenBlocks HW 制御ソフト</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">カスタマイズ</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/user_app">カスタムデータ収集モジュール</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/user_app_down_stream">下流方向制御モジュール</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/rc">自作アプリの起動・停止制御</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/deb_package">deb パッケージ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/check_rc">アプリケーション設定の確認</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/advanced">複雑な構成の実現</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/pd_broker">PD Broker</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/lua_extention">LUA言語拡張ハンドラ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/adjust">PDHMSの調整</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/csv_data">CSVデータ送信機能</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling/file_data">ファイル送信機能</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/developer/web_api">OpenBlocks WEB UI用API</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">PDHMS リファレンス</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling_ref/index">索引</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling_ref/common">共通事項</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling_ref/pd_repeater">PD Repeater</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling_ref/pd_broker">PD Broker</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling_ref/pd_agent">PD Agent</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling_ref/files_handler">PD File&#x27;s Handler</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling_ref/ble">PD Handler BLE</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling_ref/uart">PD Handler UART</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling_ref/lvsmc">PD Handler LVSMC</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling_ref/hvsmc">PD Handler HVSMC</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling_ref/bidirec_hvsmc">PD Handler HVSMC(双方向対応)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling_ref/modbus">PD Handler Modbus</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling_ref/modbus2">PD Handler Modbus 2</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/data_handling_ref/sw4x">PD Handler SW4x</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Node-REDスターターガイド</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/node-red/easy-exp/easy-exp">Node-REDの簡易説明</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/node-red/sample/sample">ノード操作サンプル</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">OpenBlocks IoTチュートリアル</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">EnOceanデータをIoT Hubへ送信</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/openblocks/fw5/tutorial/iothub/preface">はじめに</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/openblocks/fw5/tutorial/iothub/azure_iot_hub">IoT Hub の設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/openblocks/fw5/tutorial/iothub/openblocks_iot">OpenBlocks IoTの設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/openblocks/fw5/tutorial/iothub/check">動作確認</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/openblocks/fw5/tutorial/iothub/reference">参考ページ</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">BLEデータをAWS IoTへ送信</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/tutorial/awsiot/preface">はじめに</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/tutorial/awsiot/aws_iot_core">AWS IoT Coreの設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/tutorial/awsiot/openblocks_iot">OpenBlocks IoTの設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/tutorial/awsiot/check">動作確認</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/tutorial/awsiot/reference">参考ページ</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">BLEデータの転送と可視化</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/tutorial/mqtt/preface">はじめに</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/tutorial/mqtt/broker">MQTTブローカーの準備</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/tutorial/mqtt/openblocks_iot_pub">OpenBlocks IoT の設定(送信側)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/tutorial/mqtt/openblocks_iot_sub">OpenBlocks IoT の設定(受信側)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/tutorial/mqtt/nodered">Node-REDの設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/tutorial/mqtt/check">動作確認</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/tutorial/mqtt/reference">参考ページ</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">RS-SERIALでDevice Shadowを使う</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/tutorial/rs_serial/preface">はじめに</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/tutorial/rs_serial/device">シリアル・デバイスの準備</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/tutorial/rs_serial/aws_iot_core">AWS IoT Coreの設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/tutorial/rs_serial/openblocks_iot">OpenBlocks IoTの設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/tutorial/rs_serial/app_client">Application Clientの準備</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/tutorial/rs_serial/check">動作確認</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw5/tutorial/rs_serial/reference">参考ページ</a></li></ul></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Debian Linux FW4</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/doclist">FW4ドキュメント一覧</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">スタートアップガイド</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/webui/first/first">WEB-UI接続準備</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/webui/initial/initial">初期設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/webui/airmanage/airmanage">遠隔管理AirManage</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/webui/service/service">サービスの追加</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/webui/iotstart/iotstart">IoTセットアップ手順</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">サービスガイド</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/service/basic">基本(IoTデータ必読)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/service/iotdata">IoTデータ設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/service/nodered">Node-RED設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/service/camera">カメラ機能</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/service/docker">Docker/Moby設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/service/iotedge">Azure IoT Edge設定</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">拡張サービスガイド</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/service/samba">Samba設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/service/ftp_server">FTPサーバー設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/service/ftp_download">FTPダウンロード設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/service/ftp_upload">FTPアップロード設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/service/secure">不正ログイン監視(セキュリティ)</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">WEB-UIガイド</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/webui/reference/index">WEB-UIタブ別インデックス</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/webui/reference/dashboard">ダッシュボード</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/webui/reference/system">システム関連の設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/webui/reference/network">ネットワーク関連の設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/webui/reference/storage">ストレージ関連の設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/webui/reference/maintenance">メンテナンス関連の設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/webui/reference/smscontrol">SMSコントロール</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/webui/reference/etcetera">その他の設定</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">センサーデータの受信</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/pd_handler">PD Handler</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">センサーI/F毎の設定</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/beacon">BLEビーコン送信設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/ble">BLEデバイス情報送信設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/enocean">EnOceanデバイス設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/wi-sun_b">Wi-SUN Bルート情報送信設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/modbus/client">Modbusクライアント設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/modbus/server">Modbusサーバー設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/modbus2/client">Modbus2クライアント設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/modbus2/server">Modbus2サーバー設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/sw4x/sw4x">SW4xデバイス設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/hvsmc">高圧スマートメータ設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/user_dev">デバイス設定(ユーザー定義)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/log">IoTデータ制御ツールログ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/sensor_data">BLEセンサーグラフ表示</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">対応センサJSONフォーマット</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_form/ble">BLEビーコン&amp;センサー</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_form/enocean">EnOceanセンサー</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_form/wisun">低圧スマートメーター</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_form/hvsmc">高圧スマートメーター</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_form/modbus_merge">Modbus PLC</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_form/sw4x">ミスター省エネ</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">IoTクラウド/サーバー送受信</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/pd_repeater/pd_repeater">PD Repeater 送受信設定</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">送受信先毎の設定</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/pd_repeater/lo">本体内データベース</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/pd_repeater/dexpf">DEXPF</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/pd_repeater/dexpf_ws">DEXPF[Websocket]</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/pd_repeater/iothub">MS Azure IoT Hub</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/pd_repeater/iothub_ws">MS Azure IoT Hub[Websocket]</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/pd_repeater/awsiot">AWS IoT</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/pd_repeater/awsiot_ws">AWS IoT[Websocket]</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/pd_repeater/iotcore">Google IoT Core</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/pd_repeater/w4g">Watson IoT for Gateway</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/pd_repeater/eventhub">MS Azure Event hubs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/pd_repeater/kinesis">Amazon Kinesis</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/pd_repeater/w4d">Watson IoT for Device</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/pd_repeater/t4d">Toami for DOCOMO</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/pd_repeater/sbiot">SoftBank スマ可視専用クラウド</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/pd_repeater/kddi_std">KDDI IoT クラウド Standard</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/pd_repeater/pd_web">PHオリジナルWEBサーバー</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/pd_repeater/web">WEBサーバー</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/pd_repeater/mqtt">MQTTサーバー</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/pd_repeater/ltcp">TCPサーバー</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/pd_repeater/pd_ex">PD Exchange</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/pd_repeater/lsocket">ユニックスドメインソケット</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">下流方向デバイス制御</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/pd_repeater/down_stream">下流方向制御の概要</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/pd_repeater/down_stream_message">PD Repeaterの下流方向メッセージ</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Modbus</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/modbus/down_stream">Modbusの下流方向制御</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/modbus/down_stream_client">Modbusクライアント</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/modbus/down_stream_server">Modbusサーバー</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Modbus2</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/modbus2/down_stream_client">Modbus2クライアント</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/modbus2/down_stream_server">Modbus2サーバー</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/sw4x/down_stream">ミスター省エネSW4x</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/hvsmc_downstream">高圧スマートメーター下流方向制御</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/pd_agent">PD Agent</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">開発者向けガイド</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/developer/before_use/before_use">カスタマイズ前の注意と補足</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/developer/how_to_use/how_to_use">OpenBlocks HW 制御ソフト</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">カスタマイズ</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/user_app">カスタムデータ収集アプリ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/user_app_down_stream">下流方向制御アプリ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/rc">自作アプリの起動・停止制御</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/deb_package">deb パッケージ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/check_rc">アプリケーション設定の確認</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/advanced">複雑な構成の実現</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/pd_broker">PD Broker</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/lua_extention">LUA言語拡張ハンドラ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/adjust">PDHMSの調整</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling/csv_data">CSVデータ送信機能</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">PDHMS リファレンス</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling_ref/index">索引</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling_ref/common">共通事項</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling_ref/pd_repeater">PD Repeater</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling_ref/pd_broker">PD Broker</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling_ref/pd_agent">PD Agent</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling_ref/ble">PD Handler BLE</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling_ref/uart">PD Handler UART</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling_ref/hvsmc">PD Handler HVSMC</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling_ref/modbus">PD Handler Modbus</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling_ref/modbus2">PD Handler Modbus 2</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/data_handling_ref/sw4x">PD Handler SW4x</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Node-REDスターターガイド</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/node-red/easy-exp/easy-exp">Node-REDの簡易説明</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/node-red/sample/sample">ノード操作サンプル</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">OpenBlocks IoTチュートリアル</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">EnOceanデータをIoT Hubへ送信</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/tutorial/iothub/preface">はじめに</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/tutorial/iothub/azure_iot_hub">IoT Hubの設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/tutorial/iothub/openblocks_iot">OpenBlocks IoTの設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/tutorial/iothub/check">動作確認</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/tutorial/iothub/reference">参考ページ</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">BLEデータをAWS IoTへ送信</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/tutorial/awsiot/preface">はじめに</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/tutorial/awsiot/aws_iot_core">AWS IoT Coreの設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/tutorial/awsiot/openblocks_iot">OpenBlocks IoTの設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/tutorial/awsiot/check">動作確認</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/tutorial/awsiot/reference">参考ページ</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">CO2データをMQTTサーバーへ送信</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/tutorial/mqtt/preface">はじめに</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/tutorial/mqtt/mqtt_server">MQTTサーバーの準備</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/tutorial/mqtt/openblocks_iot">OpenBlocks IoTの設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/tutorial/mqtt/check">Node-REDでグラフを作る</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/fw4/tutorial/mqtt/reference">参考ページ</a></li></ul></li></ul></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/openblocks/fw3">Debian Linux FW3 (PDF一覧)</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">FW共通/工場出荷状態に戻す</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/factory/factory_reset">ファクトリーリセット</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">RAMディスク版OpenBlocks</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/ramdisk_obs/ramdisk">Debianモデル(RAMディスク版)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/ramdisk_obs/obsix9r_debian">OpenBlocks IX9 Debian搭載モデル向け</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/ramdisk_obs/obshx1r_debian">OpenBlocks HX1 Debian搭載モデル向け</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">ストレージ版OpenBlocks</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/storage_obs/storage">Debianモデル(ストレージ版)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openblocks/storage_obs/obsa16_storage">OpenBlocks A16 Debian搭載モデル向け</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/openblocks/windows">Windows版スタートガイド</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">EasyBlocks</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/dhcp">EasyBlocks DHCP</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/syslog">EasyBlocks Syslog</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/packetix">EasyBlocks PacketiX VPN</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/remote">EasyBlocks Remote Office</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/ddn">EasyBlocks DDN (統合型)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/reporter">EasyBlocks Network Reporter</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/monitor">EasyBlocks 監視</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/rmkanshi">EasyBlocks リモート監視管理</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/resource">EasyBlocks リソース監視</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/kvm">EasyBlocks KVM</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">ハードウェアガイド</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/hardware/bpv4_spec">EasyBlocks BPV4型</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/hardware/ebx9_spec">EasyBlocks EBX9型</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/hardware/ebix_spec">EasyBlocks EBIX型</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/hardware/ebb0_spec">EasyBlocks EBB0型</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/hardware/eba16_spec">EasyBlocks EBA16型</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/hardware/ebhx1_spec">EasyBlocks EBHX1型</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/hardware/ebfx_spec">EasyBlocks EBFX型</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/hardware/pro_spec">EasyBlocks ProLine型</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">初期設定共通</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/common/WEBUIcommon">WEB-UI接続準備</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/common/license">ソフトウェア使用許諾</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/common/account_reg">管理者アカウント登録</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/common/basic">時刻同期</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/common/basicsyslog">時刻同期（Syslog&amp;NetworkReporter用）</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/common/network">ネットワークの設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/common/airmanage">遠隔管理AirManage</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">サービス毎の設定</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">DHCP</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/dhcp/service">サービス</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/dhcp/conf">設定編集</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/dhcp/basic">基本</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/dhcp/subnet">サブネット</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/dhcp/hostmng">ホスト管理</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/dhcp/policymng">ポリシー管理</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/dhcp/log">ログ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/dhcp/arpscan">ARPスキャン</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/dhcp/mainte">メンテナンス</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">DNS</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/dns/service">サービス</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/dns/edit">設定編集</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/dns/basic">基本設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/dns/zone">ゾーン</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/dns/record">レコード</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/dns/log">ログ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/dns/mainte">メンテナンス</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">NTP</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/ntp/service">サービス</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/ntp/basic">基本設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/ntp/syncinfo">同期情報</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Syslog</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/syslog/syslog_disp">ログ表示</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/syslog/syslog_statistic">ログ統計</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/syslog/syslog_basic">基本設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/syslog/syslog_rule">フィルタ設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/syslog/syslog_logcont">ログ管理</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/syslog/syslog_cert">証明書管理</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/syslog/syslog_zabbix">Zabbix設定</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">PacketiX</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/packetix/service">サービス</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/packetix/file_control">ファイル管理</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/packetix/update">アップデート</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/packetix/service_detail">サービス詳細設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/packetix/precautions">注意事項</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Remote Office</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/remote/service">サービス</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/remote/file_control">ファイル管理</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/remote/update">アップデート</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/remote/bulk_regist">一括登録</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/remote/service_detail">サービス詳細設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/remote/client_setup">子機の設置</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/remote/precautions">注意事項</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Network Reporter</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/reporter/reporter_disp">ログ表示</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/reporter/reporter_statistic">ログ統計</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/reporter/reporter_basic">基本設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/reporter/reporter_rule">フィルタ設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/reporter/reporter_logcont">ログ管理</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/reporter/reporter_report">レポート</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/reporter/reporter_setting_rt">ルータ設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/reporter/reporter_cert">証明書管理</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/reporter/reporter_rtxcontrol">制御</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/reporter/reporter_zabbix">Zabbix設定</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">監視</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/monitor/service">サービス</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/monitor/basic">基本設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/monitor/hosts">監視対象設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/monitor/methods">監視パターン設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/monitor/summary">監視状況一覧</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/monitor/mailbody">通知メール本文</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/monitor/snmptrap">SNMP Trapメール通知</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/monitor/user_notify">ユーザー定義通知</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/monitor/scan">監視対象一括登録</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/resource/resource">リソース監視パターン設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/resource/history">監視履歴確認</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/resource/timeperiod">監視時間帯設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/resource/map">監視マップ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/monitor/mainte">メンテナンス</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">リモート監視管理</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/rmkanshi/rebooter_status">リブーター 状況一覧</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/rmkanshi/rebooter_regist">リブーター 登録</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/rmkanshi/uriproxy">URIプロキシ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/rmkanshi/security">セキュリティ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/rmkanshi/sshconsole">SSHコンソール</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">リソース監視</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/resource/mrtg_conf">リソース可視化設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/resource/mrtg_graph">グラフ表示</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">KVM</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/kvm/regist_setup">EasyBlocksゲストOS登録及びストレージサイズ変更</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/kvm/setting">EasyBlocksゲストOS設定変更</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/kvm/cockpit_other">管理画面機能(その他)</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">その他共通</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/etc/dashboard">ダッシュボード</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">システム</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/etc/basic">基本</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/etc/webadmin">WEB管理者の登録削除</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/etc/etc">その他(Syslog&amp;NetworkReporter用)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/etc/mypage">マイページ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/etc/filter">フィルタ開放</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/etc/opensource">オープンソースライセンス</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/etc/serial">シリアルナンバー</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">ネットワーク</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/etc/network">ネットワークの設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/etc/proxy">プロキシの設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/etc/routing">ルーティング</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/etc/netstat">状態</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/etc/ddns_remote">ダイナミックDNS(RemoteOfficeのみ)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/etc/hosts_append">ホスト追加</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/etc/tagvlan">タグVLAN</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">メンテナンス</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/etc/setting">設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/etc/eb_update">システムの更新</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/etc/eb_restert">停止・再起動</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/etc/eb_support">サポート</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">AirManage</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/etc/eb_airmanage1">AirManage</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/etc/eb_airmanage2">AirManage登録</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">コマンドライン操作</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/etc/ssh">SSHログイン</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/etc/console">シリアルコンソールログイン</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">仮想アプライアンス専用</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/virtual_install">仮想アプライアンス インストール方法(Network Reporterのみ)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/virtual/license">ライセンス(Network Reporter用)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/easyblocks/virtual/console">コマンド操作</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">AirManage遠隔監視</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/amdoc/amdoc_1">はじめに</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/amdoc/amdoc_2">初期設定</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/amdoc/amdoc_3">運用(システム管理者向け)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/amdoc/amdoc_4">運用(テナント管理者向け)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/amdoc/amdoc_webapi">WebAPI</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">IDMシリーズ</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/idm/rx1">OpenBlocks IDM RX1</a></li></ul></li></ul></div><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_2Tub"></button></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_39qw"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">IoT Hub の設定</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="0-はじめに"></a>0. はじめに<a aria-hidden="true" class="hash-link" href="#0-はじめに" title="Direct link to heading">#</a></h2><p>IoT Hub の設定には、次の３つの作業があります。</p><ol><li><a href="#create">IoT Hub リソースの作成</a><br><a href="https://portal.azure.com/#home" target="_blank" rel="noopener noreferrer">Azure Portal</a>にて<strong>IoT Hub リソース</strong>を作成します。</li><li><a href="#cert">X.509 CA 証明書の準備</a><br>Windows PC で<strong>X.509 CA 証明書</strong>を作成し、IoT Hubに登録します。</li><li><a href="#device">デバイスの登録</a><a href="https://learn.microsoft.com/ja-jp/azure/iot-fundamentals/howto-use-iot-explorer" target="_blank" rel="noopener noreferrer">Azure IoT エクスプローラー</a>を用いてIoT Hubにデバイスを登録します。</li></ol><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>Azure IoT Hub を使用するためには、<a href="https://portal.azure.com/#home" target="_blank" rel="noopener noreferrer">Azure Portal</a>のアカウント並びに<a href="https://learn.microsoft.com/ja-jp/azure/azure-portal/get-subscription-tenant-id" target="_blank" rel="noopener noreferrer">Azure サブスクリプション</a>の取得が必要となります。</p></div></div><span id="create"></span><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="1-iot-hub-リソースの作成"></a>1. IoT Hub リソースの作成<a aria-hidden="true" class="hash-link" href="#1-iot-hub-リソースの作成" title="Direct link to heading">#</a></h2><p> <a href="https://portal.azure.com/#home" target="_blank" rel="noopener noreferrer">Azure Portal</a>にて<strong>IoT Hub リソース</strong>を作成します。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="1-1-iot-ハブ画面へのアクセス"></a>1-1. IoT ハブ画面へのアクセス<a aria-hidden="true" class="hash-link" href="#1-1-iot-ハブ画面へのアクセス" title="Direct link to heading">#</a></h3><p>IoT Hub リソースを作成する<strong>IoTハブ</strong>画面へのアクセス方法を説明します。</p><p><a href="https://portal.azure.com/#home" target="_blank" rel="noopener noreferrer">Azure Portal</a> にサインインしポータルサイト画面を表示させます。</p><p><img alt="Azure portal" src="/assets/images/home-0b598dd9c39458109b9f3a95af0029de.png"></p><p>ポータルサイト画面左上の<code>リソースの作成</code>アイコンをクリックし<strong>リソース作成</strong>画面を表示させます。</p><p><img src="/assets/images/create_resource-43f23cf838740fff55accc4f41ee7d4a.png"></p><p><strong>リソース作成</strong>画面の <strong>サービスとマーケットプレスを検索してください。</strong> フィールドに&quot;iot hub&quot;と入力します。  </p><p><strong>Marketplace</strong>画面が表示されます。</p><p><img src="/assets/images/marketplace-315e6e22907442119b69777d64880854.png"></p><p><strong>Marketplace</strong>画面の<code>IoT Hub</code>アイコンをクリックし<strong>IoT Hub</strong>画面を表示します。</p><p><img src="/assets/images/iothub-43f2b5aec09223ab67e1acbc49505394.png"></p><p><strong>IoT Hub</strong>画面の<strong>プラン</strong>にて<strong>IoT Hub</strong>を選択し<code>作成</code>ボタンをクリックすると<strong>IoTハブ⇒基本</strong>タブが表示されます。 </p><span id="1-2"></span><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="1-2-iotハブ⇒基本-タブにおける設定"></a>1-2. IoTハブ⇒基本 タブにおける設定<a aria-hidden="true" class="hash-link" href="#1-2-iotハブ⇒基本-タブにおける設定" title="Direct link to heading">#</a></h3><p><strong>IoTハブ⇒基本</strong>タブにて以下の設定を行います。</p><p><img alt="基本" src="/assets/images/create_microsoft_iothub-b1aad91f9fdb9c197e28789a0a0dfd67.png"></p><ol><li><strong>サブスクリプション</strong>フィールドで使用するサブスクリプションを選択します。<br>チュートリアルでは<strong>Microsoft Azure エンタープライズ</strong>としていますが、プルダウンメニューに表示される選択肢の中から適当なものを選択して下さい。</li><li><strong>リソースグループ</strong>フィールドで使用するリソース グループを選択します。<br>プルダウンメニューから既存のリソース グループを選択するか<strong>新規作成</strong>をクリックして新規にリソース グループを作成します。<br>チュートリアルでは、リソース グループ<strong>tryResourceGroup</strong>を新規に作成しています。</li><li><strong>IoT Hub 名</strong>フィールドには、お好みの文字列を入力して下さい。<br>チュートリアルでは、<strong>ph-fx1</strong> としています。</li><li><strong>領域</strong>フィールドでは、ハブを配置するリージョンをプルダウンメニューから選択します。ユーザーに最も近い場所を選択します。<br>チュートリアルでは、<strong>Japan East</strong>を選択しています。</li><li>設定を終えたら<code>次へ: ネットワーク &gt;</code>をクリックします。<strong>IoTハブ⇒ネットワーク</strong>タブが表示されます。</li></ol><p>ここで、設定する IoT Hub 名<strong>ph-fx1</strong>は、以降の説明でタブやペインを示す名詞として登場します。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="1-3-iotハブ⇒ネットワーク-タブにおける設定"></a>1-3. IoTハブ⇒ネットワーク タブにおける設定<a aria-hidden="true" class="hash-link" href="#1-3-iotハブ⇒ネットワーク-タブにおける設定" title="Direct link to heading">#</a></h3><p><strong>IoTハブ⇒ネットワーク</strong>タブにて以下の設定を行います。</p><p><img alt="ネットワーク" src="/assets/images/create_microsoft_iothub_network-98353a25bf7444dfa3f9e27197ca2ecf.png"></p><ol><li><strong>接続の構成</strong>フィールドで<strong>パブリック エンドポイント(すべてのネットワーク)</strong>を選択します。</li><li>設定を終えたら<code>次へ: 管理 &gt;</code>をクリックします。<strong>IoTハブ⇒管理</strong>タブが表示されます。</li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="1-4-iotハブ⇒管理-タブにおける設定"></a>1-4. IoTハブ⇒管理 タブにおける設定<a aria-hidden="true" class="hash-link" href="#1-4-iotハブ⇒管理-タブにおける設定" title="Direct link to heading">#</a></h3><p><strong>IoTハブ⇒管理</strong>タブにて以下の設定を行います。</p><p><img alt="サイズとスケール" src="/assets/images/create_microsoft_iothub_size_scale-fe2fbd1aefaf6ac2bffcf2821354e82f.png"></p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="iotハブ⇒管理-タブの設定項目"></a>IoTハブ⇒管理 タブの設定項目<a aria-hidden="true" class="hash-link" href="#iotハブ⇒管理-タブの設定項目" title="Direct link to heading">#</a></h4><ol><li><strong>価格とスケールティア</strong>では、価格とスケールティアを選択します。<br>チュートリアルでは(実運用ではないため)、Free レベルを選択しています。<br>ここで、Free レベルは1つのサブスクリプションに対し１つに制限されているにも関わらず、2つめの選択を行ってもデプロイは正常に完了できてしまう点に注意して下さい。
Free レベルを複数選択した場合、組み込みエンドポイントの構成が正しく行われず
<a href="https://learn.microsoft.com/ja-jp/azure/iot-fundamentals/howto-use-iot-explorer" target="_blank" rel="noopener noreferrer">Azure IoT エクスプローラー</a>によるテレメトリーのモニタリングができないなどの問題が生じます。</li><li><strong>ロールベースのアクセス制御</strong>は<strong>共有アクセス ポリシー + RBAC</strong>を選択します。</li><li><strong>Device-to-cloud パーティション</strong>は、デフォルト値の 2 のままです。</li><li>設定を終えたら<code>次へ: タグ &gt;</code>をクリックします。<strong>IoTハブ⇒タグ</strong>タブが表示されます。</li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="1-5-iotハブ⇒タグ-タブにおける設定"></a>1-5. IoTハブ⇒タグ タブにおける設定<a aria-hidden="true" class="hash-link" href="#1-5-iotハブ⇒タグ-タブにおける設定" title="Direct link to heading">#</a></h3><p>チュートリアルにおいて<strong>IoTハブ⇒タグ</strong>タブでの設定事項はありません。</p><p><img alt="タグ" src="/assets/images/create_microsoft_iothub_tag-95df2501b99b32f01b6105ee1a7e4aa1.png"></p><p><code>次へ: 確認および作成 &gt;</code>をクリックします。<strong>IoTハブ⇒確認および作成</strong>タブが表示されます。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="1-6-iotハブ⇒確認および作成-タブにおける確認"></a>1-6. IoTハブ⇒確認および作成 タブにおける確認<a aria-hidden="true" class="hash-link" href="#1-6-iotハブ⇒確認および作成-タブにおける確認" title="Direct link to heading">#</a></h3><p><strong>IoTハブ⇒確認および作成</strong>タブにて、設定内容を確認します。</p><p><img alt="check" src="/assets/images/create_microsoft_iothub_check_create-9d1abfa06ae37577aa2e18fa47726092.png"></p><p>確認を終えたら、<code>作成</code>をクリックし新しいハブを作成します。デプロイが完了するまで、数分かかります。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="1-7-デプロイの完了"></a>1-7. デプロイの完了<a aria-hidden="true" class="hash-link" href="#1-7-デプロイの完了" title="Direct link to heading">#</a></h3><p>デプロイが完了すると次のように表示されます。</p><p><img alt="check" src="/assets/images/create_microsoft_iothub_deploy-2a958aa19f7cf7984ddbb916ce91b831.png"></p><span id="cert"></span><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="2-x509-ca-証明書の準備"></a>2. X.509 CA 証明書の準備<a aria-hidden="true" class="hash-link" href="#2-x509-ca-証明書の準備" title="Direct link to heading">#</a></h2><p>IoT Hub には、デバイスが IoT Hub に接続するための認証に、<strong>対称キー</strong>を用いる方式と<strong>X.509 CA 証明書</strong>を用いる方式があります。</p><p>一般的にセキュリティの強度は、<strong>対称キー</strong>を用いる方式よりも<strong>X.509 CA 証明書</strong>を用いる方式の方が高いとされていますが、その反面<strong>X.509 CA 証明書</strong>を用いる方式では、
予め<strong>X.509 CA 証明書</strong>を作成し IoT Hub に登録しておく必要があります。<br>
また、接続するデバイスの数だけ<strong>X.509 CA 証明書</strong>で署名した<strong>デバイス証明書</strong>とその<strong>プライベートキー</strong>を用意しておく必要があります。</p><p>ここでは、<strong>X.509 CA 証明書</strong>の作成と IoT Hubへの登録、並びに<strong>デバイス証明書</strong>、<strong>プライベートキー</strong>の作成について説明します。<br>
対称キーを使用する場合は、<a href="#device">3. デバイスの登録</a>に進んで下さい。</p><p>証明書を用いる接続認証には次の証明書とプライベートキーが必要となります。</p><ul><li>X.509ルート証明書</li><li>X.509 CA 証明書</li><li>デバイス証明書（接続するデバイス毎）</li><li>デバイス証明書のプライベートキー（接続するデバイス毎）</li></ul><span id="get_certificates"></span><span id="2-1"></span><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="2-1-x509-ルート証明書の取得"></a>2-1. X.509 ルート証明書の取得<a aria-hidden="true" class="hash-link" href="#2-1-x509-ルート証明書の取得" title="Direct link to heading">#</a></h3><p><a href="https://cacerts.digicert.com/BaltimoreCyberTrustRoot.crt.pem" target="_blank" rel="noopener noreferrer">BaltimoreCyberTrustRoot ルート証明書</a>をダウンロードし適当なディレクトリに保存して下さい。<br>
チュートリアルでは、<strong>C:\Users\user\Downloads\BaltimoreCyberTrustRoot.crt.pem</strong> として保存するものとします。  </p><ul><li>BaltimoreCyberTrustRoot.crt.pem</li></ul><p>Azure における<strong>X.509 ルート証明書</strong>(TLS 証明書)の詳細については<a href="https://learn.microsoft.com/ja-jp/azure/security/fundamentals/azure-ca-details" target="_blank" rel="noopener noreferrer">Azure 証明機関の詳細</a>をご覧下さい。</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="azure-tls-証明書の変更について"></a>Azure TLS 証明書の変更について<a aria-hidden="true" class="hash-link" href="#azure-tls-証明書の変更について" title="Direct link to heading">#</a></h4><p>Microsoft社では、<strong>X.509ルート証明書</strong>を<strong>ルート証明書</strong>あるいは<strong>TLS証明書</strong>と呼んでいますが、
<a href="https://learn.microsoft.com/ja-jp/azure/security/fundamentals/tls-certificate-changes" target="_blank" rel="noopener noreferrer">Azure TLS 証明書の変更について</a>
にてアナウンスされている通り、2020年7月より<strong>TLS証明書</strong>の変更が進められており、IoT Hubについては<a href="https://techcommunity.microsoft.com/t5/internet-of-things-blog/azure-iot-tls-critical-changes-are-almost-here-and-why-you/ba-p/2393169" target="_blank" rel="noopener noreferrer">Azure IoT TLS: Critical changes are almost here!</a>に記載されている通り2023年2月15日から2023年9月頃の予定で
<a href="https://cacerts.digicert.com/BaltimoreCyberTrustRoot.crt.pem" target="_blank" rel="noopener noreferrer">BaltimoreCyberTrustRoot ルート証明書</a>から
<a href="https://cacerts.digicert.com/DigiCertGlobalRootG2.crt.pem" target="_blank" rel="noopener noreferrer">DigiCert Global Root G2 ルート証明書</a>への移行が進められます。  </p><p>移行期間中は、次の様に<a href="https://cacerts.digicert.com/BaltimoreCyberTrustRoot.crt.pem" target="_blank" rel="noopener noreferrer">BaltimoreCyberTrustRoot ルート証明書</a>と<a href="https://cacerts.digicert.com/DigiCertGlobalRootG2.crt.pem" target="_blank" rel="noopener noreferrer">DigiCert Global Root G2 ルート証明書</a>を併記したファイルを適当な名前で保存し、これを<a href="https://cacerts.digicert.com/BaltimoreCyberTrustRoot.crt.pem" target="_blank" rel="noopener noreferrer">BaltimoreCyberTrustRoot ルート証明書</a>に代えて使用して下さい。</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">-----BEGIN CERTIFICATE-----</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">MIIDdzCCAl+gAwIBAgIEAgAAuTANBgkqhkiG9w0BAQUFADBaMQswCQYDVQQGEwJJ</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">RTESMBAGA1UEChMJQmFsdGltb3JlMRMwEQYDVQQLEwpDeWJlclRydXN0MSIwIAYD</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">VQQDExlCYWx0aW1vcmUgQ3liZXJUcnVzdCBSb290MB4XDTAwMDUxMjE4NDYwMFoX</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">DTI1MDUxMjIzNTkwMFowWjELMAkGA1UEBhMCSUUxEjAQBgNVBAoTCUJhbHRpbW9y</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">ZTETMBEGA1UECxMKQ3liZXJUcnVzdDEiMCAGA1UEAxMZQmFsdGltb3JlIEN5YmVy</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">VHJ1c3QgUm9vdDCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAKMEuyKr</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">mD1X6CZymrV51Cni4eiVgLGw41uOKymaZN+hXe2wCQVt2yguzmKiYv60iNoS6zjr</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">IZ3AQSsBUnuId9Mcj8e6uYi1agnnc+gRQKfRzMpijS3ljwumUNKoUMMo6vWrJYeK</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">mpYcqWe4PwzV9/lSEy/CG9VwcPCPwBLKBsua4dnKM3p31vjsufFoREJIE9LAwqSu</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">XmD+tqYF/LTdB1kC1FkYmGP1pWPgkAx9XbIGevOF6uvUA65ehD5f/xXtabz5OTZy</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">dc93Uk3zyZAsuT3lySNTPx8kmCFcB5kpvcY67Oduhjprl3RjM71oGDHweI12v/ye</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">jl0qhqdNkNwnGjkCAwEAAaNFMEMwHQYDVR0OBBYEFOWdWTCCR1jMrPoIVDaGezq1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">BE3wMBIGA1UdEwEB/wQIMAYBAf8CAQMwDgYDVR0PAQH/BAQDAgEGMA0GCSqGSIb3</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">DQEBBQUAA4IBAQCFDF2O5G9RaEIFoN27TyclhAO992T9Ldcw46QQF+vaKSm2eT92</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">9hkTI7gQCvlYpNRhcL0EYWoSihfVCr3FvDB81ukMJY2GQE/szKN+OMY3EU/t3Wgx</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">jkzSswF07r51XgdIGn9w/xZchMB5hbgF/X++ZRGjD8ACtPhSNzkE1akxehi/oCr0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Epn3o0WC4zxe9Z2etciefC7IpJ5OCBRLbf1wbWsaY71k5h+3zvDyny67G7fyUIhz</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">ksLi4xaNmjICq44Y3ekQEe5+NauQrz4wlHrQMz2nZQ/1/I6eYs9HRCwBXbsdtTLS</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">R9I4LtD+gdwyah617jzV/OeBHRnDJELqYzmp</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-----END CERTIFICATE-----</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-----BEGIN CERTIFICATE-----</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">MIIDjjCCAnagAwIBAgIQAzrx5qcRqaC7KGSxHQn65TANBgkqhkiG9w0BAQsFADBh</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">MQswCQYDVQQGEwJVUzEVMBMGA1UEChMMRGlnaUNlcnQgSW5jMRkwFwYDVQQLExB3</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">d3cuZGlnaWNlcnQuY29tMSAwHgYDVQQDExdEaWdpQ2VydCBHbG9iYWwgUm9vdCBH</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">MjAeFw0xMzA4MDExMjAwMDBaFw0zODAxMTUxMjAwMDBaMGExCzAJBgNVBAYTAlVT</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">MRUwEwYDVQQKEwxEaWdpQ2VydCBJbmMxGTAXBgNVBAsTEHd3dy5kaWdpY2VydC5j</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">b20xIDAeBgNVBAMTF0RpZ2lDZXJ0IEdsb2JhbCBSb290IEcyMIIBIjANBgkqhkiG</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">9w0BAQEFAAOCAQ8AMIIBCgKCAQEAuzfNNNx7a8myaJCtSnX/RrohCgiN9RlUyfuI</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">2/Ou8jqJkTx65qsGGmvPrC3oXgkkRLpimn7Wo6h+4FR1IAWsULecYxpsMNzaHxmx</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">1x7e/dfgy5SDN67sH0NO3Xss0r0upS/kqbitOtSZpLYl6ZtrAGCSYP9PIUkY92eQ</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">q2EGnI/yuum06ZIya7XzV+hdG82MHauVBJVJ8zUtluNJbd134/tJS7SsVQepj5Wz</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">tCO7TG1F8PapspUwtP1MVYwnSlcUfIKdzXOS0xZKBgyMUNGPHgm+F6HmIcr9g+UQ</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">vIOlCsRnKPZzFBQ9RnbDhxSJITRNrw9FDKZJobq7nMWxM4MphQIDAQABo0IwQDAP</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">BgNVHRMBAf8EBTADAQH/MA4GA1UdDwEB/wQEAwIBhjAdBgNVHQ4EFgQUTiJUIBiV</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">5uNu5g/6+rkS7QYXjzkwDQYJKoZIhvcNAQELBQADggEBAGBnKJRvDkhj6zHd6mcY</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">1Yl9PMWLSn/pvtsrF9+wX3N3KjITOYFnQoQj8kVnNeyIv/iPsGEMNKSuIEyExtv4</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">NeF22d+mQrvHRAiGfzZ0JFrabA0UWTW98kndth/Jsw1HKj2ZL7tcu7XUIOGZX1NG</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Fdtom/DzMNU+MeKNhJ7jitralj41E6Vf8PlwUHBHQRFXGU7Aj64GxJUTFy8bJZ91</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">8rGOmaFvE7FBcf6IKshPECBV1/MUReXgRPTqh5Uykw7+U0b6LJ3/iyK5S9kJRaTe</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">pLiaWN0bfVKfjllDiIGknibVb63dDcY3fe0Dkhvld1927jyNxF1WW6LZZm6zNTfl</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">MrY=</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-----END CERTIFICATE-----</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>なお、移行期間終了後は<a href="https://cacerts.digicert.com/BaltimoreCyberTrustRoot.crt.pem" target="_blank" rel="noopener noreferrer">BaltimoreCyberTrustRoot ルート証明書</a>に代えて<a href="https://cacerts.digicert.com/DigiCertGlobalRootG2.crt.pem" target="_blank" rel="noopener noreferrer">DigiCert Global Root G2 ルート証明書</a>を使用して下さい。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="2-2-x509-ca-証明書の作成"></a>2-2. X.509 CA 証明書の作成<a aria-hidden="true" class="hash-link" href="#2-2-x509-ca-証明書の作成" title="Direct link to heading">#</a></h3><p><a href="https://learn.microsoft.com/ja-jp/azure/iot-hub/tutorial-x509-scripts" target="_blank" rel="noopener noreferrer">Microsoft 提供のスクリプトを使用してテスト証明書を作成する</a> に基づき、
Windows PC の PowerShell 上でX.509 CA 証明書とデバイス証明書、デバイス証明書のプライベートキーを作成します。</p><span id="2-2-1"></span><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="2-2-1-openssl-のインストール"></a>2-2-1. OpenSSL のインストール<a aria-hidden="true" class="hash-link" href="#2-2-1-openssl-のインストール" title="Direct link to heading">#</a></h4><p>X.509 証明書の作成には、<a href="https://www.openssl.org" target="_blank" rel="noopener noreferrer">OpenSSL</a>が必要となります。<br>
証明書を作成する Windows PC に OpenSSL がインストールされていない場合は、
<a href="https://wiki.openssl.org/index.php/Binaries" target="_blank" rel="noopener noreferrer">wiki(Binaries)</a>に示される適当なサイト(Binary Distributions)から Windows PC 用の適当なバイナリパッケージを入手しインストールして下さい。<br>
(例えば、<a href="https://slproweb.com/products/Win32OpenSSL.html" target="_blank" rel="noopener noreferrer">Shining Light Productions</a>の<strong>Win64 OpenSSL v1.1.1q Light</strong>)</p><p>PowerShellから使用するためには、<strong>Path 環境変数</strong>の設定が必要となります。<br>
PCの<strong>システム⇒システムの詳細設定⇒環境変数(N)</strong>タブの<strong>システム環境変数(S)</strong>ペインから<strong>Path 環境変数</strong>に OpenSSLがインストールされたパス(<strong>C:\OpenSSL-Win64\bin</strong>等)を設定して下さい。</p><p>また、OpenSSL を使用するためには、OpenSSLの設定ファイル(openssl.cnf)が必要となります。<br>
openssl.cnf が置かれるフォルダ(パス名)はバイナリーパッケージによって異なり、パッケージに含まれていない場合もあります。<br>
パッケージに含まれていない場合は、<a href="https://github.com/openssl/openssl/blob/master/apps/openssl.cnf" target="_blank" rel="noopener noreferrer">このファイル</a>をダウンロードし、<strong>C:\OpenSSL-Win64\openssl.cnf</strong> 等にコピーして置いて下さい。<br>
openssl.cnf のパス名(インストール先）は、<a href="#2-2-3">2-2-3項</a>で環境変数 OPENSSL_CONF に設定しますので確認しておいて下さい。</p><p>なお、openssl.cnf は証明書を作成する際のデフォルト値などが記載されています。<br>
実運用で使用する際には166～191行目前後に記載されている次のパラメタを予め運用に即した値に変更しておくと便利です。</p><h5><a aria-hidden="true" tabindex="-1" class="anchor" id="変更すべきパラメタ"></a>変更すべきパラメタ<a aria-hidden="true" class="hash-link" href="#変更すべきパラメタ" title="Direct link to heading">#</a></h5><ul><li>countryName</li><li>stateOrProvinceName</li><li>localityName</li><li>0.organizationName</li><li>organizationalUnitName</li><li>emailAddress</li></ul><span id="openssl.cnf"></span><h5><a aria-hidden="true" tabindex="-1" class="anchor" id="opensslcnf-の166～191行目"></a>openssl.cnf の166～191行目<a aria-hidden="true" class="hash-link" href="#opensslcnf-の166～191行目" title="Direct link to heading">#</a></h5><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">[ req_distinguished_name ]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">countryName         = Country Name (2 letter code)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">countryName_default     = AU</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">countryName_min         = 2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">countryName_max         = 2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">stateOrProvinceName     = State or Province Name (full name)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">stateOrProvinceName_default = Some-State</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">localityName            = Locality Name (eg, city)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">0.organizationName      = Organization Name (eg, company)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">0.organizationName_default  = Internet Widgits Pty Ltd</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># we can do this but it is not needed normally :-)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">#1.organizationName     = Second Organization Name (eg, company)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">#1.organizationName_default = World Wide Web Pty Ltd</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">organizationalUnitName      = Organizational Unit Name (eg, section)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">#organizationalUnitName_default =</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">commonName          = Common Name (e.g. server FQDN or YOUR name)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">commonName_max          = 64</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">emailAddress            = Email Address</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">emailAddress_max        = 64</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="2-2-2-作業用ディレクトの作成"></a>2-2-2. 作業用ディレクトの作成<a aria-hidden="true" class="hash-link" href="#2-2-2-作業用ディレクトの作成" title="Direct link to heading">#</a></h4><p>OpenSSL のインストールが完了したら、PowerShell を管理者権限で立ち上げ作業用ディレクトリを作成します。</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">PS C:\Users\user&gt; mkdir iothub-cert</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">PS C:\Users\user&gt; cd iothub-cert</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><span id="2-2-3"></span><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="2-2-3-環境変数-openssl_conf-の設定"></a>2-2-3. 環境変数 OPENSSL_CONF の設定<a aria-hidden="true" class="hash-link" href="#2-2-3-環境変数-openssl_conf-の設定" title="Direct link to heading">#</a></h4><p>OpenSSL の設定ファイルのパス名を環境変数に設定します。</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">PS C:\Users\user\iothub-cert&gt; $env:OPENSSL_CONF=&quot;C:\OpenSSL-Win64\openssl.cnf&quot;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>パス名は、インストールしたパッケージによって異なりますので注意して下さい。</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="2-2-4-ca-certsps1-スクリプトの入手"></a>2-2-4. ca-certs.ps1 スクリプトの入手<a aria-hidden="true" class="hash-link" href="#2-2-4-ca-certsps1-スクリプトの入手" title="Direct link to heading">#</a></h4><p><a href="https://github.com/Azure/azure-iot-sdk-c/blob/main/tools/CACertificates/" target="_blank" rel="noopener noreferrer">https://github.com/Azure/azure-iot-sdk-c/blob/main/tools/CACertificates/</a> より次のPoewrShellスクリプトを入手し、作成した作業ディレクトリに置きます。</p><ul><li><a href="https://github.com/Azure/azure-iot-sdk-c/blob/main/tools/CACertificates/ca-certs.ps1" target="_blank" rel="noopener noreferrer">ca-certs.ps1</a></li></ul><p><code>Copy raw contents</code>アイコンをクリックしてクリックボードにコピーし、メモ帳(notepad.exe)等にペーストすると良いでしょう。</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="2-2-5-スクリプトの実行を許可"></a>2-2-5. スクリプトの実行を許可<a aria-hidden="true" class="hash-link" href="#2-2-5-スクリプトの実行を許可" title="Direct link to heading">#</a></h4><p>PowerShellでスクリプトの実行を許可するため次のコマンドを実行します。</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">PS C:\Users\user&gt; Set-ExecutionPolicy -ExecutionPolicy Unrestricted</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="2-2-6-ca-certsps1-スクリプトの実行-証明書作成ファンクションのロード"></a>2-2-6. ca-certs.ps1 スクリプトの実行 (証明書作成ファンクションのロード)<a aria-hidden="true" class="hash-link" href="#2-2-6-ca-certsps1-スクリプトの実行-証明書作成ファンクションのロード" title="Direct link to heading">#</a></h4><p><strong>ca-certs.ps1</strong> スクリプトを実行し、証明書を作成するためのファンクションをロードします。</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">PS C:\Users\user\iothub-cert&gt; . .\ca-certs.ps1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">警告: This script is provided for prototyping only.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">警告: DO NOT USE CERTIFICATES FROM THIS SCRIPT FOR PRODUCTION!</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>警告メッセージにある通り、このスクリプトで作成される証明書は試験用のものです。
実運用には、使用しないで下さい。  </p><p>実運用に用いる証明書を作成する場合は、<a href="#2-2-1">2-2-1項目</a>に示す<a href="#openssl.cnf">openssl.cnfの166～191行目</a>と以下に示す<strong>ca-certs.ps1</strong> の15～18行目にある次のパラメタを変更して下さい。</p><h5><a aria-hidden="true" tabindex="-1" class="anchor" id="変更すべきパラメタ-1"></a>変更すべきパラメタ<a aria-hidden="true" class="hash-link" href="#変更すべきパラメタ-1" title="Direct link to heading">#</a></h5><ul><li>$_rootCertCommonName</li><li>$_intermediateCertCommonName</li></ul><h5><a aria-hidden="true" tabindex="-1" class="anchor" id="ca-certsps1-の15～18行目"></a>ca-certs.ps1 の15～18行目<a aria-hidden="true" class="hash-link" href="#ca-certsps1-の15～18行目" title="Direct link to heading">#</a></h5><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$_rootCertCommonName      = &quot;Azure IoT CA TestOnly Root CA&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$_rootCertSubject         = &quot;CN=$_rootCertCommonName&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$_intermediateCertCommonName = &quot;Azure IoT CA TestOnly Intermediate {0} CA&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$_intermediateCertSubject    = &quot;CN=$_intermediateCertCommonName&quot;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="2-2-7-test-cacertsprerequisites-ファンクションの実行-証明書作成環境の確認"></a>2-2-7. Test-CACertsPrerequisites ファンクションの実行 (証明書作成環境の確認)<a aria-hidden="true" class="hash-link" href="#2-2-7-test-cacertsprerequisites-ファンクションの実行-証明書作成環境の確認" title="Direct link to heading">#</a></h4><p><strong>ca-certs.ps1</strong> スクリプトの実行により読み込まれた <strong>Test-CACertsPrerequisites</strong> ファンクションを実行し、証明書を作成する環境が整っているか確認します。</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">PS C:\Users\user\iothub-cert&gt; Test-CACertsPrerequisites</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Testing if any test certificates have already been installed...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Ok.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Testing if openssl.exe is set in PATH...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Ok.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Testing if environment variable OPENSSL_CONF is set...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Ok.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Success</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>証明書を作成する環境か正常に準備されていれば、上記のように表示されます。  </p><p><strong>Test-CACertNotInstalledAlready : </strong> のエラーが返る場合は、PowerShellに<strong>certlm</strong>(または、スタートメニューから<strong>certlm.msc</strong>)と入力し
<strong>ローカルコンピュータの証明書</strong>ストアを開き、<strong>個人⇒証明書</strong>、<strong>信頼されたルート証明機関⇒証明書</strong>、<strong>中間証明期間⇒証明書</strong> の各ペインから、<strong>Azure IoT CA TestOnly Root CA</strong> と表記される証明書を削除します。<br>
なお、<strong>certlm</strong> とは別に<strong>証明書・現在のユーザー</strong>ストアを管理する<strong>certmgr</strong>というツールがありますが、<strong>個人⇒証明書</strong>ペインに<strong>Azure IoT CA TestOnly Root CA</strong>の証明書が表示されず、削除することができませんので注意して下さい。</p><p>その他のエラーメッセージが返される場合は、ここまでに手順を見直して下さい。</p><span id="2-2-8"></span><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="2-2-8-new-cacertscertchain-ファンクションの実行（x509-ca-証明書の作成"></a>2-2-8. New-CACertsCertChain ファンクションの実行（X.509 CA 証明書の作成)<a aria-hidden="true" class="hash-link" href="#2-2-8-new-cacertscertchain-ファンクションの実行（x509-ca-証明書の作成" title="Direct link to heading">#</a></h4><p><strong>ca-certs.ps1</strong> スクリプトの実行により読み込まれた<strong>New-CACertsCertChain</strong>ファンクションを実行し<strong>X.509 CA 証明書</strong>を作成します。<br>
ここで、<strong>New-CACertsCertChain</strong>ファンクションのコマンドライン引数として<strong>ecc</strong>を与えて下さい。</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">PS C:\Users\user\iothub-cert&gt; New-CACertsCertChain ecc</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Beginning to install certificate chain to your LocalMachine\My store</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Testing if any test certificates have already been installed...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Ok.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">警告: Generating certificate CN=Azure IoT CA TestOnly Root CA which is for prototyping, NOT PRODUCTION.  It has a　hard-coded password and will expire in 30 days.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">              :</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          以下省略</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p><strong>New-CACertsCertChain</strong> ファンクションの実行により作業用ディレクトリには次の6つのファイルが作成されます。 </p><ul><li>algorithmUsed.txt</li><li>Intermediate1.pem</li><li>Intermediate2.pem</li><li>Intermediate3.pem</li><li>RootCA.cer</li><li>RootCA.pem　（X.509 CA 証明書)</li></ul><p>ここで作成されるファイルの名称は<strong>RootCA.pem</strong>ですが、<strong>X.509 ルート証明書</strong>ではなく<strong>X.509 CA 証明書</strong>である点に注意して下さい。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="2-3-x509-ca-証明書の登録"></a>2-3. X.509 CA 証明書の登録<a aria-hidden="true" class="hash-link" href="#2-3-x509-ca-証明書の登録" title="Direct link to heading">#</a></h3><p>作成した X.509 CA 証明書を IoT ハブに登録します。</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="2-3-1-ph-fx1--証明書-画面へのアクセス"></a>2-3-1. ph-fx1 | 証明書 画面へのアクセス<a aria-hidden="true" class="hash-link" href="#2-3-1-ph-fx1--証明書-画面へのアクセス" title="Direct link to heading">#</a></h4><p>IoTハブにX.509 CA 証明書を登録する作成する<strong>証明書</strong>画面へのアクセス方法を説明します。</p><p><a href="https://portal.azure.com/#home" target="_blank" rel="noopener noreferrer">Azure Portal</a>へサインインするか、画面左上の<strong>ホーム</strong>をクリックしてポータルサイト画面を表示させます。</p><p><img alt="Azure portal" src="/assets/images/home2-a3b51ca08ab16caba3d2f88a7469a9f2.png"></p><p>ポータルサイト画面の<strong>リソース</strong>一覧の<strong>ph-fx1</strong>アイコンをクリックします。<br>
ここで、<strong>ph-fx1</strong>は、<a href="#1-2">1-2項目</a>で設定したIoT Hub名です。</p><p><img alt="ph-fx1-1" src="/assets/images/ph-fx1-1-f43bc16fddc7477e1794b9fc34847da9.png"></p><p><strong>ph-fx1</strong>画面が表示されます。</p><p><img alt="ph-fx1-1" src="/assets/images/ph-fx1-2-741e07925265f67a0845044452b1c13a.png"></p><p><strong>ph-fx1</strong>画面左のメニューバーを下にスクロールし<strong>セキュリティ設定</strong>ペインの<strong>証明書</strong>をクリックします。</p><p><img alt="ph-fx1-1" src="/assets/images/ph-fx1-3-51d9260bdcbd4cabac20a38c2bc3db39.png"></p><p><strong>ph-fx1 | 証明書</strong>画面が表示されます。 </p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="2-3-1-x509-ca-証明書の登録"></a>2-3-1. X.509 CA 証明書の登録<a aria-hidden="true" class="hash-link" href="#2-3-1-x509-ca-証明書の登録" title="Direct link to heading">#</a></h4><p><strong>ph-fx1 | 証明書</strong>画面にて<strong>ph-fx1⇒ph-fx1</strong>画面左の <strong>＋追加</strong> をクリックします。<br>
<strong>証明書の追加</strong>画面がポップアップされます。</p><p><img alt="ph-fx1-1" src="/assets/images/ph-fx1-4-0a31bd6288455b18036379348cdf190e.png"></p><ol><li><strong>証明書名</strong>フィールドには、同一ハブ内で重複しない適当な文字列を入力して下さい。<br>チュートリアルでは<strong>pf-fx1-RootCA</strong>としています。</li><li><strong>.pemまたは.cer</strong>フィールドでは、<a href="#2-2-8">2-2-8項</a>で作成した C:\Users\user\iothub-cert\RootCA.pem を選択しアップロードします。</li><li><strong>アップロード時に証明書の状態を確認済みに設定する。</strong>チェックボックスは、未チェツクのままとします。</li><li>設定を終えたら<code>保存</code>をクリックします。</li></ol><p><img alt="ph-fx1-1" src="/assets/images/ph-fx1-5-0b92bddf1c10cd561b3ade75765536f7.png"></p><p><strong>ph-fx1 | 証明書</strong>画面に追加した証明書名<strong>pf-fx1-RootCA</strong>が表示されます。<br>
ここの段階では<strong>状態</strong>が<strong>未検証</strong>となっています。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="2-4-x509-ca-証明書の検証"></a>2-4. X.509 CA 証明書の検証<a aria-hidden="true" class="hash-link" href="#2-4-x509-ca-証明書の検証" title="Direct link to heading">#</a></h3><p>アップロードした X.509 CA 証明書の検証を行います。  </p><p>検証作業は次の流れとなります。</p><ol><li><strong>証明書 ph-fx1-RootCA</strong>画面で<strong>確認コード</strong>を作成します。</li><li>作成した<strong>確認コード</strong>を用いPowerShellにて検証証明書<strong>verifyCert4.cer</strong>を作成します。</li><li>作成した<strong>verifyCert4.cer</strong>を<strong>証明書 ph-fx1-RootCA</strong>にアップロードし検証を行います。</li></ol><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="2-4-1-確認コードの作成"></a>2-4-1. 確認コードの作成<a aria-hidden="true" class="hash-link" href="#2-4-1-確認コードの作成" title="Direct link to heading">#</a></h4><p><strong>証明書 ph-fx1-RootCA</strong>画面で<strong>確認コード</strong>を作成します。</p><p><strong>ph-fx1 | 証明書</strong>画面にて<strong>pf-fx1-RootCA</strong>をクリックします。  </p><p><img alt="ph-fx1-1" src="/assets/images/ph-fx1-6-b67056bd675f8ed1bd96a80e7267df09.png"></p><p><strong>証明書 f-fx1-RootCA</strong>画面がポップアップされます。</p><p><code>確認コード作成する</code>をクリックすると<strong>確認コード</strong>が作成されます。</p><p><img alt="ph-fx1-1" src="/assets/images/ph-fx1-7-6fc2a1c27c8610b9cbc252ba6fea12ff.png"></p><p><strong>確認コード</strong>の<strong>クリックボートにコピーする</strong>アイコンをクリックし<strong>確認コード</strong>をクリックボートにコピーします。</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="2-4-2-検証証明書-verifycert4cer-の作成"></a>2-4-2. 検証証明書 verifyCert4.cer の作成<a aria-hidden="true" class="hash-link" href="#2-4-2-検証証明書-verifycert4cer-の作成" title="Direct link to heading">#</a></h4><p>クリックボートにコピーした<strong>確認コード</strong>を用いて検証証明書<strong>verifyCert4.cer</strong>を作成します。<br>
<a href="#2-2-8">2-2-8項</a>のPowerShellにて<strong>確認コード</strong>を引き数として<strong>New-CACertsVerificationCert</strong>ファンクションを実行します。
検証証明書<strong>verifyCert4.cer</strong>を作成します。</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">PS C:\Users\user\iothub-cert&gt; New-CACertsVerificationCert 01EEBFA3CA174DF5D255C74D1109C5D1FA89136613E91DA4</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Using Signing Cert:::</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[Subject]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  CN=Azure IoT CA TestOnly Root CA</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[Issuer]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  CN=Azure IoT CA TestOnly Root CA</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[Serial Number]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  139F7231154D4E8940C5462877702F36</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[Not Before]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  2022/09/27 7:49:30</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[Not After]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  2022/10/27 7:59:31</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[Thumbprint]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  D8376D3AE6D25D187AB870631C537D721AB4083A</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">警告: Generating certificate CN=F441244B68C718CE3794A30BA75D10076012574461E4C70B which is for prototyping, NOT</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">PRODUCTION.  It has a hard-coded password and will expire in 30 days.</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>検証証明書<strong>verifyCert4.cer</strong>が作成されます。</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="2-4-3-検証証明書-verifycert4cer-による検証"></a>2-4-3. 検証証明書 verifyCert4.cer による検証<a aria-hidden="true" class="hash-link" href="#2-4-3-検証証明書-verifycert4cer-による検証" title="Direct link to heading">#</a></h4><p>作成した<strong>verifyCert4.cer</strong>を<strong>証明書 ph-fx1-RootCA</strong>にアップロードし検証を行います。<br>
<strong>証明書 ph-fx1-RootCA</strong>画面の <strong>.pemまたは.cerの検証証明書</strong>にて C:\Users\user\iothub-cert\ をverifyCert4.cer 選択しアップロードします。</p><p><img alt="ph-fx1-1" src="/assets/images/ph-fx1-8-b695caa6e8db8760ab82854d860fff6f.png"></p><p><code>確認</code>をクリックするとX.509 CA証明書の検証が行われます。</p><p><img alt="ph-fx1-1" src="/assets/images/ph-fx1-9-3300390e6d1bb0985cfb99b1d6c694b8.png"></p><p>検証が完了すると<strong>証明書 ph-fx1-RootCA</strong>画面が閉じ、
<strong>ph-fx1 | 証明書</strong>画面の<strong>ph-fx1-RootCA</strong>の<strong>状態</strong>が<strong>確認済み</strong>となります。</p><span id="device"></span><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="3-デバイスの登録"></a>3. デバイスの登録<a aria-hidden="true" class="hash-link" href="#3-デバイスの登録" title="Direct link to heading">#</a></h2><p><a href="https://learn.microsoft.com/ja-jp/azure/iot-fundamentals/howto-use-iot-explorer" target="_blank" rel="noopener noreferrer">Azure IoT エクスプローラー</a>を用いてIoT Hubにデバイスを登録します。<br>
ここでは、次の3つの作業を行います。</p><ol><li>Azure IoT エクスプローラーを Windows PC にインストールします。</li><li>Azure IoT エクスプローラーが IoT Hub (<strong>ph-fx1</strong>)に接続するために必要となる接続文字列を取得します。</li><li>デバイスの登録を行います。<strong>対称キー</strong>を用いる場合と<strong>X.509 CA 証明書</strong>を用いる場合で手順が異なります。</li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="3-1-azure-iot-エクスプローラーのインストール"></a>3-1. Azure IoT エクスプローラーのインストール<a aria-hidden="true" class="hash-link" href="#3-1-azure-iot-エクスプローラーのインストール" title="Direct link to heading">#</a></h3><p>Azure IoT エクスプローラーを Windows PC にインストールします。</p><p><a href="https://github.com/Azure/azure-iot-explorer/releases" target="_blank" rel="noopener noreferrer">https://github.com/Azure/azure-iot-explorer/releases</a> から、最新バージョンをダウンロードしインストールします。</p><p><img alt="iot-explorer-release" src="/assets/images/iot-explorer-release-f977da64287328040b460f12c88f1923.png"></p><ol><li><strong>Azure.IoT.Explorer.Preview-0.15.0.msi</strong>をクリックしダウンロードします。</li><li>ダウンロードした<strong>Azure.IoT.Explorer.Preview-0.15.0.msi</strong>ファイルをダブルクリックしインストールします。</li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="3-2-接続文字列の取得"></a>3-2. 接続文字列の取得<a aria-hidden="true" class="hash-link" href="#3-2-接続文字列の取得" title="Direct link to heading">#</a></h3><p>Azure IoT エクスプローラーが IoT Hub (<strong>ph-fx1</strong>)に接続するために必要となる接続文字列を取得します。</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="3-2-1-ph-fx1--共有アクセス-ポリシー-画面へのアクセス"></a>3-2-1. ph-fx1 | 共有アクセス ポリシー 画面へのアクセス<a aria-hidden="true" class="hash-link" href="#3-2-1-ph-fx1--共有アクセス-ポリシー-画面へのアクセス" title="Direct link to heading">#</a></h4><p>接続文字列を取得する<strong>共有アクセス ポリシー</strong>画面へのアクセス方法を説明します。</p><p><a href="https://portal.azure.com/#home" target="_blank" rel="noopener noreferrer">Azure Portal</a>へサインインするか、画面左上の<strong>ホーム</strong>をクリックしてポータルサイト画面を表示させます。</p><p><img alt="Azure portal" src="/assets/images/home2-a3b51ca08ab16caba3d2f88a7469a9f2.png"></p><p>ポータルサイト画面の<strong>リソース</strong>一覧の<strong>ph-fx1</strong>アイコンをクリックします。<br>
ここで、<strong>ph-fx1</strong>は、<a href="#1-2">1-2項</a>で設定したIoT Hub名です。</p><p><img alt="ph-fx1-1" src="/assets/images/ph-fx1-1-f43bc16fddc7477e1794b9fc34847da9.png"></p><p><strong>ph-fx1</strong>画面が表示されます。</p><p><img alt="ph-fx1-1" src="/assets/images/ph-fx1-10-d9efa0ea0160de2351b8da72e5813930.png"></p><p><strong>ph-fx1</strong>画面左のメニューバーを下にスクロールし<strong>セキュリティ設定</strong>ペインの<strong>共有アクセス ポリシー</strong>をクリックします。</p><p><img alt="ph-fx1-1" src="/assets/images/ph-fx1-11-b581450fa6644e7b64e65330c7ff12fc.png"></p><p><strong>ph-fx1 | 共有アクセス ポリシー</strong>画面が表示されます。 </p><span id="3-2-2"></span><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="3-2-2-接続文字列の取得"></a>3-2-2. 接続文字列の取得<a aria-hidden="true" class="hash-link" href="#3-2-2-接続文字列の取得" title="Direct link to heading">#</a></h4><p><strong>ph-fx1 | 共有アクセス ポリシー</strong>画面の<strong>共有アクセス ポリシーの管理</strong>ペインの<strong>iothubowner</strong> をクリックします。<br>
<strong>iothubowner</strong>画面がポップアップされます。</p><p><img alt="共有アクセス ポリシー" src="/assets/images/iothubowner-7850a995277219751d5d6267e1db0aa3.png"></p><p><strong>プライマリ接続文字列</strong>の<strong>クリックボートにコピーする</strong>アイコンをクリックし<strong>プライマリ接続文字列</strong>をクリックボートにコピーします。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="3-3-デバイスの登録"></a>3-3. デバイスの登録<a aria-hidden="true" class="hash-link" href="#3-3-デバイスの登録" title="Direct link to heading">#</a></h3><p>Azure IoT エクスプローラーを起動しデバイスを登録します。</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="3-3-1-azure-iot-エクスプローラーの起動"></a>3-3-1. Azure IoT エクスプローラーの起動<a aria-hidden="true" class="hash-link" href="#3-3-1-azure-iot-エクスプローラーの起動" title="Direct link to heading">#</a></h4><p>Azure IoT エクスプローラーを起動します。<br>
Windows PC の<strong>スタートメニュー⇒すべてのアプリ⇒Azure IoT Explorer Preview</strong>をクリックしAzure IoT エクスプローラーを起動します。<br>
<strong>Home</strong>タブが表示されます。</p><p><img alt="iot-explorer-1" src="/assets/images/iot-explorer-1-18a97e99286fe862b98cef86aaf38186.png"></p><p><strong>Home</strong>タブにて<strong>Conection via IoT Hub connection string</strong>をクリックします。<br>
<strong>Home &gt; IoT hubs</strong>タブが表示されます。</p><p><img alt="iot-explorer-2" src="/assets/images/iot-explorer-2-a6100ebcd729b07284316f30b954ee56.png"></p><p>誤って<strong>Connection via Azure Active Directory</strong>をクリックしてしまった場合は、<strong>Switch authentication method</strong>をクリックすることで<strong>*Home</strong>タブに戻ることができます。</p><span id="3-3-2"></span><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="3-3-2-接続文字列の設定"></a>3-3-2. 接続文字列の設定<a aria-hidden="true" class="hash-link" href="#3-3-2-接続文字列の設定" title="Direct link to heading">#</a></h4><p><strong>Home &gt; IoT hubs</strong>タブにて <strong>+Add connection</strong>をクリックします。<br>
<strong>Add connection string</strong>画面がポップアップされます。</p><p><img alt="iot-explorer-3" src="/assets/images/iot-explorer-3-a60c4bde50dad0e4167426c30063ee46.png"></p><p><strong>Connection string</strong>フィールドに<a href="#3-3-2">3-3-2項</a>でクリックボートにコピーした<strong>プライマリ接続文字列</strong>をペースト(Ctrl+v)します。<br>
<strong>Add connection string</strong>画面に<strong>Host name</strong>, <strong>Shard access policy name</strong>, <strong>Shard access policy key</strong>が表示されます。</p><p><img alt="iot-explorer-4" src="/assets/images/iot-explorer-4-84c7e87e6af72e3a385a83be86359fe4.png"></p><p><strong>ph-fx1</strong>に設定されている情報と齟齬が無いか確認し<strong>Save</strong>をクリックします。<br>
<strong>Home &gt; IoT hubs　&gt; Device</strong>タブが表示されます。</p><p><img alt="iot-explorer-5" src="/assets/images/iot-explorer-5-4b276e8da4d435e06407cd6fd9c6609d.png"></p><span id="3-3-3"></span><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="3-3-3-デバイスの登録（対称キー）"></a>3-3-3. デバイスの登録（対称キー）<a aria-hidden="true" class="hash-link" href="#3-3-3-デバイスの登録（対称キー）" title="Direct link to heading">#</a></h4><p>IoT Hubに接続するための認証に<strong>対称キー</strong>を用いる方式を使用するデバイスの登録方法を説明します。<br>
<strong>X.509 CA 証明書</strong>を用いる場合、このステップは不要です。  </p><p><strong>Home &gt; IoT hubs　&gt; Device</strong>タブにて<strong>+ New</strong>アイコンをクリックします。<br>
<strong>Home &gt; IoT hubs　&gt; Device &gt; Create new identity</strong>タブが表示されます。</p><p><img alt="iot-explorer-6" src="/assets/images/iot-explorer-6-d6174d35035471cccf1e539db02d0e1a.png"></p><ol><li><strong>Device ID</strong>フィールドにデバイスのIDを入力します。チュートリアルでは<strong>et9ocs-1</strong>としています。</li><li><strong>Authentication type</strong>ラジオボタンは、<strong>Symmetric key</strong>を選択します。</li><li><strong>Auto-generate keys</strong>チェックボックスはチェックをいれます。</li><li><strong>Connect this device to IoT hub</strong>は、<strong>enable</strong>を選択します。</li><li>設定を終え左上の<strong>Create</strong>アイコンをクリックします。</li></ol><p><strong>Home &gt; IoT hubs　&gt; Device &gt; et9ocs-1 &gt; Device identity</strong>タブが表示されます。</p><p><img alt="iot-explorer-7" src="/assets/images/iot-explorer-7-ef7903449b6db40b73a3006d37fe3290.png"></p><p><strong>Device ID</strong>, <strong>Primary key</strong> が、OpenBlocksに設定するパラメタとなります。</p><span id="3-3-4"></span><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="3-3-4-デバイスの登録（x509-ca-証明書）"></a>3-3-4. デバイスの登録（X.509 CA 証明書）<a aria-hidden="true" class="hash-link" href="#3-3-4-デバイスの登録（x509-ca-証明書）" title="Direct link to heading">#</a></h4><p>IoT Hubに接続するための認証に<strong>X.509 CA 証明書</strong>を用いる方式を使用するデバイスの登録方法を説明します。<br>
<strong>対称キー</strong>を用いる場合、このステップは不要です。  </p><p><strong>Home &gt; IoT hubs　&gt; Device</strong>タブにて<strong>+ New</strong>アイコンをクリックします。<br>
<strong>Home &gt; IoT hubs　&gt; Device &gt; Create new identity**</strong>タブが表示されます。</p><p><img alt="iot-explorer-8" src="/assets/images/iot-explorer-8-3ebe6e4d2fd443006befa52979dbdb23.png"></p><ol><li><strong>Device ID</strong>フィールドにデバイスのIDを入力します。チュートリアルでは<strong>et9ocs-x509-1</strong>としています。</li><li><strong>Authentication type</strong>ラジオボタンは、<strong>X.509 CA signed</strong>を選択します。</li><li><strong>Connect this device to IoT hub</strong>は、<strong>enable</strong>を選択します。</li><li>設定を終えたら左上の<strong>Create</strong>アイコンをクリックします。</li></ol><p><strong>Home &gt; IoT hubs　&gt; Device &gt; et9ocs-x509-1 &gt; Device identity</strong>タブが表示されます。</p><p><img alt="iot-explorer-8" src="/assets/images/iot-explorer-9-045575c77e6cb4ac5cf0f1fcb02aba29.png"></p><h5><a aria-hidden="true" tabindex="-1" class="anchor" id="デバイス証明書とプライベートキーの作成"></a>デバイス証明書とプライベートキーの作成<a aria-hidden="true" class="hash-link" href="#デバイス証明書とプライベートキーの作成" title="Direct link to heading">#</a></h5><p>登録した<strong>Device ID</strong>(<strong>et9ocs-x509-1</strong>)のデバイス証明書とそのプライベートキーを作成します。  </p><p><a href="#2-2-8">2-2-8項</a>のPowerShellにて<a href="#3-3-4">3-3-4項</a>で登録した<strong>*Device ID</strong>(<strong>et9ocs-x509-1</strong>)を引き数として<strong>New-CACertsDevice</strong>ファンクションを実行します。</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">PS C:\Users\user\iothub-cert&gt; New-CACertsDevice et9ocs-x509-1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">コマンド パイプライン位置 1 のコマンドレット New-CACertsDevice</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">次のパラメーターに値を指定してください:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">certPassword: **********</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">警告: Generating certificate CN=et9ocs-x509-1 which is for prototyping, NOT PRODUCTION.  It has a hard-coded password</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">and will expire in 30 days.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ディレクトリ: C:\Users\kanoh\iothub-cert</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Mode                 LastWriteTime         Length Name</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">----                 -------------         ------ ----</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-a----        2022/09/28     11:19           1802 et9ocs-x509-1.pfx</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Enter Import Password:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">read EC key</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">writing EC key</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Certificate with subject CN=et9ocs-x509-1 has been output to C:\Users\user\iothub-cert\.\et9ocs-x509-1-public.pem</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><ol><li><strong>New-CACertsDevice et9ocs-x509-1</strong>を実行すると<strong>certPassword:</strong>プロンプトが表示され処理がサスペンドします。
適当なパスフレーズを入力します。</li><li><strong>certPassword:</strong>プロンプトに適当なパスフレーズを入力すると処理が再開し、<strong>Enter Import Password:</strong>プロンプトが表示され再びサスペンドします。
1項で入力したパスフレーズを入力します。  </li></ol><p>次のファイルが作成されます。  </p><ul><li>et9ocs-x509-1-all.pem</li><li>et9ocs-x509-1-private.pem　(デバイス証明書のプライベートキー)</li><li>et9ocs-x509-1-public.pem　（デバイス証明書）</li><li>et9ocs-x509-1.pfx</li></ul></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/openblocks/fw5/tutorial/iothub/preface"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« はじめに</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/openblocks/fw5/tutorial/iothub/openblocks_iot"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">OpenBlocks IoTの設定 »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_ thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#0-はじめに" class="table-of-contents__link">0. はじめに</a></li><li><a href="#1-iot-hub-リソースの作成" class="table-of-contents__link">1. IoT Hub リソースの作成</a><ul><li><a href="#1-1-iot-ハブ画面へのアクセス" class="table-of-contents__link">1-1. IoT ハブ画面へのアクセス</a></li><li><a href="#1-2-iotハブ⇒基本-タブにおける設定" class="table-of-contents__link">1-2. IoTハブ⇒基本 タブにおける設定</a></li><li><a href="#1-3-iotハブ⇒ネットワーク-タブにおける設定" class="table-of-contents__link">1-3. IoTハブ⇒ネットワーク タブにおける設定</a></li><li><a href="#1-4-iotハブ⇒管理-タブにおける設定" class="table-of-contents__link">1-4. IoTハブ⇒管理 タブにおける設定</a></li><li><a href="#1-5-iotハブ⇒タグ-タブにおける設定" class="table-of-contents__link">1-5. IoTハブ⇒タグ タブにおける設定</a></li><li><a href="#1-6-iotハブ⇒確認および作成-タブにおける確認" class="table-of-contents__link">1-6. IoTハブ⇒確認および作成 タブにおける確認</a></li><li><a href="#1-7-デプロイの完了" class="table-of-contents__link">1-7. デプロイの完了</a></li></ul></li><li><a href="#2-x509-ca-証明書の準備" class="table-of-contents__link">2. X.509 CA 証明書の準備</a><ul><li><a href="#2-1-x509-ルート証明書の取得" class="table-of-contents__link">2-1. X.509 ルート証明書の取得</a></li><li><a href="#2-2-x509-ca-証明書の作成" class="table-of-contents__link">2-2. X.509 CA 証明書の作成</a></li><li><a href="#2-3-x509-ca-証明書の登録" class="table-of-contents__link">2-3. X.509 CA 証明書の登録</a></li><li><a href="#2-4-x509-ca-証明書の検証" class="table-of-contents__link">2-4. X.509 CA 証明書の検証</a></li></ul></li><li><a href="#3-デバイスの登録" class="table-of-contents__link">3. デバイスの登録</a><ul><li><a href="#3-1-azure-iot-エクスプローラーのインストール" class="table-of-contents__link">3-1. Azure IoT エクスプローラーのインストール</a></li><li><a href="#3-2-接続文字列の取得" class="table-of-contents__link">3-2. 接続文字列の取得</a></li><li><a href="#3-3-デバイスの登録" class="table-of-contents__link">3-3. デバイスの登録</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">製品情報</h4><ul class="footer__items"><li class="footer__item"><a href="https://www.plathome.co.jp/product/openblocks-iot/" target="_blank" rel="noopener noreferrer" class="footer__link-item">OpenBlocks IoT</a></li><li class="footer__item"><a href="https://www.plathome.co.jp/product/openblocks/" target="_blank" rel="noopener noreferrer" class="footer__link-item">OpenBlocks - MicroServer</a></li><li class="footer__item"><a href="https://www.plathome.co.jp/product/easyblocks/" target="_blank" rel="noopener noreferrer" class="footer__link-item">EasyBlocksシリーズ</a></li><li class="footer__item"><a href="https://www.plathome.co.jp/product/airmanage2/" target="_blank" rel="noopener noreferrer" class="footer__link-item">AirManage2</a></li><li class="footer__item"><a href="https://www.plathome.co.jp/product/openblocks-idm/" target="_blank" rel="noopener noreferrer" class="footer__link-item">OpenBlocks IDMシリーズ</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">SNS</h4><ul class="footer__items"><li class="footer__item"><a href="https://www.facebook.com/plathome.co.jp/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Facebook</a></li><li class="footer__item"><a href="https://x.com/openblocks" target="_blank" rel="noopener noreferrer" class="footer__link-item">X - OpenBlocks</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">サポート</h4><ul class="footer__items"><li class="footer__item"><a href="https://www.plathome.co.jp/contact/" target="_blank" rel="noopener noreferrer" class="footer__link-item">お問い合わせ</a></li><li class="footer__item"><a href="https://kb.plathome.co.jp/knowledge/" target="_blank" rel="noopener noreferrer" class="footer__link-item">FAQ</a></li></ul></div></div><div class="text--center"><div>Copyright © 2020 - 2025 Plat'Home Co., Ltd. All rights reserved.</div></div></div></footer></div>
<script src="/styles.c6d5988d.js"></script>
<script src="/runtime~main.3c6ecc41.js"></script>
<script src="/main.40f297ea.js"></script>
<script src="/1.7d91b6d9.js"></script>
<script src="/1a4e3797.96891e2b.js"></script>
<script src="/1be78505.6b22e6e7.js"></script>
<script src="/c4f5d8e4.e3deaf6d.js"></script>
<script src="/423.bf325f44.js"></script>
<script src="/422.7c8e2ca8.js"></script>
<script src="/935f2afb.c062de1d.js"></script>
<script src="/421.015e3d13.js"></script>
<script src="/e431d805.63869791.js"></script>
</body>
</html>