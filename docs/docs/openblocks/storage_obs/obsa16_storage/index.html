<!doctype html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.68">
<title data-react-helmet="true">OpenBlocks A16 Debian搭載モデル向け | ぷらっとホームどきゅめんと</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_language" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="OpenBlocks A16 Debian搭載モデル向け | ぷらっとホームどきゅめんと"><meta data-react-helmet="true" name="description" content="OpenBlocks A16 Debian搭載モデル向けの専用ドキュメントです。"><meta data-react-helmet="true" property="og:description" content="OpenBlocks A16 Debian搭載モデル向けの専用ドキュメントです。"><meta data-react-helmet="true" name="keywords" content="docs,OpenBlocks,AirManage,eMMC,M.2,SSD,ぷらっとホーム,Plat Home,A16,Debian"><meta data-react-helmet="true" property="og:url" content="https://docs.plathome.co.jp/docs/openblocks/storage_obs/obsa16_storage"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://docs.plathome.co.jp/docs/openblocks/storage_obs/obsa16_storage"><link rel="stylesheet" href="/styles.6a7f28c3.css">
<link rel="preload" href="/styles.7630729b.js" as="script">
<link rel="preload" href="/runtime~main.27e8bd9f.js" as="script">
<link rel="preload" href="/main.dae19bd5.js" as="script">
<link rel="preload" href="/1.85287835.js" as="script">
<link rel="preload" href="/1a4e3797.c182544c.js" as="script">
<link rel="preload" href="/1be78505.7feef516.js" as="script">
<link rel="preload" href="/c4f5d8e4.34032dd6.js" as="script">
<link rel="preload" href="/367.97ec693f.js" as="script">
<link rel="preload" href="/366.3e9fc503.js" as="script">
<link rel="preload" href="/935f2afb.ff2cd950.js" as="script">
<link rel="preload" href="/365.49a4cf03.js" as="script">
<link rel="preload" href="/aba92b8e.bd69058c.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_2AhQ">Skip to main content</button></nav><nav class="navbar navbar--fixed-top navbarHideable_3046 navbarHidden_1Uo_"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img src="/img/logo_plathome_white.png" alt="ぷらっとホーム" class="themedImage_2E_h themedImage--light_AouX navbar__logo"><img src="/img/logo_plathome_white.png" alt="ぷらっとホーム" class="themedImage_2E_h themedImage--dark_1YPN navbar__logo"><strong class="navbar__title">ぷらっとホームどきゅめんと</strong></a><a class="navbar__item navbar__link" href="/docs/">Docs</a><a target="_self" rel="noopener noreferrer" class="navbar__item navbar__link" href="/search/">検索</a></div><div class="navbar__items navbar__items--right"><a href="https://www.plathome.co.jp/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">会社トップ</a><a href="https://www.plathome.co.jp/support/topix-software-update/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">アップデート情報</a><a href="https://kb.plathome.co.jp/knowledge/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">FAQ</a><a href="https://blog.plathome.co.jp/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">ブログ</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">🌞</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><div class="navbar__search searchBarContainer_1-U_"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_18Th searchBarLoadingRing_zYFK"><div></div><div></div><div></div><div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo_plathome_white.png" alt="ぷらっとホーム" class="themedImage_2E_h themedImage--light_AouX navbar__logo"><img src="/img/logo_plathome_white.png" alt="ぷらっとホーム" class="themedImage_2E_h themedImage--dark_1YPN navbar__logo"><strong class="navbar__title">ぷらっとホームどきゅめんと</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/">Docs</a></li><li class="menu__list-item"><a target="_self" rel="noopener noreferrer" class="menu__link" href="/search/">検索</a></li><li class="menu__list-item"><a href="https://www.plathome.co.jp/" target="_blank" rel="noopener noreferrer" class="menu__link">会社トップ</a></li><li class="menu__list-item"><a href="https://www.plathome.co.jp/support/topix-software-update/" target="_blank" rel="noopener noreferrer" class="menu__link">アップデート情報</a></li><li class="menu__list-item"><a href="https://kb.plathome.co.jp/knowledge/" target="_blank" rel="noopener noreferrer" class="menu__link">FAQ</a></li><li class="menu__list-item"><a href="https://blog.plathome.co.jp/" target="_blank" rel="noopener noreferrer" class="menu__link">ブログ</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_39qw"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">OpenBlocks A16 Debian搭載モデル向け</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="製品型番"></a>製品型番<a aria-hidden="true" class="hash-link" href="#製品型番" title="Direct link to heading">#</a></h2><table><thead><tr><th>型番</th><th>備考</th></tr></thead><tbody><tr><td>OBSA16/DnA</td><td>AirManage Agent搭載版のOpenBlocks A16 Debian搭載モデル</td></tr><tr><td>OBSA16/Dn</td><td>AirManage Agent非搭載のOpenBlocks A16 Debian搭載モデル</td></tr></tbody></table><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>型番のnはDebianのメジャーバージョンを数字で表します。<br>
Debian 11のAirManage Agent搭載版のOpenBlocks A16はOBSA16/D11Aとなります。</p></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="出荷時情報設定"></a>出荷時情報設定<a aria-hidden="true" class="hash-link" href="#出荷時情報設定" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="シリアルコンソール管理者ユーザ"></a>シリアルコンソール管理者ユーザ<a aria-hidden="true" class="hash-link" href="#シリアルコンソール管理者ユーザ" title="Direct link to heading">#</a></h3><table><thead><tr><th>項目</th><th>値</th><th>備考</th></tr></thead><tbody><tr><td>ユーザ名</td><td>root</td><td></td></tr><tr><td>パスワード</td><td>0BS@lb</td><td>1文字目は数字の「0」、5文字目はアルファベットの「l」。<br>KERNELのバージョンが5.4.47-5までのパスワードは root となります。</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="airmanage用一般ユーザ"></a>AirManage用一般ユーザ<a aria-hidden="true" class="hash-link" href="#airmanage用一般ユーザ" title="Direct link to heading">#</a></h3><table><thead><tr><th>項目</th><th>値</th><th>備考</th></tr></thead><tbody><tr><td>ユーザ名</td><td>obsuser</td><td></td></tr><tr><td>パスワード</td><td>0penB1ox</td><td>1文字目は数字の「0」、5文字目は数字の「1」</td></tr></tbody></table><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>パスワードの変更を推奨いたします。</p></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="ホスト名"></a>ホスト名<a aria-hidden="true" class="hash-link" href="#ホスト名" title="Direct link to heading">#</a></h3><table><thead><tr><th>項目</th><th>値</th></tr></thead><tbody><tr><td>ホスト名</td><td>obsa16</td></tr><tr><td>ドメイン名</td><td>N/A</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="ipアドレス"></a>IPアドレス<a aria-hidden="true" class="hash-link" href="#ipアドレス" title="Direct link to heading">#</a></h3><table><thead><tr><th>ポート</th><th>IPアドレス</th><th>ネットマスク</th></tr></thead><tbody><tr><td>ETHER-0(eth0)</td><td>192.168.254.254</td><td>255.255.255.0</td></tr><tr><td>ETHER-1(eth1)</td><td>192.168.253.254</td><td>255.255.255.0</td></tr></tbody></table><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="推奨使用デバイスファイル"></a>推奨使用デバイスファイル<a aria-hidden="true" class="hash-link" href="#推奨使用デバイスファイル" title="Direct link to heading">#</a></h2><table><thead><tr><th>推奨デバイスファイル</th><th>対象デバイス</th></tr></thead><tbody><tr><td>/dev/ttymxc0</td><td>RS-485ポート用デバイスファイル</td></tr><tr><td>/dev/ttymxc2</td><td>RS-232Cポート用デバイスファイル</td></tr></tbody></table><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="ステータス・インジケーター表示"></a>ステータス・インジケーター表示<a aria-hidden="true" class="hash-link" href="#ステータス・インジケーター表示" title="Direct link to heading">#</a></h2><table><thead><tr><th>動作モード</th><th>LEDの状態</th></tr></thead><tbody><tr><td>パワーオン直後</td><td>黄点灯</td></tr><tr><td>OS起動後</td><td>緑点滅</td></tr><tr><td>パワーオフ時</td><td>消灯</td></tr></tbody></table><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="ssdの増設"></a>SSDの増設<a aria-hidden="true" class="hash-link" href="#ssdの増設" title="Direct link to heading">#</a></h2><p>OpenBlocks A16を運用中、データなどの保存領域が不足する場合には、オプションのストレージを増設してください。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="取り付け方法"></a>取り付け方法<a aria-hidden="true" class="hash-link" href="#取り付け方法" title="Direct link to heading">#</a></h3><ol><li>上カバーを外す</li></ol><p><img alt="obsa16_screw_out" src="/assets/images/obsa16_screw_out-5a11ebb4cf7ef37a0b5b1e513ff38c3b.png"></p><p>本体側面4か所のネジを取り外します。</p><p><img alt="obsa16_cover_out" src="/assets/images/obsa16_cover_out-4a20678d4f5dd93d899f75976e9cf843.png"></p><p>上カバーを上に持ち上げ取り外します。</p><ol start="2"><li>ストレージを取り付ける</li></ol><p><img alt="obsa16_ssd_in" src="/assets/images/obsa16_ssd_in-05d89d37885cfb73ddf4869919b00cd2.png"></p><p>M.2差込口に取り付けたいストレージを差し込みます。</p><p><img alt="obsa16_ssd_screw" src="/assets/images/obsa16_ssd_screw-8c7b772f5ee88bae427ee698bc714af2.png"></p><p>ストレージを下へ抑えながらネジを締めて固定します。</p><ol start="3"><li>上カバーを戻す</li></ol><p><img alt="obsa16_cover_in" src="/assets/images/obsa16_cover_in-98d95b7004bef7af118830db5b6504d3.png"></p><p>上カバーを取り外したときとは逆の手順で上カバーを戻します。  </p><p><img alt="obsa16_screw_in" src="/assets/images/obsa16_screw_in-267bf6434966ed9dcd4b3aa38e69b927.png"></p><p>上カバーを取り付け後、本体側面4か所のネジを締め完了です。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="設定"></a>設定<a aria-hidden="true" class="hash-link" href="#設定" title="Direct link to heading">#</a></h3><p>シリアルコンソールで接続し、rootユーザでログインします。</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="パーティションとファイルシステム"></a>パーティションとファイルシステム<a aria-hidden="true" class="hash-link" href="#パーティションとファイルシステム" title="Direct link to heading">#</a></h4><ol><li>パーティションを作成するために以下のコマンドを実行します。<br>本コマンドはパーティションテーブルをGPTで構成し、1つのパーティションを作成しています。</li></ol><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"># parted -s /dev/nvme0n1 -- mklabel gpt mkpart primary ext4 2048s -1</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><ol start="2"><li>ファイルシステムを作成するために以下のコマンドを実行します。</li></ol><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"># mkfs.ext4 /dev/nvme0n1p1</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>これで外部ストレージの準備が整いました。以下の節では、外部ストレージの二通りの使い方を紹介します。</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="データ蓄積向け設定"></a>データ蓄積向け設定<a aria-hidden="true" class="hash-link" href="#データ蓄積向け設定" title="Direct link to heading">#</a></h4><p>ディレクトリ「/media/nvme0n1p1」にデータを蓄積する場合の設定を説明します。</p><ol><li>マウント・ポイントを作成するために、以下のコマンドを実行します。</li></ol><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"># mkdir /media/nvme0n1p1</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><ol start="2"><li>起動時にマウントするために、ファイル/etc/fstabに以下の一行を追加します。<br>下記は「/dev/nvme0n1p1」を「/media/nvme0n1p1」へマウントする記載です。</li></ol><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">/dev/nvme0n1p1  /media/nvme0n1p1        ext4    defaults        1 2</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><ol start="3"><li>再起動するために、以下のコマンドを実行します。</li></ol><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"># reboot</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><ol start="4"><li>起動したらログインして、dfやmountコマンドで、外部ストレージがマウントされているか確認してください。</li></ol><p>設定を元通りにするには、ファイル/etc/fstabに追加した一行を削除するかコメント・アウトして、再起動してください。</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">#/dev/nvme0n1p1 /media/nvme0n1p1        ext4    defaults        1 2</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="overlayfsを利用した設定"></a>OverlayFSを利用した設定<a aria-hidden="true" class="hash-link" href="#overlayfsを利用した設定" title="Direct link to heading">#</a></h4><p>OevrlayFSを利用すると、既存のディレクトリの内容を引き継いで、容量を増やすことができます。ここではディレクトリ「/var/log」にOverlayFSを利用した設定を説明します。</p><ol><li>外部ストレージをマウントするために、以下のUnitファイルを用意します。<br>/etc/systemd/system/ssd.mount</li></ol><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">[Unit]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Description=/ssd</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Before=tmp.mount</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[Mount]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">What=/dev/nvme0n1p1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Where=/ssd</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Type=ext4</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[Install]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">WantedBy=multi-user.target</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>マウント・ポイント「/ssd」は、存在しなければ自動で作成されます。</p></div></div><ol start="2"><li>設定を有効にするために、以下のコマンドを実行します。</li></ol><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"># systemctl enable ssd.mount</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><ol start="3"><li>再起動するために、以下のコマンドを実行します。</li></ol><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"># reboot</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><ol start="4"><li>外部ストレージにOverlayFS用のディレクトリを作成するために、以下のコマンドを実行します。</li></ol><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"># mkdir -p /ssd/var/log</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># mkdir -p /ssd/work/var/log</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><ol start="5"><li>ディレクトリ/var/logをOverlayFSでマウントするために、以下のUnitファイルを用意します。<br>/etc/systemd/system/var-log.mount</li></ol><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">[Unit]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Description=/var/log</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">After=tmp.mount</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[Mount]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">What=overlay</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Where=/var/log</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Type=overlay</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Options=lowerdir=/var/log,upperdir=/ssd/var/log,workdir=/ssd/work/var/log</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[Install]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">WantedBy=multi-user.target</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Unitファイルのファイル名</h5></div><div class="admonition-content"><p>Unitファイルのファイル名には規則があります。ディレクトリ名「/var/log」の先頭の「/」を取り除き、途中の「/」を「-]に置き換えます。</p></div></div><ol start="6"><li>設定を有効にするために、以下のコマンドを実行します。</li></ol><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"># systemctl enable var-log.mount</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><ol start="7"><li>再起動するために、以下のコマンドを実行します。</li></ol><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"># reboot</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><ol start="8"><li>起動したらログインして、dfやmountコマンドで、外部ストレージがマウントされているか確認してください。</li></ol><p>設定を元通りにするには、まず以下のコマンドを実行します。</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"># systemctl disable ssd.mount</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"># systemctl disable var-log.mount</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>次にファイル</p><ul><li>/etc/systemd/system/ssd.mount</li><li>/etc/systemd/system/var-log.mount</li></ul><p>を削除するか別のディレクトリ(/rootなど)に移動して、再起動してください。</p></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_ thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#製品型番" class="table-of-contents__link">製品型番</a></li><li><a href="#出荷時情報設定" class="table-of-contents__link">出荷時情報設定</a><ul><li><a href="#シリアルコンソール管理者ユーザ" class="table-of-contents__link">シリアルコンソール管理者ユーザ</a></li><li><a href="#airmanage用一般ユーザ" class="table-of-contents__link">AirManage用一般ユーザ</a></li><li><a href="#ホスト名" class="table-of-contents__link">ホスト名</a></li><li><a href="#ipアドレス" class="table-of-contents__link">IPアドレス</a></li></ul></li><li><a href="#推奨使用デバイスファイル" class="table-of-contents__link">推奨使用デバイスファイル</a></li><li><a href="#ステータス・インジケーター表示" class="table-of-contents__link">ステータス・インジケーター表示</a></li><li><a href="#ssdの増設" class="table-of-contents__link">SSDの増設</a><ul><li><a href="#取り付け方法" class="table-of-contents__link">取り付け方法</a></li><li><a href="#設定" class="table-of-contents__link">設定</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">製品情報</h4><ul class="footer__items"><li class="footer__item"><a href="https://www.plathome.co.jp/product/openblocks-iot/" target="_blank" rel="noopener noreferrer" class="footer__link-item">OpenBlocks IoT</a></li><li class="footer__item"><a href="https://www.plathome.co.jp/product/openblocks/" target="_blank" rel="noopener noreferrer" class="footer__link-item">OpenBlocks - MicroServer</a></li><li class="footer__item"><a href="https://www.plathome.co.jp/product/easyblocks/" target="_blank" rel="noopener noreferrer" class="footer__link-item">EasyBlocksシリーズ</a></li><li class="footer__item"><a href="https://www.plathome.co.jp/product/airmanage2/" target="_blank" rel="noopener noreferrer" class="footer__link-item">AirManage2</a></li><li class="footer__item"><a href="https://www.plathome.co.jp/product/openblocks-idm/" target="_blank" rel="noopener noreferrer" class="footer__link-item">OpenBlocks IDMシリーズ</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">SNS</h4><ul class="footer__items"><li class="footer__item"><a href="https://www.facebook.com/plathome.co.jp/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Facebook</a></li><li class="footer__item"><a href="https://twitter.com/openblocks" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter - OpenBlocks</a></li><li class="footer__item"><a href="https://twitter.com/OBSDEV" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter - OpenBlocks開発の人</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">サポート</h4><ul class="footer__items"><li class="footer__item"><a href="https://www.plathome.co.jp/contact/" target="_blank" rel="noopener noreferrer" class="footer__link-item">お問い合わせ</a></li><li class="footer__item"><a href="https://kb.plathome.co.jp/knowledge/" target="_blank" rel="noopener noreferrer" class="footer__link-item">FAQ</a></li></ul></div></div><div class="text--center"><div>Copyright © 2020 - 2022 Plat'Home Co., Ltd. All rights reserved.</div></div></div></footer></div>
<script src="/styles.7630729b.js"></script>
<script src="/runtime~main.27e8bd9f.js"></script>
<script src="/main.dae19bd5.js"></script>
<script src="/1.85287835.js"></script>
<script src="/1a4e3797.c182544c.js"></script>
<script src="/1be78505.7feef516.js"></script>
<script src="/c4f5d8e4.34032dd6.js"></script>
<script src="/367.97ec693f.js"></script>
<script src="/366.3e9fc503.js"></script>
<script src="/935f2afb.ff2cd950.js"></script>
<script src="/365.49a4cf03.js"></script>
<script src="/aba92b8e.bd69058c.js"></script>
</body>
</html>